var XS=Object.defineProperty;var QS=(n,e,t)=>e in n?XS(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ue=(n,e,t)=>QS(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=t(l);fetch(l.href,r)}})();function qb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sf={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function ZS(){if(vy)return ge;vy=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function T(A,V,ne){this.props=A,this.context=V,this.refs=w,this.updater=ne||x}T.prototype.isReactComponent={},T.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},T.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function R(){}R.prototype=T.prototype;function B(A,V,ne){this.props=A,this.context=V,this.refs=w,this.updater=ne||x}var U=B.prototype=new R;U.constructor=B,S(U,T.prototype),U.isPureReactComponent=!0;var Y=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function F(A,V,ne,X,ae,ye){return ne=ye.ref,{$$typeof:n,type:A,key:V,ref:ne!==void 0?ne:null,props:ye}}function W(A,V){return F(A.type,V,void 0,void 0,void 0,A.props)}function q(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function K(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ne){return V[ne]})}var $=/\/+/g;function te(A,V){return typeof A=="object"&&A!==null&&A.key!=null?K(""+A.key):V.toString(36)}function oe(){}function xe(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(oe,oe):(A.status="pending",A.then(function(V){A.status==="pending"&&(A.status="fulfilled",A.value=V)},function(V){A.status==="pending"&&(A.status="rejected",A.reason=V)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Q(A,V,ne,X,ae){var ye=typeof A;(ye==="undefined"||ye==="boolean")&&(A=null);var re=!1;if(A===null)re=!0;else switch(ye){case"bigint":case"string":case"number":re=!0;break;case"object":switch(A.$$typeof){case n:case e:re=!0;break;case p:return re=A._init,Q(re(A._payload),V,ne,X,ae)}}if(re)return ae=ae(A),re=X===""?"."+te(A,0):X,Y(ae)?(ne="",re!=null&&(ne=re.replace($,"$&/")+"/"),Q(ae,V,ne,"",function(ti){return ti})):ae!=null&&(q(ae)&&(ae=W(ae,ne+(ae.key==null||A&&A.key===ae.key?"":(""+ae.key).replace($,"$&/")+"/")+re)),V.push(ae)),1;re=0;var It=X===""?".":X+":";if(Y(A))for(var qe=0;qe<A.length;qe++)X=A[qe],ye=It+te(X,qe),re+=Q(X,V,ne,ye,ae);else if(qe=_(A),typeof qe=="function")for(A=qe.call(A),qe=0;!(X=A.next()).done;)X=X.value,ye=It+te(X,qe++),re+=Q(X,V,ne,ye,ae);else if(ye==="object"){if(typeof A.then=="function")return Q(xe(A),V,ne,X,ae);throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return re}function k(A,V,ne){if(A==null)return A;var X=[],ae=0;return Q(A,X,"","",function(ye){return V.call(ne,ye,ae++)}),X}function G(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(ne){(A._status===0||A._status===-1)&&(A._status=1,A._result=ne)},function(ne){(A._status===0||A._status===-1)&&(A._status=2,A._result=ne)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var J=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function me(){}return ge.Children={map:k,forEach:function(A,V,ne){k(A,function(){V.apply(this,arguments)},ne)},count:function(A){var V=0;return k(A,function(){V++}),V},toArray:function(A){return k(A,function(V){return V})||[]},only:function(A){if(!q(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ge.Component=T,ge.Fragment=t,ge.Profiler=l,ge.PureComponent=B,ge.StrictMode=s,ge.Suspense=f,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ge.__COMPILER_RUNTIME={__proto__:null,c:function(A){return I.H.useMemoCache(A)}},ge.cache=function(A){return function(){return A.apply(null,arguments)}},ge.cloneElement=function(A,V,ne){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var X=S({},A.props),ae=A.key,ye=void 0;if(V!=null)for(re in V.ref!==void 0&&(ye=void 0),V.key!==void 0&&(ae=""+V.key),V)!Z.call(V,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&V.ref===void 0||(X[re]=V[re]);var re=arguments.length-2;if(re===1)X.children=ne;else if(1<re){for(var It=Array(re),qe=0;qe<re;qe++)It[qe]=arguments[qe+2];X.children=It}return F(A.type,ae,void 0,void 0,ye,X)},ge.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:r,_context:A},A},ge.createElement=function(A,V,ne){var X,ae={},ye=null;if(V!=null)for(X in V.key!==void 0&&(ye=""+V.key),V)Z.call(V,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ae[X]=V[X]);var re=arguments.length-2;if(re===1)ae.children=ne;else if(1<re){for(var It=Array(re),qe=0;qe<re;qe++)It[qe]=arguments[qe+2];ae.children=It}if(A&&A.defaultProps)for(X in re=A.defaultProps,re)ae[X]===void 0&&(ae[X]=re[X]);return F(A,ye,void 0,void 0,null,ae)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(A){return{$$typeof:h,render:A}},ge.isValidElement=q,ge.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:G}},ge.memo=function(A,V){return{$$typeof:m,type:A,compare:V===void 0?null:V}},ge.startTransition=function(A){var V=I.T,ne={};I.T=ne;try{var X=A(),ae=I.S;ae!==null&&ae(ne,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(me,J)}catch(ye){J(ye)}finally{I.T=V}},ge.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ge.use=function(A){return I.H.use(A)},ge.useActionState=function(A,V,ne){return I.H.useActionState(A,V,ne)},ge.useCallback=function(A,V){return I.H.useCallback(A,V)},ge.useContext=function(A){return I.H.useContext(A)},ge.useDebugValue=function(){},ge.useDeferredValue=function(A,V){return I.H.useDeferredValue(A,V)},ge.useEffect=function(A,V,ne){var X=I.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(A,V)},ge.useId=function(){return I.H.useId()},ge.useImperativeHandle=function(A,V,ne){return I.H.useImperativeHandle(A,V,ne)},ge.useInsertionEffect=function(A,V){return I.H.useInsertionEffect(A,V)},ge.useLayoutEffect=function(A,V){return I.H.useLayoutEffect(A,V)},ge.useMemo=function(A,V){return I.H.useMemo(A,V)},ge.useOptimistic=function(A,V){return I.H.useOptimistic(A,V)},ge.useReducer=function(A,V,ne){return I.H.useReducer(A,V,ne)},ge.useRef=function(A){return I.H.useRef(A)},ge.useState=function(A){return I.H.useState(A)},ge.useSyncExternalStore=function(A,V,ne){return I.H.useSyncExternalStore(A,V,ne)},ge.useTransition=function(){return I.H.useTransition()},ge.version="19.1.1",ge}var xy;function Md(){return xy||(xy=1,Sf.exports=ZS()),Sf.exports}var ie=Md();const b=qb(ie);var wf={exports:{}},Ol={},Cf={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function $S(){return Ey||(Ey=1,(function(n){function e(k,G){var J=k.length;k.push(G);e:for(;0<J;){var me=J-1>>>1,A=k[me];if(0<l(A,G))k[me]=G,k[J]=A,J=me;else break e}}function t(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var G=k[0],J=k.pop();if(J!==G){k[0]=J;e:for(var me=0,A=k.length,V=A>>>1;me<V;){var ne=2*(me+1)-1,X=k[ne],ae=ne+1,ye=k[ae];if(0>l(X,J))ae<A&&0>l(ye,X)?(k[me]=ye,k[ae]=J,me=ae):(k[me]=X,k[ne]=J,me=ne);else if(ae<A&&0>l(ye,J))k[me]=ye,k[ae]=J,me=ae;else break e}}return G}function l(k,G){var J=k.sortIndex-G.sortIndex;return J!==0?J:k.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],p=1,y=null,_=3,x=!1,S=!1,w=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function Y(k){for(var G=t(m);G!==null;){if(G.callback===null)s(m);else if(G.startTime<=k)s(m),G.sortIndex=G.expirationTime,e(f,G);else break;G=t(m)}}function I(k){if(w=!1,Y(k),!S)if(t(f)!==null)S=!0,Z||(Z=!0,te());else{var G=t(m);G!==null&&Q(I,G.startTime-k)}}var Z=!1,F=-1,W=5,q=-1;function K(){return T?!0:!(n.unstable_now()-q<W)}function $(){if(T=!1,Z){var k=n.unstable_now();q=k;var G=!0;try{e:{S=!1,w&&(w=!1,B(F),F=-1),x=!0;var J=_;try{t:{for(Y(k),y=t(f);y!==null&&!(y.expirationTime>k&&K());){var me=y.callback;if(typeof me=="function"){y.callback=null,_=y.priorityLevel;var A=me(y.expirationTime<=k);if(k=n.unstable_now(),typeof A=="function"){y.callback=A,Y(k),G=!0;break t}y===t(f)&&s(f),Y(k)}else s(f);y=t(f)}if(y!==null)G=!0;else{var V=t(m);V!==null&&Q(I,V.startTime-k),G=!1}}break e}finally{y=null,_=J,x=!1}G=void 0}}finally{G?te():Z=!1}}}var te;if(typeof U=="function")te=function(){U($)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,xe=oe.port2;oe.port1.onmessage=$,te=function(){xe.postMessage(null)}}else te=function(){R($,0)};function Q(k,G){F=R(function(){k(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(k){switch(_){case 1:case 2:case 3:var G=3;break;default:G=_}var J=_;_=G;try{return k()}finally{_=J}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function(k,G){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var J=_;_=k;try{return G()}finally{_=J}},n.unstable_scheduleCallback=function(k,G,J){var me=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?me+J:me):J=me,k){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=J+A,k={id:p++,callback:G,priorityLevel:k,startTime:J,expirationTime:A,sortIndex:-1},J>me?(k.sortIndex=J,e(m,k),t(f)===null&&k===t(m)&&(w?(B(F),F=-1):w=!0,Q(I,J-me))):(k.sortIndex=A,e(f,k),S||x||(S=!0,Z||(Z=!0,te()))),k},n.unstable_shouldYield=K,n.unstable_wrapCallback=function(k){var G=_;return function(){var J=_;_=G;try{return k.apply(this,arguments)}finally{_=J}}}})(Tf)),Tf}var Sy;function JS(){return Sy||(Sy=1,Cf.exports=$S()),Cf.exports}var Af={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function ew(){if(wy)return xt;wy=1;var n=Md();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function r(f,m,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:f,containerInfo:m,implementation:p}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xt.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return r(f,m,null,p)},xt.flushSync=function(f){var m=c.T,p=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=m,s.p=p,s.d.f()}},xt.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},xt.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},xt.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,y=h(p,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:x}):p==="script"&&s.d.X(f,{crossOrigin:y,integrity:_,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},xt.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=h(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},xt.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,y=h(p,m.crossOrigin);s.d.L(f,p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},xt.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=h(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},xt.requestFormReset=function(f){s.d.r(f)},xt.unstable_batchedUpdates=function(f,m){return f(m)},xt.useFormState=function(f,m,p){return c.H.useFormState(f,m,p)},xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},xt.version="19.1.1",xt}var Cy;function tw(){if(Cy)return Af.exports;Cy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Af.exports=ew(),Af.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function nw(){if(Ty)return Ol;Ty=1;var n=JS(),e=Md(),t=tw();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function r(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(r(i)!==i)throw Error(s(188))}function f(i){var a=i.alternate;if(!a){if(a=r(i),a===null)throw Error(s(188));return a!==i?null:i}for(var o=i,u=a;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return h(d),i;if(g===u)return h(d),a;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=d,u=g;else{for(var v=!1,E=d.child;E;){if(E===o){v=!0,o=d,u=g;break}if(E===u){v=!0,u=d,o=g;break}E=E.sibling}if(!v){for(E=g.child;E;){if(E===o){v=!0,o=g,u=d;break}if(E===u){v=!0,u=g,o=d;break}E=E.sibling}if(!v)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:a}function m(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=m(i),a!==null)return a;i=i.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),U=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=$&&i[$]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Symbol.for("react.client.reference");function xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===oe?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case Z:return"SuspenseList";case q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case U:return(i.displayName||"Context")+".Provider";case B:return(i._context.displayName||"Context")+".Consumer";case Y:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return a=i.displayName||null,a!==null?a:xe(i.type)||"Memo";case W:a=i._payload,i=i._init;try{return xe(i(a))}catch{}}return null}var Q=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},me=[],A=-1;function V(i){return{current:i}}function ne(i){0>A||(i.current=me[A],me[A]=null,A--)}function X(i,a){A++,me[A]=i.current,i.current=a}var ae=V(null),ye=V(null),re=V(null),It=V(null);function qe(i,a){switch(X(re,a),X(ye,i),X(ae,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?K0(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=K0(a),i=X0(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(ae),X(ae,i)}function ti(){ne(ae),ne(ye),ne(re)}function ou(i){i.memoizedState!==null&&X(It,i);var a=ae.current,o=X0(a,i.type);a!==o&&(X(ye,i),X(ae,o))}function ko(i){ye.current===i&&(ne(ae),ne(ye)),It.current===i&&(ne(It),Tl._currentValue=J)}var ru=Object.prototype.hasOwnProperty,cu=n.unstable_scheduleCallback,uu=n.unstable_cancelCallback,A1=n.unstable_shouldYield,N1=n.unstable_requestPaint,yn=n.unstable_now,M1=n.unstable_getCurrentPriorityLevel,Nm=n.unstable_ImmediatePriority,Mm=n.unstable_UserBlockingPriority,Lo=n.unstable_NormalPriority,D1=n.unstable_LowPriority,Dm=n.unstable_IdlePriority,O1=n.log,R1=n.unstable_setDisableYieldValue,La=null,Ht=null;function ni(i){if(typeof O1=="function"&&R1(i),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(La,i)}catch{}}var Bt=Math.clz32?Math.clz32:z1,k1=Math.log,L1=Math.LN2;function z1(i){return i>>>=0,i===0?32:31-(k1(i)/L1|0)|0}var zo=256,Io=4194304;function Yi(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ho(i,a,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var E=u&134217727;return E!==0?(u=E&~g,u!==0?d=Yi(u):(v&=E,v!==0?d=Yi(v):o||(o=E&~i,o!==0&&(d=Yi(o))))):(E=u&~g,E!==0?d=Yi(E):v!==0?d=Yi(v):o||(o=u&~i,o!==0&&(d=Yi(o)))),d===0?0:a!==0&&a!==d&&(a&g)===0&&(g=d&-d,o=a&-a,g>=o||g===32&&(o&4194048)!==0)?a:d}function za(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function I1(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Om(){var i=zo;return zo<<=1,(zo&4194048)===0&&(zo=256),i}function Rm(){var i=Io;return Io<<=1,(Io&62914560)===0&&(Io=4194304),i}function hu(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function Ia(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function H1(i,a,o,u,d,g){var v=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var E=i.entanglements,C=i.expirationTimes,O=i.hiddenUpdates;for(o=v&~o;0<o;){var H=31-Bt(o),j=1<<H;E[H]=0,C[H]=-1;var L=O[H];if(L!==null)for(O[H]=null,H=0;H<L.length;H++){var z=L[H];z!==null&&(z.lane&=-536870913)}o&=~j}u!==0&&km(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(v&~a))}function km(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-Bt(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Lm(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var u=31-Bt(o),d=1<<u;d&a|i[u]&a&&(i[u]|=a),o&=~d}}function fu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function du(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zm(){var i=G.p;return i!==0?i:(i=window.event,i===void 0?32:my(i.type))}function B1(i,a){var o=G.p;try{return G.p=i,a()}finally{G.p=o}}var ii=Math.random().toString(36).slice(2),bt="__reactFiber$"+ii,At="__reactProps$"+ii,Ns="__reactContainer$"+ii,mu="__reactEvents$"+ii,P1="__reactListeners$"+ii,U1="__reactHandles$"+ii,Im="__reactResources$"+ii,Ha="__reactMarker$"+ii;function gu(i){delete i[bt],delete i[At],delete i[mu],delete i[P1],delete i[U1]}function Ms(i){var a=i[bt];if(a)return a;for(var o=i.parentNode;o;){if(a=o[Ns]||o[bt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=J0(i);i!==null;){if(o=i[bt])return o;i=J0(i)}return a}i=o,o=i.parentNode}return null}function Ds(i){if(i=i[bt]||i[Ns]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Ba(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function Os(i){var a=i[Im];return a||(a=i[Im]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function rt(i){i[Ha]=!0}var Hm=new Set,Bm={};function qi(i,a){Rs(i,a),Rs(i+"Capture",a)}function Rs(i,a){for(Bm[i]=a,i=0;i<a.length;i++)Hm.add(a[i])}var F1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pm={},Um={};function V1(i){return ru.call(Um,i)?!0:ru.call(Pm,i)?!1:F1.test(i)?Um[i]=!0:(Pm[i]=!0,!1)}function Bo(i,a,o){if(V1(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function Po(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function Nn(i,a,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+u)}}var pu,Fm;function ks(i){if(pu===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);pu=a&&a[1]||"",Fm=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pu+i+Fm}var yu=!1;function _u(i,a){if(!i||yu)return"";yu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(z){var L=z}Reflect.construct(i,[],j)}else{try{j.call()}catch(z){L=z}i.call(j.prototype)}}else{try{throw Error()}catch(z){L=z}(j=i())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(z){if(z&&L&&typeof z.stack=="string")return[z.stack,L.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),v=g[0],E=g[1];if(v&&E){var C=v.split(`
`),O=E.split(`
`);for(d=u=0;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;for(;d<O.length&&!O[d].includes("DetermineComponentFrameRoot");)d++;if(u===C.length||d===O.length)for(u=C.length-1,d=O.length-1;1<=u&&0<=d&&C[u]!==O[d];)d--;for(;1<=u&&0<=d;u--,d--)if(C[u]!==O[d]){if(u!==1||d!==1)do if(u--,d--,0>d||C[u]!==O[d]){var H=`
`+C[u].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=u&&0<=d);break}}}finally{yu=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ks(o):""}function j1(i){switch(i.tag){case 26:case 27:case 5:return ks(i.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 15:return _u(i.type,!1);case 11:return _u(i.type.render,!1);case 1:return _u(i.type,!0);case 31:return ks("Activity");default:return""}}function Vm(i){try{var a="";do a+=j1(i),i=i.return;while(i);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Xt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function jm(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Y1(i){var a=jm(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),u=""+i[a];if(!i.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return d.call(this)},set:function(v){u=""+v,g.call(this,v)}}),Object.defineProperty(i,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Uo(i){i._valueTracker||(i._valueTracker=Y1(i))}function Ym(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return i&&(u=jm(i)?i.checked?"true":"false":i.value),i=u,i!==o?(a.setValue(i),!0):!1}function Fo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var q1=/[\n"\\]/g;function Qt(i){return i.replace(q1,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function bu(i,a,o,u,d,g,v,E){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),a!=null?v==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Xt(a)):i.value!==""+Xt(a)&&(i.value=""+Xt(a)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),a!=null?vu(i,v,Xt(a)):o!=null?vu(i,v,Xt(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Xt(E):i.removeAttribute("name")}function qm(i,a,o,u,d,g,v,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+Xt(o):"",a=a!=null?""+Xt(a):o,E||a===i.value||(i.value=a),i.defaultValue=a}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=E?i.checked:!!u,i.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v)}function vu(i,a,o){a==="number"&&Fo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ls(i,a,o,u){if(i=i.options,a){a={};for(var d=0;d<o.length;d++)a["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=a.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Xt(o),a=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}a!==null||i[d].disabled||(a=i[d])}a!==null&&(a.selected=!0)}}function Gm(i,a,o){if(a!=null&&(a=""+Xt(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+Xt(o):""}function Wm(i,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(s(92));if(Q(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=Xt(a),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function zs(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var G1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Km(i,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,o):typeof o!="number"||o===0||G1.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function Xm(i,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in a)u=a[d],a.hasOwnProperty(d)&&o[d]!==u&&Km(i,d,u)}else for(var g in a)a.hasOwnProperty(g)&&Km(i,g,a[g])}function xu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),K1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(i){return K1.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Eu=null;function Su(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Is=null,Hs=null;function Qm(i){var a=Ds(i);if(a&&(i=a.stateNode)){var o=i[At]||null;e:switch(i=a.stateNode,a.type){case"input":if(bu(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Qt(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==i&&u.form===i.form){var d=u[At]||null;if(!d)throw Error(s(90));bu(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===i.form&&Ym(u)}break e;case"textarea":Gm(i,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Ls(i,!!o.multiple,a,!1)}}}var wu=!1;function Zm(i,a,o){if(wu)return i(a,o);wu=!0;try{var u=i(a);return u}finally{if(wu=!1,(Is!==null||Hs!==null)&&(Ar(),Is&&(a=Is,i=Hs,Hs=Is=null,Qm(a),i)))for(a=0;a<i.length;a++)Qm(i[a])}}function Pa(i,a){var o=i.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=!1;if(Mn)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){Cu=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{Cu=!1}var si=null,Tu=null,jo=null;function $m(){if(jo)return jo;var i,a=Tu,o=a.length,u,d="value"in si?si.value:si.textContent,g=d.length;for(i=0;i<o&&a[i]===d[i];i++);var v=o-i;for(u=1;u<=v&&a[o-u]===d[g-u];u++);return jo=d.slice(i,1<u?1-u:void 0)}function Yo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function qo(){return!0}function Jm(){return!1}function Nt(i){function a(o,u,d,g,v){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(o=i[E],this[E]=o?o(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?qo:Jm,this.isPropagationStopped=Jm,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),a}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=Nt(Gi),Fa=p({},Gi,{view:0,detail:0}),X1=Nt(Fa),Au,Nu,Va,Wo=p({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Du,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Va&&(Va&&i.type==="mousemove"?(Au=i.screenX-Va.screenX,Nu=i.screenY-Va.screenY):Nu=Au=0,Va=i),Au)},movementY:function(i){return"movementY"in i?i.movementY:Nu}}),eg=Nt(Wo),Q1=p({},Wo,{dataTransfer:0}),Z1=Nt(Q1),$1=p({},Fa,{relatedTarget:0}),Mu=Nt($1),J1=p({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),eE=Nt(J1),tE=p({},Gi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nE=Nt(tE),iE=p({},Gi,{data:0}),tg=Nt(iE),sE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oE(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=lE[i])?!!a[i]:!1}function Du(){return oE}var rE=p({},Fa,{key:function(i){if(i.key){var a=sE[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Yo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?aE[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Du,charCode:function(i){return i.type==="keypress"?Yo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Yo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),cE=Nt(rE),uE=p({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ng=Nt(uE),hE=p({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Du}),fE=Nt(hE),dE=p({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),mE=Nt(dE),gE=p({},Wo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),pE=Nt(gE),yE=p({},Gi,{newState:0,oldState:0}),_E=Nt(yE),bE=[9,13,27,32],Ou=Mn&&"CompositionEvent"in window,ja=null;Mn&&"documentMode"in document&&(ja=document.documentMode);var vE=Mn&&"TextEvent"in window&&!ja,ig=Mn&&(!Ou||ja&&8<ja&&11>=ja),sg=" ",ag=!1;function lg(i,a){switch(i){case"keyup":return bE.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bs=!1;function xE(i,a){switch(i){case"compositionend":return og(a);case"keypress":return a.which!==32?null:(ag=!0,sg);case"textInput":return i=a.data,i===sg&&ag?null:i;default:return null}}function EE(i,a){if(Bs)return i==="compositionend"||!Ou&&lg(i,a)?(i=$m(),jo=Tu=si=null,Bs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ig&&a.locale!=="ko"?null:a.data;default:return null}}var SE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!SE[i.type]:a==="textarea"}function cg(i,a,o,u){Is?Hs?Hs.push(u):Hs=[u]:Is=u,a=kr(a,"onChange"),0<a.length&&(o=new Go("onChange","change",null,o,u),i.push({event:o,listeners:a}))}var Ya=null,qa=null;function wE(i){j0(i,0)}function Ko(i){var a=Ba(i);if(Ym(a))return i}function ug(i,a){if(i==="change")return a}var hg=!1;if(Mn){var Ru;if(Mn){var ku="oninput"in document;if(!ku){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),ku=typeof fg.oninput=="function"}Ru=ku}else Ru=!1;hg=Ru&&(!document.documentMode||9<document.documentMode)}function dg(){Ya&&(Ya.detachEvent("onpropertychange",mg),qa=Ya=null)}function mg(i){if(i.propertyName==="value"&&Ko(qa)){var a=[];cg(a,qa,i,Su(i)),Zm(wE,a)}}function CE(i,a,o){i==="focusin"?(dg(),Ya=a,qa=o,Ya.attachEvent("onpropertychange",mg)):i==="focusout"&&dg()}function TE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ko(qa)}function AE(i,a){if(i==="click")return Ko(a)}function NE(i,a){if(i==="input"||i==="change")return Ko(a)}function ME(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Pt=typeof Object.is=="function"?Object.is:ME;function Ga(i,a){if(Pt(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!ru.call(a,d)||!Pt(i[d],a[d]))return!1}return!0}function gg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pg(i,a){var o=gg(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=a&&u>=a)return{node:o,offset:a-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=gg(o)}}function yg(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?yg(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function _g(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Fo(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=Fo(i.document)}return a}function Lu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var DE=Mn&&"documentMode"in document&&11>=document.documentMode,Ps=null,zu=null,Wa=null,Iu=!1;function bg(i,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Iu||Ps==null||Ps!==Fo(u)||(u=Ps,"selectionStart"in u&&Lu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Wa&&Ga(Wa,u)||(Wa=u,u=kr(zu,"onSelect"),0<u.length&&(a=new Go("onSelect","select",null,a,o),i.push({event:a,listeners:u}),a.target=Ps)))}function Wi(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var Us={animationend:Wi("Animation","AnimationEnd"),animationiteration:Wi("Animation","AnimationIteration"),animationstart:Wi("Animation","AnimationStart"),transitionrun:Wi("Transition","TransitionRun"),transitionstart:Wi("Transition","TransitionStart"),transitioncancel:Wi("Transition","TransitionCancel"),transitionend:Wi("Transition","TransitionEnd")},Hu={},vg={};Mn&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Ki(i){if(Hu[i])return Hu[i];if(!Us[i])return i;var a=Us[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in vg)return Hu[i]=a[o];return i}var xg=Ki("animationend"),Eg=Ki("animationiteration"),Sg=Ki("animationstart"),OE=Ki("transitionrun"),RE=Ki("transitionstart"),kE=Ki("transitioncancel"),wg=Ki("transitionend"),Cg=new Map,Bu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bu.push("scrollEnd");function rn(i,a){Cg.set(i,a),qi(a,[i])}var Tg=new WeakMap;function Zt(i,a){if(typeof i=="object"&&i!==null){var o=Tg.get(i);return o!==void 0?o:(a={value:i,source:a,stack:Vm(a)},Tg.set(i,a),a)}return{value:i,source:a,stack:Vm(a)}}var $t=[],Fs=0,Pu=0;function Xo(){for(var i=Fs,a=Pu=Fs=0;a<i;){var o=$t[a];$t[a++]=null;var u=$t[a];$t[a++]=null;var d=$t[a];$t[a++]=null;var g=$t[a];if($t[a++]=null,u!==null&&d!==null){var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}g!==0&&Ag(o,d,g)}}function Qo(i,a,o,u){$t[Fs++]=i,$t[Fs++]=a,$t[Fs++]=o,$t[Fs++]=u,Pu|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Uu(i,a,o,u){return Qo(i,a,o,u),Zo(i)}function Vs(i,a){return Qo(i,null,null,a),Zo(i)}function Ag(i,a,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&a!==null&&(d=31-Bt(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[a]:u.push(a),a.lane=o|536870912),g):null}function Zo(i){if(50<_l)throw _l=0,Gh=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var js={};function LE(i,a,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(i,a,o,u){return new LE(i,a,o,u)}function Fu(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Dn(i,a){var o=i.alternate;return o===null?(o=Ut(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Ng(i,a){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function $o(i,a,o,u,d,g){var v=0;if(u=i,typeof i=="function")Fu(i)&&(v=1);else if(typeof i=="string")v=IS(i,o,ae.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case q:return i=Ut(31,o,a,d),i.elementType=q,i.lanes=g,i;case S:return Xi(o.children,d,g,a);case w:v=8,d|=24;break;case T:return i=Ut(12,o,a,d|2),i.elementType=T,i.lanes=g,i;case I:return i=Ut(13,o,a,d),i.elementType=I,i.lanes=g,i;case Z:return i=Ut(19,o,a,d),i.elementType=Z,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case U:v=10;break e;case B:v=9;break e;case Y:v=11;break e;case F:v=14;break e;case W:v=16,u=null;break e}v=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return a=Ut(v,o,a,d),a.elementType=i,a.type=u,a.lanes=g,a}function Xi(i,a,o,u){return i=Ut(7,i,u,a),i.lanes=o,i}function Vu(i,a,o){return i=Ut(6,i,null,a),i.lanes=o,i}function ju(i,a,o){return a=Ut(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Ys=[],qs=0,Jo=null,er=0,Jt=[],en=0,Qi=null,On=1,Rn="";function Zi(i,a){Ys[qs++]=er,Ys[qs++]=Jo,Jo=i,er=a}function Mg(i,a,o){Jt[en++]=On,Jt[en++]=Rn,Jt[en++]=Qi,Qi=i;var u=On;i=Rn;var d=32-Bt(u)-1;u&=~(1<<d),o+=1;var g=32-Bt(a)+d;if(30<g){var v=d-d%5;g=(u&(1<<v)-1).toString(32),u>>=v,d-=v,On=1<<32-Bt(a)+d|o<<d|u,Rn=g+i}else On=1<<g|o<<d|u,Rn=i}function Yu(i){i.return!==null&&(Zi(i,1),Mg(i,1,0))}function qu(i){for(;i===Jo;)Jo=Ys[--qs],Ys[qs]=null,er=Ys[--qs],Ys[qs]=null;for(;i===Qi;)Qi=Jt[--en],Jt[en]=null,Rn=Jt[--en],Jt[en]=null,On=Jt[--en],Jt[en]=null}var Ct=null,Ke=null,De=!1,$i=null,_n=!1,Gu=Error(s(519));function Ji(i){var a=Error(s(418,""));throw Qa(Zt(a,i)),Gu}function Dg(i){var a=i.stateNode,o=i.type,u=i.memoizedProps;switch(a[bt]=i,a[At]=u,o){case"dialog":Se("cancel",a),Se("close",a);break;case"iframe":case"object":case"embed":Se("load",a);break;case"video":case"audio":for(o=0;o<vl.length;o++)Se(vl[o],a);break;case"source":Se("error",a);break;case"img":case"image":case"link":Se("error",a),Se("load",a);break;case"details":Se("toggle",a);break;case"input":Se("invalid",a),qm(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Uo(a);break;case"select":Se("invalid",a);break;case"textarea":Se("invalid",a),Wm(a,u.value,u.defaultValue,u.children),Uo(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||W0(a.textContent,o)?(u.popover!=null&&(Se("beforetoggle",a),Se("toggle",a)),u.onScroll!=null&&Se("scroll",a),u.onScrollEnd!=null&&Se("scrollend",a),u.onClick!=null&&(a.onclick=Lr),a=!0):a=!1,a||Ji(i)}function Og(i){for(Ct=i.return;Ct;)switch(Ct.tag){case 5:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:Ct=Ct.return}}function Ka(i){if(i!==Ct)return!1;if(!De)return Og(i),De=!0,!1;var a=i.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||cf(i.type,i.memoizedProps)),o=!o),o&&Ke&&Ji(i),Og(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(a===0){Ke=un(i.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;i=i.nextSibling}Ke=null}}else a===27?(a=Ke,vi(i.type)?(i=df,df=null,Ke=i):Ke=a):Ke=Ct?un(i.stateNode.nextSibling):null;return!0}function Xa(){Ke=Ct=null,De=!1}function Rg(){var i=$i;return i!==null&&(Ot===null?Ot=i:Ot.push.apply(Ot,i),$i=null),i}function Qa(i){$i===null?$i=[i]:$i.push(i)}var Wu=V(null),es=null,kn=null;function ai(i,a,o){X(Wu,a._currentValue),a._currentValue=o}function Ln(i){i._currentValue=Wu.current,ne(Wu)}function Ku(i,a,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===o)break;i=i.return}}function Xu(i,a,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var v=d.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=d;for(var C=0;C<a.length;C++)if(E.context===a[C]){g.lanes|=o,E=g.alternate,E!==null&&(E.lanes|=o),Ku(g.return,o,i),u||(v=null);break e}g=E.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=o,g=v.alternate,g!==null&&(g.lanes|=o),Ku(v,o,i),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===i){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Za(i,a,o,u){i=null;for(var d=a,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=d.type;Pt(d.pendingProps.value,v.value)||(i!==null?i.push(E):i=[E])}}else if(d===It.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Tl):i=[Tl])}d=d.return}i!==null&&Xu(a,i,o,u),a.flags|=262144}function tr(i){for(i=i.firstContext;i!==null;){if(!Pt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ts(i){es=i,kn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function vt(i){return kg(es,i)}function nr(i,a){return es===null&&ts(i),kg(i,a)}function kg(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},kn===null){if(i===null)throw Error(s(308));kn=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else kn=kn.next=a;return o}var zE=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},IE=n.unstable_scheduleCallback,HE=n.unstable_NormalPriority,st={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qu(){return{controller:new zE,data:new Map,refCount:0}}function $a(i){i.refCount--,i.refCount===0&&IE(HE,function(){i.controller.abort()})}var Ja=null,Zu=0,Gs=0,Ws=null;function BE(i,a){if(Ja===null){var o=Ja=[];Zu=0,Gs=Jh(),Ws={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Zu++,a.then(Lg,Lg),a}function Lg(){if(--Zu===0&&Ja!==null){Ws!==null&&(Ws.status="fulfilled");var i=Ja;Ja=null,Gs=0,Ws=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function PE(i,a){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var d=0;d<o.length;d++)(0,o[d])(a)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var zg=k.S;k.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&BE(i,a),zg!==null&&zg(i,a)};var ns=V(null);function $u(){var i=ns.current;return i!==null?i:Ue.pooledCache}function ir(i,a){a===null?X(ns,ns.current):X(ns,a.pool)}function Ig(){var i=$u();return i===null?null:{parent:st._currentValue,pool:i}}var el=Error(s(460)),Hg=Error(s(474)),sr=Error(s(542)),Ju={then:function(){}};function Bg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ar(){}function Pg(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then(ar,ar),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Fg(i),i;default:if(typeof a.status=="string")a.then(ar,ar);else{if(i=Ue,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=u}},function(u){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Fg(i),i}throw tl=a,el}}var tl=null;function Ug(){if(tl===null)throw Error(s(459));var i=tl;return tl=null,i}function Fg(i){if(i===el||i===sr)throw Error(s(483))}var li=!1;function eh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function th(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function oi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ri(i,a,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Re&2)!==0){var d=u.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a,a=Zo(i),Ag(i,null,o),a}return Qo(i,u,a,o),Zo(i)}function nl(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,o|=u,a.lanes=o,Lm(i,o)}}function nh(i,a){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var v={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=v:g=g.next=v,o=o.next}while(o!==null);g===null?d=g=a:g=g.next=a}else d=g=a;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var ih=!1;function il(){if(ih){var i=Ws;if(i!==null)throw i}}function sl(i,a,o,u){ih=!1;var d=i.updateQueue;li=!1;var g=d.firstBaseUpdate,v=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var C=E,O=C.next;C.next=null,v===null?g=O:v.next=O,v=C;var H=i.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==v&&(E===null?H.firstBaseUpdate=O:E.next=O,H.lastBaseUpdate=C))}if(g!==null){var j=d.baseState;v=0,H=O=C=null,E=g;do{var L=E.lane&-536870913,z=L!==E.lane;if(z?(Ae&L)===L:(u&L)===L){L!==0&&L===Gs&&(ih=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var de=i,ce=E;L=a;var He=o;switch(ce.tag){case 1:if(de=ce.payload,typeof de=="function"){j=de.call(He,j,L);break e}j=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ce.payload,L=typeof de=="function"?de.call(He,j,L):de,L==null)break e;j=p({},j,L);break e;case 2:li=!0}}L=E.callback,L!==null&&(i.flags|=64,z&&(i.flags|=8192),z=d.callbacks,z===null?d.callbacks=[L]:z.push(L))}else z={lane:L,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(O=H=z,C=j):H=H.next=z,v|=L;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;z=E,E=z.next,z.next=null,d.lastBaseUpdate=z,d.shared.pending=null}}while(!0);H===null&&(C=j),d.baseState=C,d.firstBaseUpdate=O,d.lastBaseUpdate=H,g===null&&(d.shared.lanes=0),pi|=v,i.lanes=v,i.memoizedState=j}}function Vg(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function jg(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Vg(o[i],a)}var Ks=V(null),lr=V(0);function Yg(i,a){i=Fn,X(lr,i),X(Ks,a),Fn=i|a.baseLanes}function sh(){X(lr,Fn),X(Ks,Ks.current)}function ah(){Fn=lr.current,ne(Ks),ne(lr)}var ci=0,pe=null,ze=null,et=null,or=!1,Xs=!1,is=!1,rr=0,al=0,Qs=null,UE=0;function Ze(){throw Error(s(321))}function lh(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!Pt(i[o],a[o]))return!1;return!0}function oh(i,a,o,u,d,g){return ci=g,pe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,k.H=i===null||i.memoizedState===null?Ap:Np,is=!1,g=o(u,d),is=!1,Xs&&(g=Gg(a,o,u,d)),qg(i),g}function qg(i){k.H=mr;var a=ze!==null&&ze.next!==null;if(ci=0,et=ze=pe=null,or=!1,al=0,Qs=null,a)throw Error(s(300));i===null||ct||(i=i.dependencies,i!==null&&tr(i)&&(ct=!0))}function Gg(i,a,o,u){pe=i;var d=0;do{if(Xs&&(Qs=null),al=0,Xs=!1,25<=d)throw Error(s(301));if(d+=1,et=ze=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}k.H=WE,g=a(o,u)}while(Xs);return g}function FE(){var i=k.H,a=i.useState()[0];return a=typeof a.then=="function"?ll(a):a,i=i.useState()[0],(ze!==null?ze.memoizedState:null)!==i&&(pe.flags|=1024),a}function rh(){var i=rr!==0;return rr=0,i}function ch(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function uh(i){if(or){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}or=!1}ci=0,et=ze=pe=null,Xs=!1,al=rr=0,Qs=null}function Mt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?pe.memoizedState=et=i:et=et.next=i,et}function tt(){if(ze===null){var i=pe.alternate;i=i!==null?i.memoizedState:null}else i=ze.next;var a=et===null?pe.memoizedState:et.next;if(a!==null)et=a,ze=i;else{if(i===null)throw pe.alternate===null?Error(s(467)):Error(s(310));ze=i,i={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},et===null?pe.memoizedState=et=i:et=et.next=i}return et}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(i){var a=al;return al+=1,Qs===null&&(Qs=[]),i=Pg(Qs,i,a),a=pe,(et===null?a.memoizedState:et.next)===null&&(a=a.alternate,k.H=a===null||a.memoizedState===null?Ap:Np),i}function cr(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ll(i);if(i.$$typeof===U)return vt(i)}throw Error(s(438,String(i)))}function fh(i){var a=null,o=pe.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=hh(),pe.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),u=0;u<i;u++)o[u]=K;return a.index++,o}function zn(i,a){return typeof a=="function"?a(i):a}function ur(i){var a=tt();return dh(a,ze,i)}function dh(i,a,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var v=d.next;d.next=g.next,g.next=v}a.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{a=d.next;var E=v=null,C=null,O=a,H=!1;do{var j=O.lane&-536870913;if(j!==O.lane?(Ae&j)===j:(ci&j)===j){var L=O.revertLane;if(L===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),j===Gs&&(H=!0);else if((ci&L)===L){O=O.next,L===Gs&&(H=!0);continue}else j={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},C===null?(E=C=j,v=g):C=C.next=j,pe.lanes|=L,pi|=L;j=O.action,is&&o(g,j),g=O.hasEagerState?O.eagerState:o(g,j)}else L={lane:j,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},C===null?(E=C=L,v=g):C=C.next=L,pe.lanes|=j,pi|=j;O=O.next}while(O!==null&&O!==a);if(C===null?v=g:C.next=E,!Pt(g,i.memoizedState)&&(ct=!0,H&&(o=Ws,o!==null)))throw o;i.memoizedState=g,i.baseState=v,i.baseQueue=C,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function mh(i){var a=tt(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=a.memoizedState;if(d!==null){o.pending=null;var v=d=d.next;do g=i(g,v.action),v=v.next;while(v!==d);Pt(g,a.memoizedState)||(ct=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,u]}function Wg(i,a,o){var u=pe,d=tt(),g=De;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=a();var v=!Pt((ze||d).memoizedState,o);v&&(d.memoizedState=o,ct=!0),d=d.queue;var E=Qg.bind(null,u,d,i);if(ol(2048,8,E,[i]),d.getSnapshot!==a||v||et!==null&&et.memoizedState.tag&1){if(u.flags|=2048,Zs(9,hr(),Xg.bind(null,u,d,o,a),null),Ue===null)throw Error(s(349));g||(ci&124)!==0||Kg(u,a,o)}return o}function Kg(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=pe.updateQueue,a===null?(a=hh(),pe.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function Xg(i,a,o,u){a.value=o,a.getSnapshot=u,Zg(a)&&$g(i)}function Qg(i,a,o){return o(function(){Zg(a)&&$g(i)})}function Zg(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!Pt(i,o)}catch{return!0}}function $g(i){var a=Vs(i,2);a!==null&&qt(a,i,2)}function gh(i){var a=Mt();if(typeof i=="function"){var o=i;if(i=o(),is){ni(!0);try{o()}finally{ni(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:i},a}function Jg(i,a,o,u){return i.baseState=o,dh(i,ze,typeof u=="function"?u:zn)}function VE(i,a,o,u,d){if(dr(i))throw Error(s(485));if(i=a.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){g.listeners.push(v)}};k.T!==null?o(!0):g.isTransition=!1,u(g),o=a.pending,o===null?(g.next=a.pending=g,ep(a,g)):(g.next=o.next,a.pending=o.next=g)}}function ep(i,a){var o=a.action,u=a.payload,d=i.state;if(a.isTransition){var g=k.T,v={};k.T=v;try{var E=o(d,u),C=k.S;C!==null&&C(v,E),tp(i,a,E)}catch(O){ph(i,a,O)}finally{k.T=g}}else try{g=o(d,u),tp(i,a,g)}catch(O){ph(i,a,O)}}function tp(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){np(i,a,u)},function(u){return ph(i,a,u)}):np(i,a,o)}function np(i,a,o){a.status="fulfilled",a.value=o,ip(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,ep(i,o)))}function ph(i,a,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,ip(a),a=a.next;while(a!==u)}i.action=null}function ip(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function sp(i,a){return a}function ap(i,a){if(De){var o=Ue.formState;if(o!==null){e:{var u=pe;if(De){if(Ke){t:{for(var d=Ke,g=_n;d.nodeType!==8;){if(!g){d=null;break t}if(d=un(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Ke=un(d.nextSibling),u=d.data==="F!";break e}}Ji(u)}u=!1}u&&(a=o[0])}}return o=Mt(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:a},o.queue=u,o=wp.bind(null,pe,u),u.dispatch=o,u=gh(!1),g=xh.bind(null,pe,!1,u.queue),u=Mt(),d={state:a,dispatch:null,action:i,pending:null},u.queue=d,o=VE.bind(null,pe,d,g,o),d.dispatch=o,u.memoizedState=i,[a,o,!1]}function lp(i){var a=tt();return op(a,ze,i)}function op(i,a,o){if(a=dh(i,a,sp)[0],i=ur(zn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=ll(a)}catch(v){throw v===el?sr:v}else u=a;a=tt();var d=a.queue,g=d.dispatch;return o!==a.memoizedState&&(pe.flags|=2048,Zs(9,hr(),jE.bind(null,d,o),null)),[u,g,i]}function jE(i,a){i.action=a}function rp(i){var a=tt(),o=ze;if(o!==null)return op(a,o,i);tt(),a=a.memoizedState,o=tt();var u=o.queue.dispatch;return o.memoizedState=i,[a,u,!1]}function Zs(i,a,o,u){return i={tag:i,create:o,deps:u,inst:a,next:null},a=pe.updateQueue,a===null&&(a=hh(),pe.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,a.lastEffect=i),i}function hr(){return{destroy:void 0,resource:void 0}}function cp(){return tt().memoizedState}function fr(i,a,o,u){var d=Mt();u=u===void 0?null:u,pe.flags|=i,d.memoizedState=Zs(1|a,hr(),o,u)}function ol(i,a,o,u){var d=tt();u=u===void 0?null:u;var g=d.memoizedState.inst;ze!==null&&u!==null&&lh(u,ze.memoizedState.deps)?d.memoizedState=Zs(a,g,o,u):(pe.flags|=i,d.memoizedState=Zs(1|a,g,o,u))}function up(i,a){fr(8390656,8,i,a)}function hp(i,a){ol(2048,8,i,a)}function fp(i,a){return ol(4,2,i,a)}function dp(i,a){return ol(4,4,i,a)}function mp(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function gp(i,a,o){o=o!=null?o.concat([i]):null,ol(4,4,mp.bind(null,a,i),o)}function yh(){}function pp(i,a){var o=tt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&lh(a,u[1])?u[0]:(o.memoizedState=[i,a],i)}function yp(i,a){var o=tt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&lh(a,u[1]))return u[0];if(u=i(),is){ni(!0);try{i()}finally{ni(!1)}}return o.memoizedState=[u,a],u}function _h(i,a,o){return o===void 0||(ci&1073741824)!==0?i.memoizedState=a:(i.memoizedState=o,i=v0(),pe.lanes|=i,pi|=i,o)}function _p(i,a,o,u){return Pt(o,a)?o:Ks.current!==null?(i=_h(i,o,u),Pt(i,a)||(ct=!0),i):(ci&42)===0?(ct=!0,i.memoizedState=o):(i=v0(),pe.lanes|=i,pi|=i,a)}function bp(i,a,o,u,d){var g=G.p;G.p=g!==0&&8>g?g:8;var v=k.T,E={};k.T=E,xh(i,!1,a,o);try{var C=d(),O=k.S;if(O!==null&&O(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=PE(C,u);rl(i,a,H,Yt(i))}else rl(i,a,u,Yt(i))}catch(j){rl(i,a,{then:function(){},status:"rejected",reason:j},Yt())}finally{G.p=g,k.T=v}}function YE(){}function bh(i,a,o,u){if(i.tag!==5)throw Error(s(476));var d=vp(i).queue;bp(i,d,a,J,o===null?YE:function(){return xp(i),o(u)})}function vp(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:J},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function xp(i){var a=vp(i).next.queue;rl(i,a,{},Yt())}function vh(){return vt(Tl)}function Ep(){return tt().memoizedState}function Sp(){return tt().memoizedState}function qE(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=Yt();i=oi(o);var u=ri(a,i,o);u!==null&&(qt(u,a,o),nl(u,a,o)),a={cache:Qu()},i.payload=a;return}a=a.return}}function GE(i,a,o){var u=Yt();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},dr(i)?Cp(a,o):(o=Uu(i,a,o,u),o!==null&&(qt(o,i,u),Tp(o,a,u)))}function wp(i,a,o){var u=Yt();rl(i,a,o,u)}function rl(i,a,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(dr(i))Cp(a,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var v=a.lastRenderedState,E=g(v,o);if(d.hasEagerState=!0,d.eagerState=E,Pt(E,v))return Qo(i,a,d,0),Ue===null&&Xo(),!1}catch{}finally{}if(o=Uu(i,a,d,u),o!==null)return qt(o,i,u),Tp(o,a,u),!0}return!1}function xh(i,a,o,u){if(u={lane:2,revertLane:Jh(),action:u,hasEagerState:!1,eagerState:null,next:null},dr(i)){if(a)throw Error(s(479))}else a=Uu(i,o,u,2),a!==null&&qt(a,i,2)}function dr(i){var a=i.alternate;return i===pe||a!==null&&a===pe}function Cp(i,a){Xs=or=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function Tp(i,a,o){if((o&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,o|=u,a.lanes=o,Lm(i,o)}}var mr={readContext:vt,use:cr,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze},Ap={readContext:vt,use:cr,useCallback:function(i,a){return Mt().memoizedState=[i,a===void 0?null:a],i},useContext:vt,useEffect:up,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,fr(4194308,4,mp.bind(null,a,i),o)},useLayoutEffect:function(i,a){return fr(4194308,4,i,a)},useInsertionEffect:function(i,a){fr(4,2,i,a)},useMemo:function(i,a){var o=Mt();a=a===void 0?null:a;var u=i();if(is){ni(!0);try{i()}finally{ni(!1)}}return o.memoizedState=[u,a],u},useReducer:function(i,a,o){var u=Mt();if(o!==void 0){var d=o(a);if(is){ni(!0);try{o(a)}finally{ni(!1)}}}else d=a;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=GE.bind(null,pe,i),[u.memoizedState,i]},useRef:function(i){var a=Mt();return i={current:i},a.memoizedState=i},useState:function(i){i=gh(i);var a=i.queue,o=wp.bind(null,pe,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:yh,useDeferredValue:function(i,a){var o=Mt();return _h(o,i,a)},useTransition:function(){var i=gh(!1);return i=bp.bind(null,pe,i.queue,!0,!1),Mt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var u=pe,d=Mt();if(De){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),Ue===null)throw Error(s(349));(Ae&124)!==0||Kg(u,a,o)}d.memoizedState=o;var g={value:o,getSnapshot:a};return d.queue=g,up(Qg.bind(null,u,g,i),[i]),u.flags|=2048,Zs(9,hr(),Xg.bind(null,u,g,o,a),null),o},useId:function(){var i=Mt(),a=Ue.identifierPrefix;if(De){var o=Rn,u=On;o=(u&~(1<<32-Bt(u)-1)).toString(32)+o,a=""+a+"R"+o,o=rr++,0<o&&(a+="H"+o.toString(32)),a+=""}else o=UE++,a=""+a+"r"+o.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:vh,useFormState:ap,useActionState:ap,useOptimistic:function(i){var a=Mt();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=xh.bind(null,pe,!0,o),o.dispatch=a,[i,a]},useMemoCache:fh,useCacheRefresh:function(){return Mt().memoizedState=qE.bind(null,pe)}},Np={readContext:vt,use:cr,useCallback:pp,useContext:vt,useEffect:hp,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:yp,useReducer:ur,useRef:cp,useState:function(){return ur(zn)},useDebugValue:yh,useDeferredValue:function(i,a){var o=tt();return _p(o,ze.memoizedState,i,a)},useTransition:function(){var i=ur(zn)[0],a=tt().memoizedState;return[typeof i=="boolean"?i:ll(i),a]},useSyncExternalStore:Wg,useId:Ep,useHostTransitionStatus:vh,useFormState:lp,useActionState:lp,useOptimistic:function(i,a){var o=tt();return Jg(o,ze,i,a)},useMemoCache:fh,useCacheRefresh:Sp},WE={readContext:vt,use:cr,useCallback:pp,useContext:vt,useEffect:hp,useImperativeHandle:gp,useInsertionEffect:fp,useLayoutEffect:dp,useMemo:yp,useReducer:mh,useRef:cp,useState:function(){return mh(zn)},useDebugValue:yh,useDeferredValue:function(i,a){var o=tt();return ze===null?_h(o,i,a):_p(o,ze.memoizedState,i,a)},useTransition:function(){var i=mh(zn)[0],a=tt().memoizedState;return[typeof i=="boolean"?i:ll(i),a]},useSyncExternalStore:Wg,useId:Ep,useHostTransitionStatus:vh,useFormState:rp,useActionState:rp,useOptimistic:function(i,a){var o=tt();return ze!==null?Jg(o,ze,i,a):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:fh,useCacheRefresh:Sp},$s=null,cl=0;function gr(i){var a=cl;return cl+=1,$s===null&&($s=[]),Pg($s,i,a)}function ul(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function pr(i,a){throw a.$$typeof===y?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Mp(i){var a=i._init;return a(i._payload)}function Dp(i){function a(M,N){if(i){var D=M.deletions;D===null?(M.deletions=[N],M.flags|=16):D.push(N)}}function o(M,N){if(!i)return null;for(;N!==null;)a(M,N),N=N.sibling;return null}function u(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function d(M,N){return M=Dn(M,N),M.index=0,M.sibling=null,M}function g(M,N,D){return M.index=D,i?(D=M.alternate,D!==null?(D=D.index,D<N?(M.flags|=67108866,N):D):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function v(M){return i&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,D,P){return N===null||N.tag!==6?(N=Vu(D,M.mode,P),N.return=M,N):(N=d(N,D),N.return=M,N)}function C(M,N,D,P){var se=D.type;return se===S?H(M,N,D.props.children,P,D.key):N!==null&&(N.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===W&&Mp(se)===N.type)?(N=d(N,D.props),ul(N,D),N.return=M,N):(N=$o(D.type,D.key,D.props,null,M.mode,P),ul(N,D),N.return=M,N)}function O(M,N,D,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=ju(D,M.mode,P),N.return=M,N):(N=d(N,D.children||[]),N.return=M,N)}function H(M,N,D,P,se){return N===null||N.tag!==7?(N=Xi(D,M.mode,P,se),N.return=M,N):(N=d(N,D),N.return=M,N)}function j(M,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Vu(""+N,M.mode,D),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return D=$o(N.type,N.key,N.props,null,M.mode,D),ul(D,N),D.return=M,D;case x:return N=ju(N,M.mode,D),N.return=M,N;case W:var P=N._init;return N=P(N._payload),j(M,N,D)}if(Q(N)||te(N))return N=Xi(N,M.mode,D,null),N.return=M,N;if(typeof N.then=="function")return j(M,gr(N),D);if(N.$$typeof===U)return j(M,nr(M,N),D);pr(M,N)}return null}function L(M,N,D,P){var se=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return se!==null?null:E(M,N,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case _:return D.key===se?C(M,N,D,P):null;case x:return D.key===se?O(M,N,D,P):null;case W:return se=D._init,D=se(D._payload),L(M,N,D,P)}if(Q(D)||te(D))return se!==null?null:H(M,N,D,P,null);if(typeof D.then=="function")return L(M,N,gr(D),P);if(D.$$typeof===U)return L(M,N,nr(M,D),P);pr(M,D)}return null}function z(M,N,D,P,se){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return M=M.get(D)||null,E(N,M,""+P,se);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return M=M.get(P.key===null?D:P.key)||null,C(N,M,P,se);case x:return M=M.get(P.key===null?D:P.key)||null,O(N,M,P,se);case W:var _e=P._init;return P=_e(P._payload),z(M,N,D,P,se)}if(Q(P)||te(P))return M=M.get(D)||null,H(N,M,P,se,null);if(typeof P.then=="function")return z(M,N,D,gr(P),se);if(P.$$typeof===U)return z(M,N,D,nr(N,P),se);pr(N,P)}return null}function de(M,N,D,P){for(var se=null,_e=null,le=N,he=N=0,ht=null;le!==null&&he<D.length;he++){le.index>he?(ht=le,le=null):ht=le.sibling;var Ne=L(M,le,D[he],P);if(Ne===null){le===null&&(le=ht);break}i&&le&&Ne.alternate===null&&a(M,le),N=g(Ne,N,he),_e===null?se=Ne:_e.sibling=Ne,_e=Ne,le=ht}if(he===D.length)return o(M,le),De&&Zi(M,he),se;if(le===null){for(;he<D.length;he++)le=j(M,D[he],P),le!==null&&(N=g(le,N,he),_e===null?se=le:_e.sibling=le,_e=le);return De&&Zi(M,he),se}for(le=u(le);he<D.length;he++)ht=z(le,M,he,D[he],P),ht!==null&&(i&&ht.alternate!==null&&le.delete(ht.key===null?he:ht.key),N=g(ht,N,he),_e===null?se=ht:_e.sibling=ht,_e=ht);return i&&le.forEach(function(Ci){return a(M,Ci)}),De&&Zi(M,he),se}function ce(M,N,D,P){if(D==null)throw Error(s(151));for(var se=null,_e=null,le=N,he=N=0,ht=null,Ne=D.next();le!==null&&!Ne.done;he++,Ne=D.next()){le.index>he?(ht=le,le=null):ht=le.sibling;var Ci=L(M,le,Ne.value,P);if(Ci===null){le===null&&(le=ht);break}i&&le&&Ci.alternate===null&&a(M,le),N=g(Ci,N,he),_e===null?se=Ci:_e.sibling=Ci,_e=Ci,le=ht}if(Ne.done)return o(M,le),De&&Zi(M,he),se;if(le===null){for(;!Ne.done;he++,Ne=D.next())Ne=j(M,Ne.value,P),Ne!==null&&(N=g(Ne,N,he),_e===null?se=Ne:_e.sibling=Ne,_e=Ne);return De&&Zi(M,he),se}for(le=u(le);!Ne.done;he++,Ne=D.next())Ne=z(le,M,he,Ne.value,P),Ne!==null&&(i&&Ne.alternate!==null&&le.delete(Ne.key===null?he:Ne.key),N=g(Ne,N,he),_e===null?se=Ne:_e.sibling=Ne,_e=Ne);return i&&le.forEach(function(KS){return a(M,KS)}),De&&Zi(M,he),se}function He(M,N,D,P){if(typeof D=="object"&&D!==null&&D.type===S&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case _:e:{for(var se=D.key;N!==null;){if(N.key===se){if(se=D.type,se===S){if(N.tag===7){o(M,N.sibling),P=d(N,D.props.children),P.return=M,M=P;break e}}else if(N.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===W&&Mp(se)===N.type){o(M,N.sibling),P=d(N,D.props),ul(P,D),P.return=M,M=P;break e}o(M,N);break}else a(M,N);N=N.sibling}D.type===S?(P=Xi(D.props.children,M.mode,P,D.key),P.return=M,M=P):(P=$o(D.type,D.key,D.props,null,M.mode,P),ul(P,D),P.return=M,M=P)}return v(M);case x:e:{for(se=D.key;N!==null;){if(N.key===se)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){o(M,N.sibling),P=d(N,D.children||[]),P.return=M,M=P;break e}else{o(M,N);break}else a(M,N);N=N.sibling}P=ju(D,M.mode,P),P.return=M,M=P}return v(M);case W:return se=D._init,D=se(D._payload),He(M,N,D,P)}if(Q(D))return de(M,N,D,P);if(te(D)){if(se=te(D),typeof se!="function")throw Error(s(150));return D=se.call(D),ce(M,N,D,P)}if(typeof D.then=="function")return He(M,N,gr(D),P);if(D.$$typeof===U)return He(M,N,nr(M,D),P);pr(M,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(o(M,N.sibling),P=d(N,D),P.return=M,M=P):(o(M,N),P=Vu(D,M.mode,P),P.return=M,M=P),v(M)):o(M,N)}return function(M,N,D,P){try{cl=0;var se=He(M,N,D,P);return $s=null,se}catch(le){if(le===el||le===sr)throw le;var _e=Ut(29,le,null,M.mode);return _e.lanes=P,_e.return=M,_e}finally{}}}var Js=Dp(!0),Op=Dp(!1),tn=V(null),bn=null;function ui(i){var a=i.alternate;X(at,at.current&1),X(tn,i),bn===null&&(a===null||Ks.current!==null||a.memoizedState!==null)&&(bn=i)}function Rp(i){if(i.tag===22){if(X(at,at.current),X(tn,i),bn===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(bn=i)}}else hi()}function hi(){X(at,at.current),X(tn,tn.current)}function In(i){ne(tn),bn===i&&(bn=null),ne(at)}var at=V(0);function yr(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ff(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Eh(i,a,o,u){a=i.memoizedState,o=o(u,a),o=o==null?a:p({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Sh={enqueueSetState:function(i,a,o){i=i._reactInternals;var u=Yt(),d=oi(u);d.payload=a,o!=null&&(d.callback=o),a=ri(i,d,u),a!==null&&(qt(a,i,u),nl(a,i,u))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var u=Yt(),d=oi(u);d.tag=1,d.payload=a,o!=null&&(d.callback=o),a=ri(i,d,u),a!==null&&(qt(a,i,u),nl(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=Yt(),u=oi(o);u.tag=2,a!=null&&(u.callback=a),a=ri(i,u,o),a!==null&&(qt(a,i,o),nl(a,i,o))}};function kp(i,a,o,u,d,g,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,v):a.prototype&&a.prototype.isPureReactComponent?!Ga(o,u)||!Ga(d,g):!0}function Lp(i,a,o,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==i&&Sh.enqueueReplaceState(a,a.state,null)}function ss(i,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(i=i.defaultProps){o===a&&(o=p({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}var _r=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function zp(i){_r(i)}function Ip(i){console.error(i)}function Hp(i){_r(i)}function br(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Bp(i,a,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function wh(i,a,o){return o=oi(o),o.tag=3,o.payload={element:null},o.callback=function(){br(i,a)},o}function Pp(i){return i=oi(i),i.tag=3,i}function Up(i,a,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){Bp(a,o,u)}}var v=o.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){Bp(a,o,u),typeof d!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function KE(i,a,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Za(a,o,d,!0),o=tn.current,o!==null){switch(o.tag){case 13:return bn===null?Kh():o.alternate===null&&Xe===0&&(Xe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Ju?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Qh(i,u,d)),!1;case 22:return o.flags|=65536,u===Ju?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Qh(i,u,d)),!1}throw Error(s(435,o.tag))}return Qh(i,u,d),Kh(),!1}if(De)return a=tn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,u!==Gu&&(i=Error(s(422),{cause:u}),Qa(Zt(i,o)))):(u!==Gu&&(a=Error(s(423),{cause:u}),Qa(Zt(a,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Zt(u,o),d=wh(i.stateNode,u,d),nh(i,d),Xe!==4&&(Xe=2)),!1;var g=Error(s(520),{cause:u});if(g=Zt(g,o),yl===null?yl=[g]:yl.push(g),Xe!==4&&(Xe=2),a===null)return!0;u=Zt(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=wh(o.stateNode,u,i),nh(o,i),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(yi===null||!yi.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Pp(d),Up(d,i,o,u),nh(o,d),!1}o=o.return}while(o!==null);return!1}var Fp=Error(s(461)),ct=!1;function gt(i,a,o,u){a.child=i===null?Op(a,null,o,u):Js(a,i.child,o,u)}function Vp(i,a,o,u,d){o=o.render;var g=a.ref;if("ref"in u){var v={};for(var E in u)E!=="ref"&&(v[E]=u[E])}else v=u;return ts(a),u=oh(i,a,o,v,g,d),E=rh(),i!==null&&!ct?(ch(i,a,d),Hn(i,a,d)):(De&&E&&Yu(a),a.flags|=1,gt(i,a,u,d),a.child)}function jp(i,a,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Fu(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,Yp(i,a,g,u,d)):(i=$o(o.type,null,u,a,a.mode,d),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!Rh(i,d)){var v=g.memoizedProps;if(o=o.compare,o=o!==null?o:Ga,o(v,u)&&i.ref===a.ref)return Hn(i,a,d)}return a.flags|=1,i=Dn(g,u),i.ref=a.ref,i.return=a,a.child=i}function Yp(i,a,o,u,d){if(i!==null){var g=i.memoizedProps;if(Ga(g,u)&&i.ref===a.ref)if(ct=!1,a.pendingProps=u=g,Rh(i,d))(i.flags&131072)!==0&&(ct=!0);else return a.lanes=i.lanes,Hn(i,a,d)}return Ch(i,a,o,u,d)}function qp(i,a,o){var u=a.pendingProps,d=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(d=a.child=i.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return Gp(i,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&ir(a,g!==null?g.cachePool:null),g!==null?Yg(a,g):sh(),Rp(a);else return a.lanes=a.childLanes=536870912,Gp(i,a,g!==null?g.baseLanes|o:o,o)}else g!==null?(ir(a,g.cachePool),Yg(a,g),hi(),a.memoizedState=null):(i!==null&&ir(a,null),sh(),hi());return gt(i,a,d,o),a.child}function Gp(i,a,o,u){var d=$u();return d=d===null?null:{parent:st._currentValue,pool:d},a.memoizedState={baseLanes:o,cachePool:d},i!==null&&ir(a,null),sh(),Rp(a),i!==null&&Za(i,a,u,!0),null}function vr(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(a.flags|=4194816)}}function Ch(i,a,o,u,d){return ts(a),o=oh(i,a,o,u,void 0,d),u=rh(),i!==null&&!ct?(ch(i,a,d),Hn(i,a,d)):(De&&u&&Yu(a),a.flags|=1,gt(i,a,o,d),a.child)}function Wp(i,a,o,u,d,g){return ts(a),a.updateQueue=null,o=Gg(a,u,o,d),qg(i),u=rh(),i!==null&&!ct?(ch(i,a,g),Hn(i,a,g)):(De&&u&&Yu(a),a.flags|=1,gt(i,a,o,g),a.child)}function Kp(i,a,o,u,d){if(ts(a),a.stateNode===null){var g=js,v=o.contextType;typeof v=="object"&&v!==null&&(g=vt(v)),g=new o(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Sh,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},eh(a),v=o.contextType,g.context=typeof v=="object"&&v!==null?vt(v):js,g.state=a.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Eh(a,o,v,u),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(v=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),v!==g.state&&Sh.enqueueReplaceState(g,g.state,null),sl(a,u,g,d),il(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){g=a.stateNode;var E=a.memoizedProps,C=ss(o,E);g.props=C;var O=g.context,H=o.contextType;v=js,typeof H=="object"&&H!==null&&(v=vt(H));var j=o.getDerivedStateFromProps;H=typeof j=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=a.pendingProps!==E,H||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||O!==v)&&Lp(a,g,u,v),li=!1;var L=a.memoizedState;g.state=L,sl(a,u,g,d),il(),O=a.memoizedState,E||L!==O||li?(typeof j=="function"&&(Eh(a,o,j,u),O=a.memoizedState),(C=li||kp(a,o,C,u,L,O,v))?(H||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=O),g.props=u,g.state=O,g.context=v,u=C):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,th(i,a),v=a.memoizedProps,H=ss(o,v),g.props=H,j=a.pendingProps,L=g.context,O=o.contextType,C=js,typeof O=="object"&&O!==null&&(C=vt(O)),E=o.getDerivedStateFromProps,(O=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(v!==j||L!==C)&&Lp(a,g,u,C),li=!1,L=a.memoizedState,g.state=L,sl(a,u,g,d),il();var z=a.memoizedState;v!==j||L!==z||li||i!==null&&i.dependencies!==null&&tr(i.dependencies)?(typeof E=="function"&&(Eh(a,o,E,u),z=a.memoizedState),(H=li||kp(a,o,H,u,L,z,C)||i!==null&&i.dependencies!==null&&tr(i.dependencies))?(O||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,z,C),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,z,C)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||v===i.memoizedProps&&L===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&L===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=z),g.props=u,g.state=z,g.context=C,u=H):(typeof g.componentDidUpdate!="function"||v===i.memoizedProps&&L===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&L===i.memoizedState||(a.flags|=1024),u=!1)}return g=u,vr(i,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&u?(a.child=Js(a,i.child,null,d),a.child=Js(a,null,o,d)):gt(i,a,o,d),a.memoizedState=g.state,i=a.child):i=Hn(i,a,d),i}function Xp(i,a,o,u){return Xa(),a.flags|=256,gt(i,a,o,u),a.child}var Th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ah(i){return{baseLanes:i,cachePool:Ig()}}function Nh(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=nn),i}function Qp(i,a,o){var u=a.pendingProps,d=!1,g=(a.flags&128)!==0,v;if((v=g)||(v=i!==null&&i.memoizedState===null?!1:(at.current&2)!==0),v&&(d=!0,a.flags&=-129),v=(a.flags&32)!==0,a.flags&=-33,i===null){if(De){if(d?ui(a):hi(),De){var E=Ke,C;if(C=E){e:{for(C=E,E=_n;C.nodeType!==8;){if(!E){E=null;break e}if(C=un(C.nextSibling),C===null){E=null;break e}}E=C}E!==null?(a.memoizedState={dehydrated:E,treeContext:Qi!==null?{id:On,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},C=Ut(18,null,null,0),C.stateNode=E,C.return=a,a.child=C,Ct=a,Ke=null,C=!0):C=!1}C||Ji(a)}if(E=a.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ff(E)?a.lanes=32:a.lanes=536870912,null;In(a)}return E=u.children,u=u.fallback,d?(hi(),d=a.mode,E=xr({mode:"hidden",children:E},d),u=Xi(u,d,o,null),E.return=a,u.return=a,E.sibling=u,a.child=E,d=a.child,d.memoizedState=Ah(o),d.childLanes=Nh(i,v,o),a.memoizedState=Th,u):(ui(a),Mh(a,E))}if(C=i.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(g)a.flags&256?(ui(a),a.flags&=-257,a=Dh(i,a,o)):a.memoizedState!==null?(hi(),a.child=i.child,a.flags|=128,a=null):(hi(),d=u.fallback,E=a.mode,u=xr({mode:"visible",children:u.children},E),d=Xi(d,E,o,null),d.flags|=2,u.return=a,d.return=a,u.sibling=d,a.child=u,Js(a,i.child,null,o),u=a.child,u.memoizedState=Ah(o),u.childLanes=Nh(i,v,o),a.memoizedState=Th,a=d);else if(ui(a),ff(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var O=v.dgst;v=O,u=Error(s(419)),u.stack="",u.digest=v,Qa({value:u,source:null,stack:null}),a=Dh(i,a,o)}else if(ct||Za(i,a,o,!1),v=(o&i.childLanes)!==0,ct||v){if(v=Ue,v!==null&&(u=o&-o,u=(u&42)!==0?1:fu(u),u=(u&(v.suspendedLanes|o))!==0?0:u,u!==0&&u!==C.retryLane))throw C.retryLane=u,Vs(i,u),qt(v,i,u),Fp;E.data==="$?"||Kh(),a=Dh(i,a,o)}else E.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=C.treeContext,Ke=un(E.nextSibling),Ct=a,De=!0,$i=null,_n=!1,i!==null&&(Jt[en++]=On,Jt[en++]=Rn,Jt[en++]=Qi,On=i.id,Rn=i.overflow,Qi=a),a=Mh(a,u.children),a.flags|=4096);return a}return d?(hi(),d=u.fallback,E=a.mode,C=i.child,O=C.sibling,u=Dn(C,{mode:"hidden",children:u.children}),u.subtreeFlags=C.subtreeFlags&65011712,O!==null?d=Dn(O,d):(d=Xi(d,E,o,null),d.flags|=2),d.return=a,u.return=a,u.sibling=d,a.child=u,u=d,d=a.child,E=i.child.memoizedState,E===null?E=Ah(o):(C=E.cachePool,C!==null?(O=st._currentValue,C=C.parent!==O?{parent:O,pool:O}:C):C=Ig(),E={baseLanes:E.baseLanes|o,cachePool:C}),d.memoizedState=E,d.childLanes=Nh(i,v,o),a.memoizedState=Th,u):(ui(a),o=i.child,i=o.sibling,o=Dn(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,i!==null&&(v=a.deletions,v===null?(a.deletions=[i],a.flags|=16):v.push(i)),a.child=o,a.memoizedState=null,o)}function Mh(i,a){return a=xr({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function xr(i,a){return i=Ut(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Dh(i,a,o){return Js(a,i.child,null,o),i=Mh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Zp(i,a,o){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),Ku(i.return,a,o)}function Oh(i,a,o,u,d){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function $p(i,a,o){var u=a.pendingProps,d=u.revealOrder,g=u.tail;if(gt(i,a,u.children,o),u=at.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Zp(i,o,a);else if(i.tag===19)Zp(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(X(at,u),d){case"forwards":for(o=a.child,d=null;o!==null;)i=o.alternate,i!==null&&yr(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=a.child,a.child=null):(d=o.sibling,o.sibling=null),Oh(a,!1,d,o,g);break;case"backwards":for(o=null,d=a.child,a.child=null;d!==null;){if(i=d.alternate,i!==null&&yr(i)===null){a.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}Oh(a,!0,o,null,g);break;case"together":Oh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Hn(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),pi|=a.lanes,(o&a.childLanes)===0)if(i!==null){if(Za(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,o=Dn(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=Dn(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function Rh(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&tr(i)))}function XE(i,a,o){switch(a.tag){case 3:qe(a,a.stateNode.containerInfo),ai(a,st,i.memoizedState.cache),Xa();break;case 27:case 5:ou(a);break;case 4:qe(a,a.stateNode.containerInfo);break;case 10:ai(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ui(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Qp(i,a,o):(ui(a),i=Hn(i,a,o),i!==null?i.sibling:null);ui(a);break;case 19:var d=(i.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Za(i,a,o,!1),u=(o&a.childLanes)!==0),d){if(u)return $p(i,a,o);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(at,at.current),u)break;return null;case 22:case 23:return a.lanes=0,qp(i,a,o);case 24:ai(a,st,i.memoizedState.cache)}return Hn(i,a,o)}function Jp(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)ct=!0;else{if(!Rh(i,o)&&(a.flags&128)===0)return ct=!1,XE(i,a,o);ct=(i.flags&131072)!==0}else ct=!1,De&&(a.flags&1048576)!==0&&Mg(a,er,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var u=a.elementType,d=u._init;if(u=d(u._payload),a.type=u,typeof u=="function")Fu(u)?(i=ss(u,i),a.tag=1,a=Kp(null,a,u,i,o)):(a.tag=0,a=Ch(null,a,u,i,o));else{if(u!=null){if(d=u.$$typeof,d===Y){a.tag=11,a=Vp(null,a,u,i,o);break e}else if(d===F){a.tag=14,a=jp(null,a,u,i,o);break e}}throw a=xe(u)||u,Error(s(306,a,""))}}return a;case 0:return Ch(i,a,a.type,a.pendingProps,o);case 1:return u=a.type,d=ss(u,a.pendingProps),Kp(i,a,u,d,o);case 3:e:{if(qe(a,a.stateNode.containerInfo),i===null)throw Error(s(387));u=a.pendingProps;var g=a.memoizedState;d=g.element,th(i,a),sl(a,u,null,o);var v=a.memoizedState;if(u=v.cache,ai(a,st,u),u!==g.cache&&Xu(a,[st],o,!0),il(),u=v.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:v.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=Xp(i,a,u,o);break e}else if(u!==d){d=Zt(Error(s(424)),a),Qa(d),a=Xp(i,a,u,o);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ke=un(i.firstChild),Ct=a,De=!0,$i=null,_n=!0,o=Op(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Xa(),u===d){a=Hn(i,a,o);break e}gt(i,a,u,o)}a=a.child}return a;case 26:return vr(i,a),i===null?(o=iy(a.type,null,a.pendingProps,null))?a.memoizedState=o:De||(o=a.type,i=a.pendingProps,u=zr(re.current).createElement(o),u[bt]=a,u[At]=i,yt(u,o,i),rt(u),a.stateNode=u):a.memoizedState=iy(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return ou(a),i===null&&De&&(u=a.stateNode=ey(a.type,a.pendingProps,re.current),Ct=a,_n=!0,d=Ke,vi(a.type)?(df=d,Ke=un(u.firstChild)):Ke=d),gt(i,a,a.pendingProps.children,o),vr(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&De&&((d=u=Ke)&&(u=SS(u,a.type,a.pendingProps,_n),u!==null?(a.stateNode=u,Ct=a,Ke=un(u.firstChild),_n=!1,d=!0):d=!1),d||Ji(a)),ou(a),d=a.type,g=a.pendingProps,v=i!==null?i.memoizedProps:null,u=g.children,cf(d,g)?u=null:v!==null&&cf(d,v)&&(a.flags|=32),a.memoizedState!==null&&(d=oh(i,a,FE,null,null,o),Tl._currentValue=d),vr(i,a),gt(i,a,u,o),a.child;case 6:return i===null&&De&&((i=o=Ke)&&(o=wS(o,a.pendingProps,_n),o!==null?(a.stateNode=o,Ct=a,Ke=null,i=!0):i=!1),i||Ji(a)),null;case 13:return Qp(i,a,o);case 4:return qe(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=Js(a,null,u,o):gt(i,a,u,o),a.child;case 11:return Vp(i,a,a.type,a.pendingProps,o);case 7:return gt(i,a,a.pendingProps,o),a.child;case 8:return gt(i,a,a.pendingProps.children,o),a.child;case 12:return gt(i,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,ai(a,a.type,u.value),gt(i,a,u.children,o),a.child;case 9:return d=a.type._context,u=a.pendingProps.children,ts(a),d=vt(d),u=u(d),a.flags|=1,gt(i,a,u,o),a.child;case 14:return jp(i,a,a.type,a.pendingProps,o);case 15:return Yp(i,a,a.type,a.pendingProps,o);case 19:return $p(i,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},i===null?(o=xr(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Dn(i.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return qp(i,a,o);case 24:return ts(a),u=vt(st),i===null?(d=$u(),d===null&&(d=Ue,g=Qu(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),a.memoizedState={parent:u,cache:d},eh(a),ai(a,st,d)):((i.lanes&o)!==0&&(th(i,a),sl(a,null,null,o),il()),d=i.memoizedState,g=a.memoizedState,d.parent!==u?(d={parent:u,cache:u},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),ai(a,st,u)):(u=g.cache,ai(a,st,u),u!==d.cache&&Xu(a,[st],o,!0))),gt(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Bn(i){i.flags|=4}function e0(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ry(a)){if(a=tn.current,a!==null&&((Ae&4194048)===Ae?bn!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||a!==bn))throw tl=Ju,Hg;i.flags|=8192}}function Er(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Rm():536870912,i.lanes|=a,ia|=a)}function hl(i,a){if(!De)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function We(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(a)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,a}function QE(i,a,o){var u=a.pendingProps;switch(qu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(a),null;case 1:return We(a),null;case 3:return o=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Ln(st),ti(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ka(a)?Bn(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Rg())),We(a),null;case 26:return o=a.memoizedState,i===null?(Bn(a),o!==null?(We(a),e0(a,o)):(We(a),a.flags&=-16777217)):o?o!==i.memoizedState?(Bn(a),We(a),e0(a,o)):(We(a),a.flags&=-16777217):(i.memoizedProps!==u&&Bn(a),We(a),a.flags&=-16777217),null;case 27:ko(a),o=re.current;var d=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Bn(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return We(a),null}i=ae.current,Ka(a)?Dg(a):(i=ey(d,u,o),a.stateNode=i,Bn(a))}return We(a),null;case 5:if(ko(a),o=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&Bn(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return We(a),null}if(i=ae.current,Ka(a))Dg(a);else{switch(d=zr(re.current),i){case 1:i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=d.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}i[bt]=a,i[At]=u;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=i;e:switch(yt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Bn(a)}}return We(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&Bn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(s(166));if(i=re.current,Ka(a)){if(i=a.stateNode,o=a.memoizedProps,u=null,d=Ct,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[bt]=a,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||W0(i.nodeValue,o)),i||Ji(a)}else i=zr(i).createTextNode(u),i[bt]=a,a.stateNode=i}return We(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=Ka(a),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(s(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[bt]=a}else Xa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;We(a),d=!1}else d=Rg(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(In(a),a):(In(a),null)}if(In(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=a.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==i&&o&&(a.child.flags|=8192),Er(a,a.updateQueue),We(a),null;case 4:return ti(),i===null&&sf(a.stateNode.containerInfo),We(a),null;case 10:return Ln(a.type),We(a),null;case 19:if(ne(at),d=a.memoizedState,d===null)return We(a),null;if(u=(a.flags&128)!==0,g=d.rendering,g===null)if(u)hl(d,!1);else{if(Xe!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=yr(i),g!==null){for(a.flags|=128,hl(d,!1),i=g.updateQueue,a.updateQueue=i,Er(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)Ng(o,i),o=o.sibling;return X(at,at.current&1|2),a.child}i=i.sibling}d.tail!==null&&yn()>Cr&&(a.flags|=128,u=!0,hl(d,!1),a.lanes=4194304)}else{if(!u)if(i=yr(g),i!==null){if(a.flags|=128,u=!0,i=i.updateQueue,a.updateQueue=i,Er(a,i),hl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!De)return We(a),null}else 2*yn()-d.renderingStartTime>Cr&&o!==536870912&&(a.flags|=128,u=!0,hl(d,!1),a.lanes=4194304);d.isBackwards?(g.sibling=a.child,a.child=g):(i=d.last,i!==null?i.sibling=g:a.child=g,d.last=g)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=yn(),a.sibling=null,i=at.current,X(at,u?i&1|2:i&1),a):(We(a),null);case 22:case 23:return In(a),ah(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(We(a),a.subtreeFlags&6&&(a.flags|=8192)):We(a),o=a.updateQueue,o!==null&&Er(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),i!==null&&ne(ns),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Ln(st),We(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function ZE(i,a){switch(qu(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ln(st),ti(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ko(a),null;case 13:if(In(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Xa()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return ne(at),null;case 4:return ti(),null;case 10:return Ln(a.type),null;case 22:case 23:return In(a),ah(),i!==null&&ne(ns),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ln(st),null;case 25:return null;default:return null}}function t0(i,a){switch(qu(a),a.tag){case 3:Ln(st),ti();break;case 26:case 27:case 5:ko(a);break;case 4:ti();break;case 13:In(a);break;case 19:ne(at);break;case 10:Ln(a.type);break;case 22:case 23:In(a),ah(),i!==null&&ne(ns);break;case 24:Ln(st)}}function fl(i,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,v=o.inst;u=g(),v.destroy=u}o=o.next}while(o!==d)}}catch(E){Be(a,a.return,E)}}function fi(i,a,o){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var v=u.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,d=a;var C=o,O=E;try{O()}catch(H){Be(d,C,H)}}}u=u.next}while(u!==g)}}catch(H){Be(a,a.return,H)}}function n0(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{jg(a,o)}catch(u){Be(i,i.return,u)}}}function i0(i,a,o){o.props=ss(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Be(i,a,u)}}function dl(i,a){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Be(i,a,d)}}function vn(i,a){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Be(i,a,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Be(i,a,d)}else o.current=null}function s0(i){var a=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Be(i,i.return,d)}}function kh(i,a,o){try{var u=i.stateNode;_S(u,i.type,o,a),u[At]=a}catch(d){Be(i,i.return,d)}}function a0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&vi(i.type)||i.tag===4}function Lh(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||a0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&vi(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zh(i,a,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(i),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Lr));else if(u!==4&&(u===27&&vi(i.type)&&(o=i.stateNode,a=null),i=i.child,i!==null))for(zh(i,a,o),i=i.sibling;i!==null;)zh(i,a,o),i=i.sibling}function Sr(i,a,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(u!==4&&(u===27&&vi(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Sr(i,a,o),i=i.sibling;i!==null;)Sr(i,a,o),i=i.sibling}function l0(i){var a=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);yt(a,u,o),a[bt]=i,a[At]=o}catch(g){Be(i,i.return,g)}}var Pn=!1,$e=!1,Ih=!1,o0=typeof WeakSet=="function"?WeakSet:Set,ut=null;function $E(i,a){if(i=i.containerInfo,of=Fr,i=_g(i),Lu(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var v=0,E=-1,C=-1,O=0,H=0,j=i,L=null;t:for(;;){for(var z;j!==o||d!==0&&j.nodeType!==3||(E=v+d),j!==g||u!==0&&j.nodeType!==3||(C=v+u),j.nodeType===3&&(v+=j.nodeValue.length),(z=j.firstChild)!==null;)L=j,j=z;for(;;){if(j===i)break t;if(L===o&&++O===d&&(E=v),L===g&&++H===u&&(C=v),(z=j.nextSibling)!==null)break;j=L,L=j.parentNode}j=z}o=E===-1||C===-1?null:{start:E,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(rf={focusedElem:i,selectionRange:o},Fr=!1,ut=a;ut!==null;)if(a=ut,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,ut=i;else for(;ut!==null;){switch(a=ut,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=a,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var de=ss(o.type,d,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(de,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(ce){Be(o,o.return,ce)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)hf(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,ut=i;break}ut=a.return}}function r0(i,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:di(i,o),u&4&&fl(5,o);break;case 1:if(di(i,o),u&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(v){Be(o,o.return,v)}else{var d=ss(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(d,a,i.__reactInternalSnapshotBeforeUpdate)}catch(v){Be(o,o.return,v)}}u&64&&n0(o),u&512&&dl(o,o.return);break;case 3:if(di(i,o),u&64&&(i=o.updateQueue,i!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{jg(i,a)}catch(v){Be(o,o.return,v)}}break;case 27:a===null&&u&4&&l0(o);case 26:case 5:di(i,o),a===null&&u&4&&s0(o),u&512&&dl(o,o.return);break;case 12:di(i,o);break;case 13:di(i,o),u&4&&h0(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=oS.bind(null,o),CS(i,o))));break;case 22:if(u=o.memoizedState!==null||Pn,!u){a=a!==null&&a.memoizedState!==null||$e,d=Pn;var g=$e;Pn=u,($e=a)&&!g?mi(i,o,(o.subtreeFlags&8772)!==0):di(i,o),Pn=d,$e=g}break;case 30:break;default:di(i,o)}}function c0(i){var a=i.alternate;a!==null&&(i.alternate=null,c0(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&gu(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ge=null,Dt=!1;function Un(i,a,o){for(o=o.child;o!==null;)u0(i,a,o),o=o.sibling}function u0(i,a,o){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(La,o)}catch{}switch(o.tag){case 26:$e||vn(o,a),Un(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:$e||vn(o,a);var u=Ge,d=Dt;vi(o.type)&&(Ge=o.stateNode,Dt=!1),Un(i,a,o),El(o.stateNode),Ge=u,Dt=d;break;case 5:$e||vn(o,a);case 6:if(u=Ge,d=Dt,Ge=null,Un(i,a,o),Ge=u,Dt=d,Ge!==null)if(Dt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(o.stateNode)}catch(g){Be(o,a,g)}else try{Ge.removeChild(o.stateNode)}catch(g){Be(o,a,g)}break;case 18:Ge!==null&&(Dt?(i=Ge,$0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Dl(i)):$0(Ge,o.stateNode));break;case 4:u=Ge,d=Dt,Ge=o.stateNode.containerInfo,Dt=!0,Un(i,a,o),Ge=u,Dt=d;break;case 0:case 11:case 14:case 15:$e||fi(2,o,a),$e||fi(4,o,a),Un(i,a,o);break;case 1:$e||(vn(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&i0(o,a,u)),Un(i,a,o);break;case 21:Un(i,a,o);break;case 22:$e=(u=$e)||o.memoizedState!==null,Un(i,a,o),$e=u;break;default:Un(i,a,o)}}function h0(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Dl(i)}catch(o){Be(a,a.return,o)}}function JE(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new o0),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new o0),a;default:throw Error(s(435,i.tag))}}function Hh(i,a){var o=JE(i);a.forEach(function(u){var d=rS.bind(null,i,u);o.has(u)||(o.add(u),u.then(d,d))})}function Ft(i,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,v=a,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(vi(E.type)){Ge=E.stateNode,Dt=!1;break e}break;case 5:Ge=E.stateNode,Dt=!1;break e;case 3:case 4:Ge=E.stateNode.containerInfo,Dt=!0;break e}E=E.return}if(Ge===null)throw Error(s(160));u0(g,v,d),Ge=null,Dt=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)f0(a,i),a=a.sibling}var cn=null;function f0(i,a){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ft(a,i),Vt(i),u&4&&(fi(3,i,i.return),fl(3,i),fi(5,i,i.return));break;case 1:Ft(a,i),Vt(i),u&512&&($e||o===null||vn(o,o.return)),u&64&&Pn&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=cn;if(Ft(a,i),Vt(i),u&512&&($e||o===null||vn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ha]||g[bt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),yt(g,u,o),g[bt]=i,rt(g),u=g;break e;case"link":var v=ly("link","href",d).get(u+(o.href||""));if(v){for(var E=0;E<v.length;E++)if(g=v[E],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){v.splice(E,1);break t}}g=d.createElement(u),yt(g,u,o),d.head.appendChild(g);break;case"meta":if(v=ly("meta","content",d).get(u+(o.content||""))){for(E=0;E<v.length;E++)if(g=v[E],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){v.splice(E,1);break t}}g=d.createElement(u),yt(g,u,o),d.head.appendChild(g);break;default:throw Error(s(468,u))}g[bt]=i,rt(g),u=g}i.stateNode=u}else oy(d,i.type,i.stateNode);else i.stateNode=ay(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?oy(d,i.type,i.stateNode):ay(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&kh(i,i.memoizedProps,o.memoizedProps)}break;case 27:Ft(a,i),Vt(i),u&512&&($e||o===null||vn(o,o.return)),o!==null&&u&4&&kh(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Ft(a,i),Vt(i),u&512&&($e||o===null||vn(o,o.return)),i.flags&32){d=i.stateNode;try{zs(d,"")}catch(z){Be(i,i.return,z)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,kh(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Ih=!0);break;case 6:if(Ft(a,i),Vt(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(z){Be(i,i.return,z)}}break;case 3:if(Br=null,d=cn,cn=Ir(a.containerInfo),Ft(a,i),cn=d,Vt(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Dl(a.containerInfo)}catch(z){Be(i,i.return,z)}Ih&&(Ih=!1,d0(i));break;case 4:u=cn,cn=Ir(i.stateNode.containerInfo),Ft(a,i),Vt(i),cn=u;break;case 12:Ft(a,i),Vt(i);break;case 13:Ft(a,i),Vt(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jh=yn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Hh(i,u)));break;case 22:d=i.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,O=Pn,H=$e;if(Pn=O||d,$e=H||C,Ft(a,i),$e=H,Pn=O,Vt(i),u&8192)e:for(a=i.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(o===null||C||Pn||$e||as(i)),o=null,a=i;;){if(a.tag===5||a.tag===26){if(o===null){C=o=a;try{if(g=C.stateNode,d)v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var j=C.memoizedProps.style,L=j!=null&&j.hasOwnProperty("display")?j.display:null;E.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(z){Be(C,C.return,z)}}}else if(a.tag===6){if(o===null){C=a;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(z){Be(C,C.return,z)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Hh(i,o))));break;case 19:Ft(a,i),Vt(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Hh(i,u)));break;case 30:break;case 21:break;default:Ft(a,i),Vt(i)}}function Vt(i){var a=i.flags;if(a&2){try{for(var o,u=i.return;u!==null;){if(a0(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,g=Lh(i);Sr(i,g,d);break;case 5:var v=o.stateNode;o.flags&32&&(zs(v,""),o.flags&=-33);var E=Lh(i);Sr(i,E,v);break;case 3:case 4:var C=o.stateNode.containerInfo,O=Lh(i);zh(i,O,C);break;default:throw Error(s(161))}}catch(H){Be(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function d0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;d0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function di(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)r0(i,a.alternate,a),a=a.sibling}function as(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:fi(4,a,a.return),as(a);break;case 1:vn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&i0(a,a.return,o),as(a);break;case 27:El(a.stateNode);case 26:case 5:vn(a,a.return),as(a);break;case 22:a.memoizedState===null&&as(a);break;case 30:as(a);break;default:as(a)}i=i.sibling}}function mi(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,d=i,g=a,v=g.flags;switch(g.tag){case 0:case 11:case 15:mi(d,g,o),fl(4,g);break;case 1:if(mi(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(O){Be(u,u.return,O)}if(u=g,d=u.updateQueue,d!==null){var E=u.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)Vg(C[d],E)}catch(O){Be(u,u.return,O)}}o&&v&64&&n0(g),dl(g,g.return);break;case 27:l0(g);case 26:case 5:mi(d,g,o),o&&u===null&&v&4&&s0(g),dl(g,g.return);break;case 12:mi(d,g,o);break;case 13:mi(d,g,o),o&&v&4&&h0(d,g);break;case 22:g.memoizedState===null&&mi(d,g,o),dl(g,g.return);break;case 30:break;default:mi(d,g,o)}a=a.sibling}}function Bh(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&$a(o))}function Ph(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&$a(i))}function xn(i,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)m0(i,a,o,u),a=a.sibling}function m0(i,a,o,u){var d=a.flags;switch(a.tag){case 0:case 11:case 15:xn(i,a,o,u),d&2048&&fl(9,a);break;case 1:xn(i,a,o,u);break;case 3:xn(i,a,o,u),d&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&$a(i)));break;case 12:if(d&2048){xn(i,a,o,u),i=a.stateNode;try{var g=a.memoizedProps,v=g.id,E=g.onPostCommit;typeof E=="function"&&E(v,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(C){Be(a,a.return,C)}}else xn(i,a,o,u);break;case 13:xn(i,a,o,u);break;case 23:break;case 22:g=a.stateNode,v=a.alternate,a.memoizedState!==null?g._visibility&2?xn(i,a,o,u):ml(i,a):g._visibility&2?xn(i,a,o,u):(g._visibility|=2,ea(i,a,o,u,(a.subtreeFlags&10256)!==0)),d&2048&&Bh(v,a);break;case 24:xn(i,a,o,u),d&2048&&Ph(a.alternate,a);break;default:xn(i,a,o,u)}}function ea(i,a,o,u,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,v=a,E=o,C=u,O=v.flags;switch(v.tag){case 0:case 11:case 15:ea(g,v,E,C,d),fl(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?ea(g,v,E,C,d):ml(g,v):(H._visibility|=2,ea(g,v,E,C,d)),d&&O&2048&&Bh(v.alternate,v);break;case 24:ea(g,v,E,C,d),d&&O&2048&&Ph(v.alternate,v);break;default:ea(g,v,E,C,d)}a=a.sibling}}function ml(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,u=a,d=u.flags;switch(u.tag){case 22:ml(o,u),d&2048&&Bh(u.alternate,u);break;case 24:ml(o,u),d&2048&&Ph(u.alternate,u);break;default:ml(o,u)}a=a.sibling}}var gl=8192;function ta(i){if(i.subtreeFlags&gl)for(i=i.child;i!==null;)g0(i),i=i.sibling}function g0(i){switch(i.tag){case 26:ta(i),i.flags&gl&&i.memoizedState!==null&&BS(cn,i.memoizedState,i.memoizedProps);break;case 5:ta(i);break;case 3:case 4:var a=cn;cn=Ir(i.stateNode.containerInfo),ta(i),cn=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=gl,gl=16777216,ta(i),gl=a):ta(i));break;default:ta(i)}}function p0(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function pl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];ut=u,_0(u,i)}p0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y0(i),i=i.sibling}function y0(i){switch(i.tag){case 0:case 11:case 15:pl(i),i.flags&2048&&fi(9,i,i.return);break;case 3:pl(i);break;case 12:pl(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,wr(i)):pl(i);break;default:pl(i)}}function wr(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];ut=u,_0(u,i)}p0(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:fi(8,a,a.return),wr(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,wr(a));break;default:wr(a)}i=i.sibling}}function _0(i,a){for(;ut!==null;){var o=ut;switch(o.tag){case 0:case 11:case 15:fi(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$a(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,ut=u;else e:for(o=i;ut!==null;){u=ut;var d=u.sibling,g=u.return;if(c0(u),u===o){ut=null;break e}if(d!==null){d.return=g,ut=d;break e}ut=g}}}var eS={getCacheForType:function(i){var a=vt(st),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o}},tS=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ue=null,Ee=null,Ae=0,ke=0,jt=null,gi=!1,na=!1,Uh=!1,Fn=0,Xe=0,pi=0,ls=0,Fh=0,nn=0,ia=0,yl=null,Ot=null,Vh=!1,jh=0,Cr=1/0,Tr=null,yi=null,pt=0,_i=null,sa=null,aa=0,Yh=0,qh=null,b0=null,_l=0,Gh=null;function Yt(){if((Re&2)!==0&&Ae!==0)return Ae&-Ae;if(k.T!==null){var i=Gs;return i!==0?i:Jh()}return zm()}function v0(){nn===0&&(nn=(Ae&536870912)===0||De?Om():536870912);var i=tn.current;return i!==null&&(i.flags|=32),nn}function qt(i,a,o){(i===Ue&&(ke===2||ke===9)||i.cancelPendingCommit!==null)&&(la(i,0),bi(i,Ae,nn,!1)),Ia(i,o),((Re&2)===0||i!==Ue)&&(i===Ue&&((Re&2)===0&&(ls|=o),Xe===4&&bi(i,Ae,nn,!1)),En(i))}function x0(i,a,o){if((Re&6)!==0)throw Error(s(327));var u=!o&&(a&124)===0&&(a&i.expiredLanes)===0||za(i,a),d=u?sS(i,a):Xh(i,a,!0),g=u;do{if(d===0){na&&!u&&bi(i,a,0,!1);break}else{if(o=i.current.alternate,g&&!nS(o)){d=Xh(i,a,!1),g=!1;continue}if(d===2){if(g=a,i.errorRecoveryDisabledLanes&g)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){a=v;e:{var E=i;d=yl;var C=E.current.memoizedState.isDehydrated;if(C&&(la(E,v).flags|=256),v=Xh(E,v,!1),v!==2){if(Uh&&!C){E.errorRecoveryDisabledLanes|=g,ls|=g,d=4;break e}g=Ot,Ot=d,g!==null&&(Ot===null?Ot=g:Ot.push.apply(Ot,g))}d=v}if(g=!1,d!==2)continue}}if(d===1){la(i,0),bi(i,a,0,!0);break}e:{switch(u=i,g=d,g){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:bi(u,a,nn,!gi);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(d=jh+300-yn(),10<d)){if(bi(u,a,nn,!gi),Ho(u,0,!0)!==0)break e;u.timeoutHandle=Q0(E0.bind(null,u,o,Ot,Tr,Vh,a,nn,ls,ia,gi,g,2,-0,0),d);break e}E0(u,o,Ot,Tr,Vh,a,nn,ls,ia,gi,g,0,-0,0)}}break}while(!0);En(i)}function E0(i,a,o,u,d,g,v,E,C,O,H,j,L,z){if(i.timeoutHandle=-1,j=a.subtreeFlags,(j&8192||(j&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:HS},g0(a),j=PS(),j!==null)){i.cancelPendingCommit=j(M0.bind(null,i,a,g,o,u,d,v,E,C,H,1,L,z)),bi(i,g,v,!O);return}M0(i,a,g,o,u,d,v,E,C)}function nS(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!Pt(g(),d))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function bi(i,a,o,u){a&=~Fh,a&=~ls,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var d=a;0<d;){var g=31-Bt(d),v=1<<g;u[g]=-1,d&=~v}o!==0&&km(i,o,a)}function Ar(){return(Re&6)===0?(bl(0),!1):!0}function Wh(){if(Ee!==null){if(ke===0)var i=Ee.return;else i=Ee,kn=es=null,uh(i),$s=null,cl=0,i=Ee;for(;i!==null;)t0(i.alternate,i),i=i.return;Ee=null}}function la(i,a){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,vS(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Wh(),Ue=i,Ee=o=Dn(i.current,null),Ae=a,ke=0,jt=null,gi=!1,na=za(i,a),Uh=!1,ia=nn=Fh=ls=pi=Xe=0,Ot=yl=null,Vh=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var d=31-Bt(u),g=1<<d;a|=i[d],u&=~g}return Fn=a,Xo(),o}function S0(i,a){pe=null,k.H=mr,a===el||a===sr?(a=Ug(),ke=3):a===Hg?(a=Ug(),ke=4):ke=a===Fp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,jt=a,Ee===null&&(Xe=1,br(i,Zt(a,i.current)))}function w0(){var i=k.H;return k.H=mr,i===null?mr:i}function C0(){var i=k.A;return k.A=eS,i}function Kh(){Xe=4,gi||(Ae&4194048)!==Ae&&tn.current!==null||(na=!0),(pi&134217727)===0&&(ls&134217727)===0||Ue===null||bi(Ue,Ae,nn,!1)}function Xh(i,a,o){var u=Re;Re|=2;var d=w0(),g=C0();(Ue!==i||Ae!==a)&&(Tr=null,la(i,a)),a=!1;var v=Xe;e:do try{if(ke!==0&&Ee!==null){var E=Ee,C=jt;switch(ke){case 8:Wh(),v=6;break e;case 3:case 2:case 9:case 6:tn.current===null&&(a=!0);var O=ke;if(ke=0,jt=null,oa(i,E,C,O),o&&na){v=0;break e}break;default:O=ke,ke=0,jt=null,oa(i,E,C,O)}}iS(),v=Xe;break}catch(H){S0(i,H)}while(!0);return a&&i.shellSuspendCounter++,kn=es=null,Re=u,k.H=d,k.A=g,Ee===null&&(Ue=null,Ae=0,Xo()),v}function iS(){for(;Ee!==null;)T0(Ee)}function sS(i,a){var o=Re;Re|=2;var u=w0(),d=C0();Ue!==i||Ae!==a?(Tr=null,Cr=yn()+500,la(i,a)):na=za(i,a);e:do try{if(ke!==0&&Ee!==null){a=Ee;var g=jt;t:switch(ke){case 1:ke=0,jt=null,oa(i,a,g,1);break;case 2:case 9:if(Bg(g)){ke=0,jt=null,A0(a);break}a=function(){ke!==2&&ke!==9||Ue!==i||(ke=7),En(i)},g.then(a,a);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Bg(g)?(ke=0,jt=null,A0(a)):(ke=0,jt=null,oa(i,a,g,7));break;case 5:var v=null;switch(Ee.tag){case 26:v=Ee.memoizedState;case 5:case 27:var E=Ee;if(!v||ry(v)){ke=0,jt=null;var C=E.sibling;if(C!==null)Ee=C;else{var O=E.return;O!==null?(Ee=O,Nr(O)):Ee=null}break t}}ke=0,jt=null,oa(i,a,g,5);break;case 6:ke=0,jt=null,oa(i,a,g,6);break;case 8:Wh(),Xe=6;break e;default:throw Error(s(462))}}aS();break}catch(H){S0(i,H)}while(!0);return kn=es=null,k.H=u,k.A=d,Re=o,Ee!==null?0:(Ue=null,Ae=0,Xo(),Xe)}function aS(){for(;Ee!==null&&!A1();)T0(Ee)}function T0(i){var a=Jp(i.alternate,i,Fn);i.memoizedProps=i.pendingProps,a===null?Nr(i):Ee=a}function A0(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=Wp(o,a,a.pendingProps,a.type,void 0,Ae);break;case 11:a=Wp(o,a,a.pendingProps,a.type.render,a.ref,Ae);break;case 5:uh(a);default:t0(o,a),a=Ee=Ng(a,Fn),a=Jp(o,a,Fn)}i.memoizedProps=i.pendingProps,a===null?Nr(i):Ee=a}function oa(i,a,o,u){kn=es=null,uh(a),$s=null,cl=0;var d=a.return;try{if(KE(i,d,a,o,Ae)){Xe=1,br(i,Zt(o,i.current)),Ee=null;return}}catch(g){if(d!==null)throw Ee=d,g;Xe=1,br(i,Zt(o,i.current)),Ee=null;return}a.flags&32768?(De||u===1?i=!0:na||(Ae&536870912)!==0?i=!1:(gi=i=!0,(u===2||u===9||u===3||u===6)&&(u=tn.current,u!==null&&u.tag===13&&(u.flags|=16384))),N0(a,i)):Nr(a)}function Nr(i){var a=i;do{if((a.flags&32768)!==0){N0(a,gi);return}i=a.return;var o=QE(a.alternate,a,Fn);if(o!==null){Ee=o;return}if(a=a.sibling,a!==null){Ee=a;return}Ee=a=i}while(a!==null);Xe===0&&(Xe=5)}function N0(i,a){do{var o=ZE(i.alternate,i);if(o!==null){o.flags&=32767,Ee=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){Ee=i;return}Ee=i=o}while(i!==null);Xe=6,Ee=null}function M0(i,a,o,u,d,g,v,E,C){i.cancelPendingCommit=null;do Mr();while(pt!==0);if((Re&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(g=a.lanes|a.childLanes,g|=Pu,H1(i,o,g,v,E,C),i===Ue&&(Ee=Ue=null,Ae=0),sa=a,_i=i,aa=o,Yh=g,qh=d,b0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,cS(Lo,function(){return L0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=k.T,k.T=null,d=G.p,G.p=2,v=Re,Re|=4;try{$E(i,a,o)}finally{Re=v,G.p=d,k.T=u}}pt=1,D0(),O0(),R0()}}function D0(){if(pt===1){pt=0;var i=_i,a=sa,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=k.T,k.T=null;var u=G.p;G.p=2;var d=Re;Re|=4;try{f0(a,i);var g=rf,v=_g(i.containerInfo),E=g.focusedElem,C=g.selectionRange;if(v!==E&&E&&E.ownerDocument&&yg(E.ownerDocument.documentElement,E)){if(C!==null&&Lu(E)){var O=C.start,H=C.end;if(H===void 0&&(H=O),"selectionStart"in E)E.selectionStart=O,E.selectionEnd=Math.min(H,E.value.length);else{var j=E.ownerDocument||document,L=j&&j.defaultView||window;if(L.getSelection){var z=L.getSelection(),de=E.textContent.length,ce=Math.min(C.start,de),He=C.end===void 0?ce:Math.min(C.end,de);!z.extend&&ce>He&&(v=He,He=ce,ce=v);var M=pg(E,ce),N=pg(E,He);if(M&&N&&(z.rangeCount!==1||z.anchorNode!==M.node||z.anchorOffset!==M.offset||z.focusNode!==N.node||z.focusOffset!==N.offset)){var D=j.createRange();D.setStart(M.node,M.offset),z.removeAllRanges(),ce>He?(z.addRange(D),z.extend(N.node,N.offset)):(D.setEnd(N.node,N.offset),z.addRange(D))}}}}for(j=[],z=E;z=z.parentNode;)z.nodeType===1&&j.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<j.length;E++){var P=j[E];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Fr=!!of,rf=of=null}finally{Re=d,G.p=u,k.T=o}}i.current=a,pt=2}}function O0(){if(pt===2){pt=0;var i=_i,a=sa,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=k.T,k.T=null;var u=G.p;G.p=2;var d=Re;Re|=4;try{r0(i,a.alternate,a)}finally{Re=d,G.p=u,k.T=o}}pt=3}}function R0(){if(pt===4||pt===3){pt=0,N1();var i=_i,a=sa,o=aa,u=b0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?pt=5:(pt=0,sa=_i=null,k0(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(yi=null),du(o),a=a.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(La,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=k.T,d=G.p,G.p=2,k.T=null;try{for(var g=i.onRecoverableError,v=0;v<u.length;v++){var E=u[v];g(E.value,{componentStack:E.stack})}}finally{k.T=a,G.p=d}}(aa&3)!==0&&Mr(),En(i),d=i.pendingLanes,(o&4194090)!==0&&(d&42)!==0?i===Gh?_l++:(_l=0,Gh=i):_l=0,bl(0)}}function k0(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,$a(a)))}function Mr(i){return D0(),O0(),R0(),L0()}function L0(){if(pt!==5)return!1;var i=_i,a=Yh;Yh=0;var o=du(aa),u=k.T,d=G.p;try{G.p=32>o?32:o,k.T=null,o=qh,qh=null;var g=_i,v=aa;if(pt=0,sa=_i=null,aa=0,(Re&6)!==0)throw Error(s(331));var E=Re;if(Re|=4,y0(g.current),m0(g,g.current,v,o),Re=E,bl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(La,g)}catch{}return!0}finally{G.p=d,k.T=u,k0(i,a)}}function z0(i,a,o){a=Zt(o,a),a=wh(i.stateNode,a,2),i=ri(i,a,2),i!==null&&(Ia(i,2),En(i))}function Be(i,a,o){if(i.tag===3)z0(i,i,o);else for(;a!==null;){if(a.tag===3){z0(a,i,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(yi===null||!yi.has(u))){i=Zt(o,i),o=Pp(2),u=ri(a,o,2),u!==null&&(Up(o,u,a,i),Ia(u,2),En(u));break}}a=a.return}}function Qh(i,a,o){var u=i.pingCache;if(u===null){u=i.pingCache=new tS;var d=new Set;u.set(a,d)}else d=u.get(a),d===void 0&&(d=new Set,u.set(a,d));d.has(o)||(Uh=!0,d.add(o),i=lS.bind(null,i,a,o),a.then(i,i))}function lS(i,a,o){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Ue===i&&(Ae&o)===o&&(Xe===4||Xe===3&&(Ae&62914560)===Ae&&300>yn()-jh?(Re&2)===0&&la(i,0):Fh|=o,ia===Ae&&(ia=0)),En(i)}function I0(i,a){a===0&&(a=Rm()),i=Vs(i,a),i!==null&&(Ia(i,a),En(i))}function oS(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),I0(i,o)}function rS(i,a){var o=0;switch(i.tag){case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(a),I0(i,o)}function cS(i,a){return cu(i,a)}var Dr=null,ra=null,Zh=!1,Or=!1,$h=!1,os=0;function En(i){i!==ra&&i.next===null&&(ra===null?Dr=ra=i:ra=ra.next=i),Or=!0,Zh||(Zh=!0,hS())}function bl(i,a){if(!$h&&Or){$h=!0;do for(var o=!1,u=Dr;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var v=u.suspendedLanes,E=u.pingedLanes;g=(1<<31-Bt(42|i)+1)-1,g&=d&~(v&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,U0(u,g))}else g=Ae,g=Ho(u,u===Ue?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||za(u,g)||(o=!0,U0(u,g));u=u.next}while(o);$h=!1}}function uS(){H0()}function H0(){Or=Zh=!1;var i=0;os!==0&&(bS()&&(i=os),os=0);for(var a=yn(),o=null,u=Dr;u!==null;){var d=u.next,g=B0(u,a);g===0?(u.next=null,o===null?Dr=d:o.next=d,d===null&&(ra=o)):(o=u,(i!==0||(g&3)!==0)&&(Or=!0)),u=d}bl(i)}function B0(i,a){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var v=31-Bt(g),E=1<<v,C=d[v];C===-1?((E&o)===0||(E&u)!==0)&&(d[v]=I1(E,a)):C<=a&&(i.expiredLanes|=E),g&=~E}if(a=Ue,o=Ae,o=Ho(i,i===a?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===a&&(ke===2||ke===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&uu(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||za(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(u!==null&&uu(u),du(o)){case 2:case 8:o=Mm;break;case 32:o=Lo;break;case 268435456:o=Dm;break;default:o=Lo}return u=P0.bind(null,i),o=cu(o,u),i.callbackPriority=a,i.callbackNode=o,a}return u!==null&&u!==null&&uu(u),i.callbackPriority=2,i.callbackNode=null,2}function P0(i,a){if(pt!==0&&pt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Mr()&&i.callbackNode!==o)return null;var u=Ae;return u=Ho(i,i===Ue?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(x0(i,u,a),B0(i,yn()),i.callbackNode!=null&&i.callbackNode===o?P0.bind(null,i):null)}function U0(i,a){if(Mr())return null;x0(i,a,!0)}function hS(){xS(function(){(Re&6)!==0?cu(Nm,uS):H0()})}function Jh(){return os===0&&(os=Om()),os}function F0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vo(""+i)}function V0(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function fS(i,a,o,u,d){if(a==="submit"&&o&&o.stateNode===d){var g=F0((d[At]||null).action),v=u.submitter;v&&(a=(a=v[At]||null)?F0(a.formAction):v.getAttribute("formAction"),a!==null&&(g=a,v=null));var E=new Go("action","action",null,u,d);i.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(os!==0){var C=v?V0(d,v):new FormData(d);bh(o,{pending:!0,data:C,method:d.method,action:g},null,C)}}else typeof g=="function"&&(E.preventDefault(),C=v?V0(d,v):new FormData(d),bh(o,{pending:!0,data:C,method:d.method,action:g},g,C))},currentTarget:d}]})}}for(var ef=0;ef<Bu.length;ef++){var tf=Bu[ef],dS=tf.toLowerCase(),mS=tf[0].toUpperCase()+tf.slice(1);rn(dS,"on"+mS)}rn(xg,"onAnimationEnd"),rn(Eg,"onAnimationIteration"),rn(Sg,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(OE,"onTransitionRun"),rn(RE,"onTransitionStart"),rn(kE,"onTransitionCancel"),rn(wg,"onTransitionEnd"),Rs("onMouseEnter",["mouseout","mouseover"]),Rs("onMouseLeave",["mouseout","mouseover"]),Rs("onPointerEnter",["pointerout","pointerover"]),Rs("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function j0(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var v=u.length-1;0<=v;v--){var E=u[v],C=E.instance,O=E.currentTarget;if(E=E.listener,C!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=O;try{g(d)}catch(H){_r(H)}d.currentTarget=null,g=C}else for(v=0;v<u.length;v++){if(E=u[v],C=E.instance,O=E.currentTarget,E=E.listener,C!==g&&d.isPropagationStopped())break e;g=E,d.currentTarget=O;try{g(d)}catch(H){_r(H)}d.currentTarget=null,g=C}}}}function Se(i,a){var o=a[mu];o===void 0&&(o=a[mu]=new Set);var u=i+"__bubble";o.has(u)||(Y0(a,i,2,!1),o.add(u))}function nf(i,a,o){var u=0;a&&(u|=4),Y0(o,i,u,a)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function sf(i){if(!i[Rr]){i[Rr]=!0,Hm.forEach(function(o){o!=="selectionchange"&&(gS.has(o)||nf(o,!1,i),nf(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Rr]||(a[Rr]=!0,nf("selectionchange",!1,a))}}function Y0(i,a,o,u){switch(my(a)){case 2:var d=VS;break;case 8:d=jS;break;default:d=_f}o=d.bind(null,a,o,i),d=void 0,!Cu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(a,o,{capture:!0,passive:d}):i.addEventListener(a,o,!0):d!==void 0?i.addEventListener(a,o,{passive:d}):i.addEventListener(a,o,!1)}function af(i,a,o,u,d){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var E=u.stateNode.containerInfo;if(E===d)break;if(v===4)for(v=u.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;E!==null;){if(v=Ms(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){u=g=v;continue e}E=E.parentNode}}u=u.return}Zm(function(){var O=g,H=Su(o),j=[];e:{var L=Cg.get(i);if(L!==void 0){var z=Go,de=i;switch(i){case"keypress":if(Yo(o)===0)break e;case"keydown":case"keyup":z=cE;break;case"focusin":de="focus",z=Mu;break;case"focusout":de="blur",z=Mu;break;case"beforeblur":case"afterblur":z=Mu;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Z1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=fE;break;case xg:case Eg:case Sg:z=eE;break;case wg:z=mE;break;case"scroll":case"scrollend":z=X1;break;case"wheel":z=pE;break;case"copy":case"cut":case"paste":z=nE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=ng;break;case"toggle":case"beforetoggle":z=_E}var ce=(a&4)!==0,He=!ce&&(i==="scroll"||i==="scrollend"),M=ce?L!==null?L+"Capture":null:L;ce=[];for(var N=O,D;N!==null;){var P=N;if(D=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||D===null||M===null||(P=Pa(N,M),P!=null&&ce.push(xl(N,P,D))),He)break;N=N.return}0<ce.length&&(L=new z(L,de,null,o,H),j.push({event:L,listeners:ce}))}}if((a&7)===0){e:{if(L=i==="mouseover"||i==="pointerover",z=i==="mouseout"||i==="pointerout",L&&o!==Eu&&(de=o.relatedTarget||o.fromElement)&&(Ms(de)||de[Ns]))break e;if((z||L)&&(L=H.window===H?H:(L=H.ownerDocument)?L.defaultView||L.parentWindow:window,z?(de=o.relatedTarget||o.toElement,z=O,de=de?Ms(de):null,de!==null&&(He=r(de),ce=de.tag,de!==He||ce!==5&&ce!==27&&ce!==6)&&(de=null)):(z=null,de=O),z!==de)){if(ce=eg,P="onMouseLeave",M="onMouseEnter",N="mouse",(i==="pointerout"||i==="pointerover")&&(ce=ng,P="onPointerLeave",M="onPointerEnter",N="pointer"),He=z==null?L:Ba(z),D=de==null?L:Ba(de),L=new ce(P,N+"leave",z,o,H),L.target=He,L.relatedTarget=D,P=null,Ms(H)===O&&(ce=new ce(M,N+"enter",de,o,H),ce.target=D,ce.relatedTarget=He,P=ce),He=P,z&&de)t:{for(ce=z,M=de,N=0,D=ce;D;D=ca(D))N++;for(D=0,P=M;P;P=ca(P))D++;for(;0<N-D;)ce=ca(ce),N--;for(;0<D-N;)M=ca(M),D--;for(;N--;){if(ce===M||M!==null&&ce===M.alternate)break t;ce=ca(ce),M=ca(M)}ce=null}else ce=null;z!==null&&q0(j,L,z,ce,!1),de!==null&&He!==null&&q0(j,He,de,ce,!0)}}e:{if(L=O?Ba(O):window,z=L.nodeName&&L.nodeName.toLowerCase(),z==="select"||z==="input"&&L.type==="file")var se=ug;else if(rg(L))if(hg)se=NE;else{se=TE;var _e=CE}else z=L.nodeName,!z||z.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?O&&xu(O.elementType)&&(se=ug):se=AE;if(se&&(se=se(i,O))){cg(j,se,o,H);break e}_e&&_e(i,L,O),i==="focusout"&&O&&L.type==="number"&&O.memoizedProps.value!=null&&vu(L,"number",L.value)}switch(_e=O?Ba(O):window,i){case"focusin":(rg(_e)||_e.contentEditable==="true")&&(Ps=_e,zu=O,Wa=null);break;case"focusout":Wa=zu=Ps=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,bg(j,o,H);break;case"selectionchange":if(DE)break;case"keydown":case"keyup":bg(j,o,H)}var le;if(Ou)e:{switch(i){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Bs?lg(i,o)&&(he="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(he="onCompositionStart");he&&(ig&&o.locale!=="ko"&&(Bs||he!=="onCompositionStart"?he==="onCompositionEnd"&&Bs&&(le=$m()):(si=H,Tu="value"in si?si.value:si.textContent,Bs=!0)),_e=kr(O,he),0<_e.length&&(he=new tg(he,i,null,o,H),j.push({event:he,listeners:_e}),le?he.data=le:(le=og(o),le!==null&&(he.data=le)))),(le=vE?xE(i,o):EE(i,o))&&(he=kr(O,"onBeforeInput"),0<he.length&&(_e=new tg("onBeforeInput","beforeinput",null,o,H),j.push({event:_e,listeners:he}),_e.data=le)),fS(j,i,O,o,H)}j0(j,a)})}function xl(i,a,o){return{instance:i,listener:a,currentTarget:o}}function kr(i,a){for(var o=a+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Pa(i,o),d!=null&&u.unshift(xl(i,d,g)),d=Pa(i,a),d!=null&&u.push(xl(i,d,g))),i.tag===3)return u;i=i.return}return[]}function ca(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function q0(i,a,o,u,d){for(var g=a._reactName,v=[];o!==null&&o!==u;){var E=o,C=E.alternate,O=E.stateNode;if(E=E.tag,C!==null&&C===u)break;E!==5&&E!==26&&E!==27||O===null||(C=O,d?(O=Pa(o,g),O!=null&&v.unshift(xl(o,O,C))):d||(O=Pa(o,g),O!=null&&v.push(xl(o,O,C)))),o=o.return}v.length!==0&&i.push({event:a,listeners:v})}var pS=/\r\n?/g,yS=/\u0000|\uFFFD/g;function G0(i){return(typeof i=="string"?i:""+i).replace(pS,`
`).replace(yS,"")}function W0(i,a){return a=G0(a),G0(i)===a}function Lr(){}function Ie(i,a,o,u,d,g){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||zs(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&zs(i,""+u);break;case"className":Po(i,"class",u);break;case"tabIndex":Po(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Po(i,o,u);break;case"style":Xm(i,u,g);break;case"data":if(a!=="object"){Po(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Vo(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&Ie(i,a,"name",d.name,d,null),Ie(i,a,"formEncType",d.formEncType,d,null),Ie(i,a,"formMethod",d.formMethod,d,null),Ie(i,a,"formTarget",d.formTarget,d,null)):(Ie(i,a,"encType",d.encType,d,null),Ie(i,a,"method",d.method,d,null),Ie(i,a,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Vo(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Lr);break;case"onScroll":u!=null&&Se("scroll",i);break;case"onScrollEnd":u!=null&&Se("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Vo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Se("beforetoggle",i),Se("toggle",i),Bo(i,"popover",u);break;case"xlinkActuate":Nn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Bo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=W1.get(o)||o,Bo(i,o,u))}}function lf(i,a,o,u,d,g){switch(o){case"style":Xm(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?zs(i,u):(typeof u=="number"||typeof u=="bigint")&&zs(i,""+u);break;case"onScroll":u!=null&&Se("scroll",i);break;case"onScrollEnd":u!=null&&Se("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bm.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),a=o.slice(2,d?o.length-7:void 0),g=i[At]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(a,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,u,d);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Bo(i,o,u)}}}function yt(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",i),Se("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var v=o[g];if(v!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Ie(i,a,g,v,o,null)}}d&&Ie(i,a,"srcSet",o.srcSet,o,null),u&&Ie(i,a,"src",o.src,o,null);return;case"input":Se("invalid",i);var E=g=v=d=null,C=null,O=null;for(u in o)if(o.hasOwnProperty(u)){var H=o[u];if(H!=null)switch(u){case"name":d=H;break;case"type":v=H;break;case"checked":C=H;break;case"defaultChecked":O=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,a));break;default:Ie(i,a,u,H,o,null)}}qm(i,g,E,C,O,v,d,!1),Uo(i);return;case"select":Se("invalid",i),u=v=g=null;for(d in o)if(o.hasOwnProperty(d)&&(E=o[d],E!=null))switch(d){case"value":g=E;break;case"defaultValue":v=E;break;case"multiple":u=E;default:Ie(i,a,d,E,o,null)}a=g,o=v,i.multiple=!!u,a!=null?Ls(i,!!u,a,!1):o!=null&&Ls(i,!!u,o,!0);return;case"textarea":Se("invalid",i),g=d=u=null;for(v in o)if(o.hasOwnProperty(v)&&(E=o[v],E!=null))switch(v){case"value":u=E;break;case"defaultValue":d=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ie(i,a,v,E,o,null)}Wm(i,u,d,g),Uo(i);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(u=o[C],u!=null))switch(C){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ie(i,a,C,u,o,null)}return;case"dialog":Se("beforetoggle",i),Se("toggle",i),Se("cancel",i),Se("close",i);break;case"iframe":case"object":Se("load",i);break;case"video":case"audio":for(u=0;u<vl.length;u++)Se(vl[u],i);break;case"image":Se("error",i),Se("load",i);break;case"details":Se("toggle",i);break;case"embed":case"source":case"link":Se("error",i),Se("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Ie(i,a,O,u,o,null)}return;default:if(xu(a)){for(H in o)o.hasOwnProperty(H)&&(u=o[H],u!==void 0&&lf(i,a,H,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&Ie(i,a,E,u,o,null))}function _S(i,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,v=null,E=null,C=null,O=null,H=null;for(z in o){var j=o[z];if(o.hasOwnProperty(z)&&j!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":C=j;default:u.hasOwnProperty(z)||Ie(i,a,z,null,u,j)}}for(var L in u){var z=u[L];if(j=o[L],u.hasOwnProperty(L)&&(z!=null||j!=null))switch(L){case"type":g=z;break;case"name":d=z;break;case"checked":O=z;break;case"defaultChecked":H=z;break;case"value":v=z;break;case"defaultValue":E=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,a));break;default:z!==j&&Ie(i,a,L,z,u,j)}}bu(i,v,E,C,O,H,g,d);return;case"select":z=v=E=L=null;for(g in o)if(C=o[g],o.hasOwnProperty(g)&&C!=null)switch(g){case"value":break;case"multiple":z=C;default:u.hasOwnProperty(g)||Ie(i,a,g,null,u,C)}for(d in u)if(g=u[d],C=o[d],u.hasOwnProperty(d)&&(g!=null||C!=null))switch(d){case"value":L=g;break;case"defaultValue":E=g;break;case"multiple":v=g;default:g!==C&&Ie(i,a,d,g,u,C)}a=E,o=v,u=z,L!=null?Ls(i,!!o,L,!1):!!u!=!!o&&(a!=null?Ls(i,!!o,a,!0):Ls(i,!!o,o?[]:"",!1));return;case"textarea":z=L=null;for(E in o)if(d=o[E],o.hasOwnProperty(E)&&d!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ie(i,a,E,null,u,d)}for(v in u)if(d=u[v],g=o[v],u.hasOwnProperty(v)&&(d!=null||g!=null))switch(v){case"value":L=d;break;case"defaultValue":z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==g&&Ie(i,a,v,d,u,g)}Gm(i,L,z);return;case"option":for(var de in o)if(L=o[de],o.hasOwnProperty(de)&&L!=null&&!u.hasOwnProperty(de))switch(de){case"selected":i.selected=!1;break;default:Ie(i,a,de,null,u,L)}for(C in u)if(L=u[C],z=o[C],u.hasOwnProperty(C)&&L!==z&&(L!=null||z!=null))switch(C){case"selected":i.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Ie(i,a,C,L,u,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in o)L=o[ce],o.hasOwnProperty(ce)&&L!=null&&!u.hasOwnProperty(ce)&&Ie(i,a,ce,null,u,L);for(O in u)if(L=u[O],z=o[O],u.hasOwnProperty(O)&&L!==z&&(L!=null||z!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,a));break;default:Ie(i,a,O,L,u,z)}return;default:if(xu(a)){for(var He in o)L=o[He],o.hasOwnProperty(He)&&L!==void 0&&!u.hasOwnProperty(He)&&lf(i,a,He,void 0,u,L);for(H in u)L=u[H],z=o[H],!u.hasOwnProperty(H)||L===z||L===void 0&&z===void 0||lf(i,a,H,L,u,z);return}}for(var M in o)L=o[M],o.hasOwnProperty(M)&&L!=null&&!u.hasOwnProperty(M)&&Ie(i,a,M,null,u,L);for(j in u)L=u[j],z=o[j],!u.hasOwnProperty(j)||L===z||L==null&&z==null||Ie(i,a,j,L,u,z)}var of=null,rf=null;function zr(i){return i.nodeType===9?i:i.ownerDocument}function K0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X0(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function cf(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var uf=null;function bS(){var i=window.event;return i&&i.type==="popstate"?i===uf?!1:(uf=i,!0):(uf=null,!1)}var Q0=typeof setTimeout=="function"?setTimeout:void 0,vS=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,xS=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(i){return Z0.resolve(null).then(i).catch(ES)}:Q0;function ES(i){setTimeout(function(){throw i})}function vi(i){return i==="head"}function $0(i,a){var o=a,u=0,d=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var v=i.ownerDocument;if(o&1&&El(v.documentElement),o&2&&El(v.body),o&4)for(o=v.head,El(o),v=o.firstChild;v;){var E=v.nextSibling,C=v.nodeName;v[Ha]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=E}}if(d===0){i.removeChild(g),Dl(a);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Dl(a)}function hf(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hf(o),gu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function SS(i,a,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ha])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=un(i.nextSibling),i===null)break}return null}function wS(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=un(i.nextSibling),i===null))return null;return i}function ff(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function CS(i,a){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function un(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var df=null;function J0(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return i;a--}else o==="/$"&&a++}i=i.previousSibling}return null}function ey(i,a,o){switch(a=zr(o),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function El(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);gu(i)}var sn=new Map,ty=new Set;function Ir(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Vn=G.d;G.d={f:TS,r:AS,D:NS,C:MS,L:DS,m:OS,X:kS,S:RS,M:LS};function TS(){var i=Vn.f(),a=Ar();return i||a}function AS(i){var a=Ds(i);a!==null&&a.tag===5&&a.type==="form"?xp(a):Vn.r(i)}var ua=typeof document>"u"?null:document;function ny(i,a,o){var u=ua;if(u&&typeof a=="string"&&a){var d=Qt(a);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),ty.has(d)||(ty.add(d),i={rel:i,crossOrigin:o,href:a},u.querySelector(d)===null&&(a=u.createElement("link"),yt(a,"link",i),rt(a),u.head.appendChild(a)))}}function NS(i){Vn.D(i),ny("dns-prefetch",i,null)}function MS(i,a){Vn.C(i,a),ny("preconnect",i,a)}function DS(i,a,o){Vn.L(i,a,o);var u=ua;if(u&&i&&a){var d='link[rel="preload"][as="'+Qt(a)+'"]';a==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Qt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Qt(o.imageSizes)+'"]')):d+='[href="'+Qt(i)+'"]';var g=d;switch(a){case"style":g=ha(i);break;case"script":g=fa(i)}sn.has(g)||(i=p({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),sn.set(g,i),u.querySelector(d)!==null||a==="style"&&u.querySelector(Sl(g))||a==="script"&&u.querySelector(wl(g))||(a=u.createElement("link"),yt(a,"link",i),rt(a),u.head.appendChild(a)))}}function OS(i,a){Vn.m(i,a);var o=ua;if(o&&i){var u=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Qt(u)+'"][href="'+Qt(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=fa(i)}if(!sn.has(g)&&(i=p({rel:"modulepreload",href:i},a),sn.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wl(g)))return}u=o.createElement("link"),yt(u,"link",i),rt(u),o.head.appendChild(u)}}}function RS(i,a,o){Vn.S(i,a,o);var u=ua;if(u&&i){var d=Os(u).hoistableStyles,g=ha(i);a=a||"default";var v=d.get(g);if(!v){var E={loading:0,preload:null};if(v=u.querySelector(Sl(g)))E.loading=5;else{i=p({rel:"stylesheet",href:i,"data-precedence":a},o),(o=sn.get(g))&&mf(i,o);var C=v=u.createElement("link");rt(C),yt(C,"link",i),C._p=new Promise(function(O,H){C.onload=O,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Hr(v,a,u)}v={type:"stylesheet",instance:v,count:1,state:E},d.set(g,v)}}}function kS(i,a){Vn.X(i,a);var o=ua;if(o&&i){var u=Os(o).hoistableScripts,d=fa(i),g=u.get(d);g||(g=o.querySelector(wl(d)),g||(i=p({src:i,async:!0},a),(a=sn.get(d))&&gf(i,a),g=o.createElement("script"),rt(g),yt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function LS(i,a){Vn.M(i,a);var o=ua;if(o&&i){var u=Os(o).hoistableScripts,d=fa(i),g=u.get(d);g||(g=o.querySelector(wl(d)),g||(i=p({src:i,async:!0,type:"module"},a),(a=sn.get(d))&&gf(i,a),g=o.createElement("script"),rt(g),yt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function iy(i,a,o,u){var d=(d=re.current)?Ir(d):null;if(!d)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=ha(o.href),o=Os(d).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ha(o.href);var g=Os(d).hoistableStyles,v=g.get(i);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,v),(g=d.querySelector(Sl(i)))&&!g._p&&(v.instance=g,v.state.loading=5),sn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},sn.set(i,o),g||zS(d,i,o,v.state))),a&&u===null)throw Error(s(528,""));return v}if(a&&u!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=fa(o),o=Os(d).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ha(i){return'href="'+Qt(i)+'"'}function Sl(i){return'link[rel="stylesheet"]['+i+"]"}function sy(i){return p({},i,{"data-precedence":i.precedence,precedence:null})}function zS(i,a,o,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),yt(a,"link",o),rt(a),i.head.appendChild(a))}function fa(i){return'[src="'+Qt(i)+'"]'}function wl(i){return"script[async]"+i}function ay(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+Qt(o.href)+'"]');if(u)return a.instance=u,rt(u),u;var d=p({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),rt(u),yt(u,"style",d),Hr(u,o.precedence,i),a.instance=u;case"stylesheet":d=ha(o.href);var g=i.querySelector(Sl(d));if(g)return a.state.loading|=4,a.instance=g,rt(g),g;u=sy(o),(d=sn.get(d))&&mf(u,d),g=(i.ownerDocument||i).createElement("link"),rt(g);var v=g;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),yt(g,"link",u),a.state.loading|=4,Hr(g,o.precedence,i),a.instance=g;case"script":return g=fa(o.src),(d=i.querySelector(wl(g)))?(a.instance=d,rt(d),d):(u=o,(d=sn.get(g))&&(u=p({},o),gf(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),rt(d),yt(d,"link",u),i.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Hr(u,o.precedence,i));return a.instance}function Hr(i,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,v=0;v<u.length;v++){var E=u[v];if(E.dataset.precedence===a)g=E;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function mf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function gf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Br=null;function ly(i,a,o){if(Br===null){var u=new Map,d=Br=new Map;d.set(o,u)}else d=Br,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[Ha]||g[bt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var v=g.getAttribute(a)||"";v=i+v;var E=u.get(v);E?E.push(g):u.set(v,[g])}}return u}function oy(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function IS(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ry(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Cl=null;function HS(){}function BS(i,a,o){if(Cl===null)throw Error(s(475));var u=Cl;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=ha(o.href),g=i.querySelector(Sl(d));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Pr.bind(u),i.then(u,u)),a.state.loading|=4,a.instance=g,rt(g);return}g=i.ownerDocument||i,o=sy(o),(d=sn.get(d))&&mf(o,d),g=g.createElement("link"),rt(g);var v=g;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),yt(g,"link",o),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Pr.bind(u),i.addEventListener("load",a),i.addEventListener("error",a))}}function PS(){if(Cl===null)throw Error(s(475));var i=Cl;return i.stylesheets&&i.count===0&&pf(i,i.stylesheets),0<i.count?function(a){var o=setTimeout(function(){if(i.stylesheets&&pf(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Pr(){if(this.count--,this.count===0){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Ur=null;function pf(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Ur=new Map,a.forEach(US,i),Ur=null,Pr.call(i))}function US(i,a){if(!(a.state.loading&4)){var o=Ur.get(i);if(o)var u=o.get(null);else{o=new Map,Ur.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var v=d[g];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(o.set(v.dataset.precedence,v),u=v)}u&&o.set(null,u)}d=a.instance,v=d.getAttribute("data-precedence"),g=o.get(v)||u,g===u&&o.set(null,d),o.set(v,d),this.count++,u=Pr.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),a.state.loading|=4}}var Tl={$$typeof:U,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function FS(i,a,o,u,d,g,v,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.hiddenUpdates=hu(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function cy(i,a,o,u,d,g,v,E,C,O,H,j){return i=new FS(i,a,o,v,E,C,O,j),a=1,g===!0&&(a|=24),g=Ut(3,null,null,a),i.current=g,g.stateNode=i,a=Qu(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:a},eh(g),i}function uy(i){return i?(i=js,i):js}function hy(i,a,o,u,d,g){d=uy(d),u.context===null?u.context=d:u.pendingContext=d,u=oi(a),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ri(i,u,a),o!==null&&(qt(o,i,a),nl(o,i,a))}function fy(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function yf(i,a){fy(i,a),(i=i.alternate)&&fy(i,a)}function dy(i){if(i.tag===13){var a=Vs(i,67108864);a!==null&&qt(a,i,67108864),yf(i,67108864)}}var Fr=!0;function VS(i,a,o,u){var d=k.T;k.T=null;var g=G.p;try{G.p=2,_f(i,a,o,u)}finally{G.p=g,k.T=d}}function jS(i,a,o,u){var d=k.T;k.T=null;var g=G.p;try{G.p=8,_f(i,a,o,u)}finally{G.p=g,k.T=d}}function _f(i,a,o,u){if(Fr){var d=bf(u);if(d===null)af(i,a,u,Vr,o),gy(i,u);else if(qS(d,i,a,o,u))u.stopPropagation();else if(gy(i,u),a&4&&-1<YS.indexOf(i)){for(;d!==null;){var g=Ds(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var v=Yi(g.pendingLanes);if(v!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-Bt(v);E.entanglements[1]|=C,v&=~C}En(g),(Re&6)===0&&(Cr=yn()+500,bl(0))}}break;case 13:E=Vs(g,2),E!==null&&qt(E,g,2),Ar(),yf(g,2)}if(g=bf(u),g===null&&af(i,a,u,Vr,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else af(i,a,u,null,o)}}function bf(i){return i=Su(i),vf(i)}var Vr=null;function vf(i){if(Vr=null,i=Ms(i),i!==null){var a=r(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=c(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Vr=i,null}function my(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(M1()){case Nm:return 2;case Mm:return 8;case Lo:case D1:return 32;case Dm:return 268435456;default:return 32}default:return 32}}var xf=!1,xi=null,Ei=null,Si=null,Al=new Map,Nl=new Map,wi=[],YS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gy(i,a){switch(i){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Al.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(a.pointerId)}}function Ml(i,a,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},a!==null&&(a=Ds(a),a!==null&&dy(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),i)}function qS(i,a,o,u,d){switch(a){case"focusin":return xi=Ml(xi,i,a,o,u,d),!0;case"dragenter":return Ei=Ml(Ei,i,a,o,u,d),!0;case"mouseover":return Si=Ml(Si,i,a,o,u,d),!0;case"pointerover":var g=d.pointerId;return Al.set(g,Ml(Al.get(g)||null,i,a,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Nl.set(g,Ml(Nl.get(g)||null,i,a,o,u,d)),!0}return!1}function py(i){var a=Ms(i.target);if(a!==null){var o=r(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){i.blockedOn=a,B1(i.priority,function(){if(o.tag===13){var u=Yt();u=fu(u);var d=Vs(o,u);d!==null&&qt(d,o,u),yf(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function jr(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=bf(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Eu=u,o.target.dispatchEvent(u),Eu=null}else return a=Ds(o),a!==null&&dy(a),i.blockedOn=o,!1;a.shift()}return!0}function yy(i,a,o){jr(i)&&o.delete(a)}function GS(){xf=!1,xi!==null&&jr(xi)&&(xi=null),Ei!==null&&jr(Ei)&&(Ei=null),Si!==null&&jr(Si)&&(Si=null),Al.forEach(yy),Nl.forEach(yy)}function Yr(i,a){i.blockedOn===a&&(i.blockedOn=null,xf||(xf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,GS)))}var qr=null;function _y(i){qr!==i&&(qr=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qr===i&&(qr=null);for(var a=0;a<i.length;a+=3){var o=i[a],u=i[a+1],d=i[a+2];if(typeof u!="function"){if(vf(u||o)===null)continue;break}var g=Ds(o);g!==null&&(i.splice(a,3),a-=3,bh(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Dl(i){function a(C){return Yr(C,i)}xi!==null&&Yr(xi,i),Ei!==null&&Yr(Ei,i),Si!==null&&Yr(Si,i),Al.forEach(a),Nl.forEach(a);for(var o=0;o<wi.length;o++){var u=wi[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<wi.length&&(o=wi[0],o.blockedOn===null);)py(o),o.blockedOn===null&&wi.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],v=d[At]||null;if(typeof g=="function")v||_y(o);else if(v){var E=null;if(g&&g.hasAttribute("formAction")){if(d=g,v=g[At]||null)E=v.formAction;else if(vf(d)!==null)continue}else E=v.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),_y(o)}}}function Ef(i){this._internalRoot=i}Gr.prototype.render=Ef.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,u=Yt();hy(o,u,i,a,null,null)},Gr.prototype.unmount=Ef.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;hy(i.current,2,null,i,null,null),Ar(),a[Ns]=null}};function Gr(i){this._internalRoot=i}Gr.prototype.unstable_scheduleHydration=function(i){if(i){var a=zm();i={blockedOn:null,target:i,priority:a};for(var o=0;o<wi.length&&a!==0&&a<wi[o].priority;o++);wi.splice(o,0,i),o===0&&py(i)}};var by=e.version;if(by!=="19.1.1")throw Error(s(527,by,"19.1.1"));G.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=f(a),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var WS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wr.isDisabled&&Wr.supportsFiber)try{La=Wr.inject(WS),Ht=Wr}catch{}}return Ol.createRoot=function(i,a){if(!l(i))throw Error(s(299));var o=!1,u="",d=zp,g=Ip,v=Hp,E=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks)),a=cy(i,1,!1,null,null,o,u,d,g,v,E,null),i[Ns]=a.current,sf(i),new Ef(a)},Ol.hydrateRoot=function(i,a,o){if(!l(i))throw Error(s(299));var u=!1,d="",g=zp,v=Ip,E=Hp,C=null,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(v=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(C=o.unstable_transitionCallbacks),o.formState!==void 0&&(O=o.formState)),a=cy(i,1,!0,a,o??null,u,d,g,v,E,C,O),a.context=uy(null),o=a.current,u=Yt(),u=fu(u),d=oi(u),d.callback=null,ri(o,d,u),o=u,a.current.lanes=o,Ia(a,o),En(a),i[Ns]=a.current,sf(i),new Gr(a)},Ol.version="19.1.1",Ol}var Ay;function iw(){if(Ay)return wf.exports;Ay=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wf.exports=nw(),wf.exports}var sw=iw();const aw=qb(sw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ow=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Ny=n=>{const e=ow(n);return e.charAt(0).toUpperCase()+e.slice(1)},Gb=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),rw=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ie.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:l="",children:r,iconNode:c,...h},f)=>ie.createElement("svg",{ref:f,...cw,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:Gb("lucide",l),...!r&&!rw(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,p])=>ie.createElement(m,p)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=(n,e)=>{const t=ie.forwardRef(({className:s,...l},r)=>ie.createElement(uw,{ref:r,iconNode:e,className:Gb(`lucide-${lw(Ny(n))}`,`lucide-${n}`,s),...l}));return t.displayName=Ny(n),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],My=$n("chart-column",hw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dw=$n("download",fw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Wb=$n("droplets",mw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],pw=$n("file-text",gw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],_w=$n("house",yw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vw=$n("image",bw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ew=$n("map-pin",xw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ww=$n("triangle-alert",Sw);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],uc=$n("waves",Cw),Tw=()=>b.createElement("header",{className:"relative bg-white/80 backdrop-blur-lg shadow-xl border-b border-blue-200/50"},b.createElement("div",{className:"max-w-7xl mx-auto px-4 py-6"},b.createElement("div",{className:"flex items-center space-x-4"},b.createElement("h1",{className:"text-3xl font-black bg-gradient-to-r from-blue-600 via-cyan-600 to-teal-600 bg-clip-text text-transparent tracking-wide drop-shadow-lg"},"Kinneret Pollution Monitor"),b.createElement("div",{className:"relative"},b.createElement(Wb,{className:"w-8 h-8 text-blue-600"}))))),Aw=({activeTab:n,setActiveTab:e})=>{const t=[{id:"home",label:"Home",icon:_w,color:"from-blue-600 to-cyan-700"},{id:"ecoreport",label:"EcoReport",icon:pw,color:"from-green-600 to-emerald-700"},{id:"statistics",label:"Statistics",icon:My,color:"from-red-600 to-orange-700"},{id:"pollutionEstimates",label:"Pollution Estimates",icon:My,color:"from-red-600 to-yellow-500"},{id:"gallery",label:"Gallery",icon:vw,color:"from-purple-600 to-pink-700"},{id:"download",label:"Download Data",icon:dw,color:"from-gray-600 to-blue-600"}];return b.createElement("nav",{className:"bg-white/90 backdrop-blur-lg border-b border-blue-200/30 sticky top-0 z-50"},b.createElement("div",{className:"w-full max-w-screen-xl mx-auto px-4"},b.createElement("div",{className:"flex flex-wrap space-x-2 overflow-x-visible"},t.map(s=>{const l=s.icon,r=n===s.id;return b.createElement("button",{key:s.id,onClick:()=>e(s.id),className:`group flex items-center space-x-3 py-4 px-6 font-medium text-sm transition-all duration-300 transform hover:scale-105 relative ${r?"text-white":"text-gray-600 hover:text-gray-800"}`},r&&b.createElement("div",{className:`absolute inset-0 rounded-xl bg-gradient-to-r ${s.color} animate-tabpop`}),!r&&b.createElement("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-gray-100 to-gray-200 opacity-0 group-hover:opacity-100 transition-all duration-300"}),b.createElement("div",{className:"relative z-10 flex items-center space-x-3"},b.createElement("span",{className:"whitespace-nowrap"},s.label),b.createElement(l,{className:`w-5 h-5 transition-all duration-300 ${r?"animate-bounce":"group-hover:rotate-12"}`})))}))))},Kb=document.createElement("style");Kb.innerHTML=`
@keyframes tabpop {
  0% { transform: scale(0.8); opacity: 0.5; }
  60% { transform: scale(1.08); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}
.animate-tabpop {
  animation: tabpop 0.5s cubic-bezier(.4,0,.2,1);
}
`;document.head.appendChild(Kb);const Nw=({contaminants:n,algaeBloom:e})=>b.createElement("div",{className:"absolute inset-0 bg-gradient-to-b from-cyan-200/60 via-blue-200/50 to-teal-300/60 rounded-2xl"},b.createElement("div",{className:"absolute bottom-0 left-0 right-0 h-32"},b.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-cyan-300/50 to-transparent animate-pulse"}),b.createElement(uc,{className:"absolute bottom-4 left-4 w-8 h-8 text-cyan-600 animate-bounce"}),b.createElement(uc,{className:"absolute bottom-6 right-8 w-6 h-6 text-blue-600 animate-bounce"}),b.createElement(uc,{className:"absolute bottom-8 left-1/2 w-7 h-7 text-teal-600 animate-bounce"})),n.map(t=>b.createElement("div",{key:t.id,className:`absolute rounded-full animate-pulse ${t.type==="chemical"?"bg-yellow-600/70":"bg-brown-600/60"}`,style:{left:`${t.x}%`,top:`${t.y}%`,width:`${t.size}px`,height:`${t.size}px`,opacity:t.opacity}})),e.map(t=>b.createElement("div",{key:t.id,className:"absolute rounded-full bg-green-500/40 animate-pulse",style:{left:`${t.x}%`,top:`${t.y}%`,width:`${t.size}px`,height:`${t.size}px`,opacity:t.intensity,filter:"blur(2px)"}})),b.createElement("div",{className:"absolute top-12 left-16 w-3 h-3 bg-cyan-300 rounded-full animate-bounce opacity-70"}),b.createElement("div",{className:"absolute top-24 right-20 w-2 h-2 bg-blue-400 rounded-full animate-pulse opacity-60"}),b.createElement("div",{className:"absolute top-36 left-1/3 w-4 h-4 bg-teal-300 rounded-full animate-ping opacity-50"}),b.createElement("div",{className:"absolute bottom-40 right-1/4 w-2 h-2 bg-cyan-400 rounded-full animate-bounce opacity-80"})),Mw=()=>b.createElement("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-6 mt-16 max-w-6xl mx-auto px-4"},b.createElement("div",{className:"col-span-1 md:col-span-2 group bg-red-100/90 backdrop-blur-sm p-8 rounded-2xl shadow-2xl hover:shadow-red-500/25 transform hover:scale-105 transition-all duration-500 border border-red-300/50 relative overflow-hidden"},b.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/10 to-orange-500/10 animate-pulse"}),b.createElement("div",{className:"relative"},b.createElement("h3",{className:"text-xl font-black mb-4 text-red-800 flex items-center justify-center tracking-wide drop-shadow-md"},"Heavy Metals ",b.createElement(Wb,{className:"w-6 h-6 text-red-600 animate-bounce ml-2"})),b.createElement("p",{className:"text-base text-red-700 font-semibold text-center tracking-wide"},"Critical contamination levels detected in lake water"))),b.createElement("div",{className:"col-span-1 md:col-span-3 group bg-green-100/90 backdrop-blur-sm p-8 rounded-2xl shadow-2xl hover:shadow-green-500/25 transform hover:scale-105 transition-all duration-500 border border-green-300/50 relative overflow-hidden"},b.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-green-600/20 to-yellow-500/20 animate-pulse"}),b.createElement("div",{className:"relative"},b.createElement("h3",{className:"text-xl font-black mb-4 text-green-800 flex items-center justify-center tracking-wide drop-shadow-md"},"Chemical Levels",b.createElement("div",{className:"relative w-6 h-6 ml-2"},b.createElement("div",{className:"w-6 h-6 relative"},b.createElement("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-3 h-5 bg-gradient-to-t from-green-600 to-green-400 rounded-b-lg opacity-90"}),b.createElement("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-3 h-3 bg-gradient-to-t from-yellow-400 to-green-300 rounded-b-lg animate-pulse"}),b.createElement("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-4 h-1 bg-gray-400 rounded-t-sm"}),b.createElement("div",{className:"absolute top-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white rounded-full opacity-80 animate-ping"}),b.createElement("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 w-0.5 h-0.5 bg-white rounded-full opacity-60 animate-pulse"})))),b.createElement("p",{className:"text-base text-green-700 font-semibold text-center tracking-wide"},"Nitrates and chemical runoff monitoring system with comprehensive analysis of water quality parameters including seasonal variations and environmental impact assessments"))),b.createElement("div",{className:"col-span-1 md:col-span-2 group bg-blue-100/90 backdrop-blur-sm p-8 rounded-2xl shadow-2xl hover:shadow-blue-500/25 transform hover:scale-105 transition-all duration-500 border border-blue-300/50 relative overflow-hidden"},b.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 animate-pulse"}),b.createElement("div",{className:"relative"},b.createElement("h3",{className:"text-xl font-black mb-4 text-blue-800 flex items-center justify-center tracking-wide drop-shadow-md"},"Flood Impact ",b.createElement(uc,{className:"w-6 h-6 text-blue-600 animate-bounce ml-2"})),b.createElement("p",{className:"text-base text-blue-700 font-semibold text-center tracking-wide"},"E.coli contamination from flooding events")))),Dw="/assets/sun-KC8YWpit.webp",Ow=({kinneretFacts:n,currentFact:e,setCurrentFact:t})=>b.createElement("div",{className:"mt-16"},b.createElement("div",{className:"relative max-w-2xl mx-auto"},b.createElement("div",{className:"text-center mb-6"},b.createElement("h2",{className:"text-5xl font-black text-blue-500 mb-2 tracking-wider drop-shadow-lg"},"DID YOU"),b.createElement("h2",{className:"text-5xl font-black text-blue-500 tracking-wider drop-shadow-lg"},"KNOW?")),b.createElement("div",{className:"bg-white rounded-3xl border-4 border-blue-500 p-8 shadow-2xl relative overflow-hidden transition-all duration-500 ease-in-out"},b.createElement("div",{className:"absolute top-4 right-1"},b.createElement("div",{className:"relative w-20 h-20 -mt-4"},b.createElement("div",{className:"w-full h-full bg-yellow-400 rounded-full flex items-center justify-center"},b.createElement("img",{src:Dw,alt:"Description"})))),b.createElement("div",{className:"pr-8 transition-all duration-500 ease-in-out text-center"},b.createElement("h3",{className:"text-2xl font-black text-black mb-4 uppercase tracking-widest transition-all duration-500 drop-shadow-md"},n[e].title),b.createElement("p",{className:"text-gray-600 text-lg leading-relaxed transition-all duration-500 font-medium tracking-wide"},n[e].description),b.createElement("div",{className:"mt-6 p-4 bg-blue-50 rounded-2xl border-l-4 border-blue-500 transition-all duration-500"},b.createElement("p",{className:"text-blue-800 font-black text-xl transition-all duration-500 tracking-wide drop-shadow-sm"},n[e].value)))),b.createElement("div",{className:"flex justify-center mt-6 space-x-3"},n.map((s,l)=>b.createElement("div",{key:l,className:`w-4 h-4 rounded-full transition-all duration-300 ${l===e?"bg-blue-500 scale-125 shadow-lg":"bg-blue-200 hover:bg-blue-300 cursor-pointer"}`,onClick:()=>t(l)}))))),Rw=({contaminants:n,algaeBloom:e,kinneretFacts:t,currentFact:s,setCurrentFact:l})=>b.createElement("div",{className:"relative min-h-[800px] overflow-hidden"},b.createElement(Nw,{contaminants:n,algaeBloom:e}),b.createElement("div",{className:"relative z-10 text-center py-20"},b.createElement("div",null,b.createElement("div",{className:"mb-8 relative"},b.createElement("div",{className:"flex items-center justify-center mb-4"},b.createElement(Ew,{className:"w-8 h-8 text-red-500 mr-3 animate-pulse"}),b.createElement("span",{className:"text-xl text-blue-800 font-black tracking-wider drop-shadow-lg"},"Sea of Galilee (Kinneret), Israel")),b.createElement("h2",{className:"text-7xl font-black mb-4 bg-gradient-to-r from-blue-600 via-cyan-500 to-teal-600 bg-clip-text text-transparent drop-shadow-2xl tracking-tight"},"Kinneret Pollution Report"),b.createElement("div",{className:"absolute -top-4 -right-16"},b.createElement(ww,{className:"w-16 h-16 text-red-500 animate-bounce"}))),b.createElement("p",{className:"text-2xl text-gray-800 mb-12 max-w-4xl mx-auto leading-relaxed font-medium tracking-wide drop-shadow-sm"},"Comprehensive environmental monitoring of Lake Kinneret including heavy metals analysis, chemical contamination tracking, and flood impact assessment with real-time data visualization"),b.createElement(Mw,null),b.createElement(Ow,{kinneretFacts:t,currentFact:s,setCurrentFact:l}))));/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Eo(n){return n+.5|0}const Ai=(n,e,t)=>Math.max(Math.min(n,t),e);function Fl(n){return Ai(Eo(n*2.55),0,255)}function Ri(n){return Ai(Eo(n*255),0,255)}function Wn(n){return Ai(Eo(n/2.55)/100,0,1)}function Dy(n){return Ai(Eo(n*100),0,100)}const an={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ed=[..."0123456789ABCDEF"],kw=n=>ed[n&15],Lw=n=>ed[(n&240)>>4]+ed[n&15],Kr=n=>(n&240)>>4===(n&15),zw=n=>Kr(n.r)&&Kr(n.g)&&Kr(n.b)&&Kr(n.a);function Iw(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&an[n[1]]*17,g:255&an[n[2]]*17,b:255&an[n[3]]*17,a:e===5?an[n[4]]*17:255}:(e===7||e===9)&&(t={r:an[n[1]]<<4|an[n[2]],g:an[n[3]]<<4|an[n[4]],b:an[n[5]]<<4|an[n[6]],a:e===9?an[n[7]]<<4|an[n[8]]:255})),t}const Hw=(n,e)=>n<255?e(n):"";function Bw(n){var e=zw(n)?kw:Lw;return n?"#"+e(n.r)+e(n.g)+e(n.b)+Hw(n.a,e):void 0}const Pw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Xb(n,e,t){const s=e*Math.min(t,1-t),l=(r,c=(r+n/30)%12)=>t-s*Math.max(Math.min(c-3,9-c,1),-1);return[l(0),l(8),l(4)]}function Uw(n,e,t){const s=(l,r=(l+n/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function Fw(n,e,t){const s=Xb(n,1,.5);let l;for(e+t>1&&(l=1/(e+t),e*=l,t*=l),l=0;l<3;l++)s[l]*=1-e-t,s[l]+=e;return s}function Vw(n,e,t,s,l){return n===l?(e-t)/s+(e<t?6:0):e===l?(t-n)/s+2:(n-e)/s+4}function Dd(n){const t=n.r/255,s=n.g/255,l=n.b/255,r=Math.max(t,s,l),c=Math.min(t,s,l),h=(r+c)/2;let f,m,p;return r!==c&&(p=r-c,m=h>.5?p/(2-r-c):p/(r+c),f=Vw(t,s,l,p,r),f=f*60+.5),[f|0,m||0,h]}function Od(n,e,t,s){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,s)).map(Ri)}function Rd(n,e,t){return Od(Xb,n,e,t)}function jw(n,e,t){return Od(Fw,n,e,t)}function Yw(n,e,t){return Od(Uw,n,e,t)}function Qb(n){return(n%360+360)%360}function qw(n){const e=Pw.exec(n);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?Fl(+e[5]):Ri(+e[5]));const l=Qb(+e[2]),r=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?s=jw(l,r,c):e[1]==="hsv"?s=Yw(l,r,c):s=Rd(l,r,c),{r:s[0],g:s[1],b:s[2],a:t}}function Gw(n,e){var t=Dd(n);t[0]=Qb(t[0]+e),t=Rd(t),n.r=t[0],n.g=t[1],n.b=t[2]}function Ww(n){if(!n)return;const e=Dd(n),t=e[0],s=Dy(e[1]),l=Dy(e[2]);return n.a<255?`hsla(${t}, ${s}%, ${l}%, ${Wn(n.a)})`:`hsl(${t}, ${s}%, ${l}%)`}const Oy={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ry={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Kw(){const n={},e=Object.keys(Ry),t=Object.keys(Oy);let s,l,r,c,h;for(s=0;s<e.length;s++){for(c=h=e[s],l=0;l<t.length;l++)r=t[l],h=h.replace(r,Oy[r]);r=parseInt(Ry[c],16),n[h]=[r>>16&255,r>>8&255,r&255]}return n}let Xr;function Xw(n){Xr||(Xr=Kw(),Xr.transparent=[0,0,0,0]);const e=Xr[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Qw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Zw(n){const e=Qw.exec(n);let t=255,s,l,r;if(e){if(e[7]!==s){const c=+e[7];t=e[8]?Fl(c):Ai(c*255,0,255)}return s=+e[1],l=+e[3],r=+e[5],s=255&(e[2]?Fl(s):Ai(s,0,255)),l=255&(e[4]?Fl(l):Ai(l,0,255)),r=255&(e[6]?Fl(r):Ai(r,0,255)),{r:s,g:l,b:r,a:t}}}function $w(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Wn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Nf=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,da=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Jw(n,e,t){const s=da(Wn(n.r)),l=da(Wn(n.g)),r=da(Wn(n.b));return{r:Ri(Nf(s+t*(da(Wn(e.r))-s))),g:Ri(Nf(l+t*(da(Wn(e.g))-l))),b:Ri(Nf(r+t*(da(Wn(e.b))-r))),a:n.a+t*(e.a-n.a)}}function Qr(n,e,t){if(n){let s=Dd(n);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=Rd(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function Zb(n,e){return n&&Object.assign(e||{},n)}function ky(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ri(n[3]))):(e=Zb(n,{r:0,g:0,b:0,a:1}),e.a=Ri(e.a)),e}function e2(n){return n.charAt(0)==="r"?Zw(n):qw(n)}class no{constructor(e){if(e instanceof no)return e;const t=typeof e;let s;t==="object"?s=ky(e):t==="string"&&(s=Iw(e)||Xw(e)||e2(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Zb(this._rgb);return e&&(e.a=Wn(e.a)),e}set rgb(e){this._rgb=ky(e)}rgbString(){return this._valid?$w(this._rgb):void 0}hexString(){return this._valid?Bw(this._rgb):void 0}hslString(){return this._valid?Ww(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,l=e.rgb;let r;const c=t===r?.5:t,h=2*c-1,f=s.a-l.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;r=1-m,s.r=255&m*s.r+r*l.r+.5,s.g=255&m*s.g+r*l.g+.5,s.b=255&m*s.b+r*l.b+.5,s.a=c*s.a+(1-c)*l.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=Jw(this._rgb,e._rgb,t)),this}clone(){return new no(this.rgb)}alpha(e){return this._rgb.a=Ri(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Eo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Qr(this._rgb,2,e),this}darken(e){return Qr(this._rgb,2,-e),this}saturate(e){return Qr(this._rgb,1,e),this}desaturate(e){return Qr(this._rgb,1,-e),this}rotate(e){return Gw(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function jn(){}const t2=(()=>{let n=0;return()=>n++})();function Oe(n){return n==null}function nt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Te(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function it(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Gt(n,e){return it(n)?n:e}function be(n,e){return typeof n>"u"?e:n}const n2=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function je(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Le(n,e,t,s){let l,r,c;if(nt(n))for(r=n.length,l=0;l<r;l++)e.call(t,n[l],l);else if(Te(n))for(c=Object.keys(n),r=c.length,l=0;l<r;l++)e.call(t,n[c[l]],c[l])}function bc(n,e){let t,s,l,r;if(!n||!e||n.length!==e.length)return!1;for(t=0,s=n.length;t<s;++t)if(l=n[t],r=e[t],l.datasetIndex!==r.datasetIndex||l.index!==r.index)return!1;return!0}function vc(n){if(nt(n))return n.map(vc);if(Te(n)){const e=Object.create(null),t=Object.keys(n),s=t.length;let l=0;for(;l<s;++l)e[t[l]]=vc(n[t[l]]);return e}return n}function $b(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function i2(n,e,t,s){if(!$b(n))return;const l=e[n],r=t[n];Te(l)&&Te(r)?io(l,r,s):e[n]=vc(r)}function io(n,e,t){const s=nt(e)?e:[e],l=s.length;if(!Te(n))return n;t=t||{};const r=t.merger||i2;let c;for(let h=0;h<l;++h){if(c=s[h],!Te(c))continue;const f=Object.keys(c);for(let m=0,p=f.length;m<p;++m)r(f[m],n,c,t)}return n}function Yl(n,e){return io(n,e,{merger:s2})}function s2(n,e,t){if(!$b(n))return;const s=e[n],l=t[n];Te(s)&&Te(l)?Yl(s,l):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=vc(l))}const Ly={"":n=>n,x:n=>n.x,y:n=>n.y};function a2(n){const e=n.split("."),t=[];let s="";for(const l of e)s+=l,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function l2(n){const e=a2(n);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function Ea(n,e){return(Ly[e]||(Ly[e]=l2(e)))(n)}function kd(n){return n.charAt(0).toUpperCase()+n.slice(1)}const so=n=>typeof n<"u",Pi=n=>typeof n=="function",zy=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function o2(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const mt=Math.PI,gn=2*mt,r2=gn+mt,xc=Number.POSITIVE_INFINITY,c2=mt/180,fn=mt/2,rs=mt/4,Iy=mt*2/3,Ni=Math.log10,Tn=Math.sign;function ql(n,e,t){return Math.abs(n-e)<t}function Hy(n){const e=Math.round(n);n=ql(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Ni(n))),s=n/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function u2(n){const e=[],t=Math.sqrt(n);let s;for(s=1;s<t;s++)n%s===0&&(e.push(s),e.push(n/s));return t===(t|0)&&e.push(t),e.sort((l,r)=>l-r).pop(),e}function h2(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Sa(n){return!h2(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function f2(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Jb(n,e,t){let s,l,r;for(s=0,l=n.length;s<l;s++)r=n[s][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function ps(n){return n*(mt/180)}function d2(n){return n*(180/mt)}function By(n){if(!it(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function m2(n,e){const t=e.x-n.x,s=e.y-n.y,l=Math.sqrt(t*t+s*s);let r=Math.atan2(s,t);return r<-.5*mt&&(r+=gn),{angle:r,distance:l}}function td(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function g2(n,e){return(n-e+r2)%gn-mt}function Cn(n){return(n%gn+gn)%gn}function ev(n,e,t,s){const l=Cn(n),r=Cn(e),c=Cn(t),h=Cn(r-l),f=Cn(c-l),m=Cn(l-r),p=Cn(l-c);return l===r||l===c||s&&r===c||h>f&&m<p}function Wt(n,e,t){return Math.max(e,Math.min(t,n))}function p2(n){return Wt(n,-32768,32767)}function Mi(n,e,t,s=1e-6){return n>=Math.min(e,t)-s&&n<=Math.max(e,t)+s}function Ld(n,e,t){t=t||(c=>n[c]<e);let s=n.length-1,l=0,r;for(;s-l>1;)r=l+s>>1,t(r)?l=r:s=r;return{lo:l,hi:s}}const ys=(n,e,t,s)=>Ld(n,t,s?l=>{const r=n[l][e];return r<t||r===t&&n[l+1][e]===t}:l=>n[l][e]<t),y2=(n,e,t)=>Ld(n,t,s=>n[s][e]>=t);function _2(n,e,t){let s=0,l=n.length;for(;s<l&&n[s]<e;)s++;for(;l>s&&n[l-1]>t;)l--;return s>0||l<n.length?n.slice(s,l):n}const tv=["push","pop","shift","splice","unshift"];function b2(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),tv.forEach(t=>{const s="_onData"+kd(t),l=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...r){const c=l.apply(this,r);return n._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...r)}),c}})})}function Py(n,e){const t=n._chartjs;if(!t)return;const s=t.listeners,l=s.indexOf(e);l!==-1&&s.splice(l,1),!(s.length>0)&&(tv.forEach(r=>{delete n[r]}),delete n._chartjs)}function nv(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const iv=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function sv(n,e){let t=[],s=!1;return function(...l){t=l,s||(s=!0,iv.call(window,()=>{s=!1,n.apply(e,t)}))}}function v2(n,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(n,e,s)):n.apply(this,s),e}}const zd=n=>n==="start"?"left":n==="end"?"right":"center",Et=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,x2=(n,e,t,s)=>n===(s?"left":"right")?t:n==="center"?(e+t)/2:e;function av(n,e,t){const s=e.length;let l=0,r=s;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=c.axis,{min:y,max:_,minDefined:x,maxDefined:S}=c.getUserBounds();if(x){if(l=Math.min(ys(f,p,y).lo,t?s:ys(e,p,c.getPixelForValue(y)).lo),m){const w=f.slice(0,l+1).reverse().findIndex(T=>!Oe(T[h.axis]));l-=Math.max(0,w)}l=Wt(l,0,s-1)}if(S){let w=Math.max(ys(f,c.axis,_,!0).hi+1,t?0:ys(e,p,c.getPixelForValue(_),!0).hi+1);if(m){const T=f.slice(w-1).findIndex(R=>!Oe(R[h.axis]));w+=Math.max(0,T)}r=Wt(w,l,s)-l}else r=s-l}return{start:l,count:r}}function lv(n){const{xScale:e,yScale:t,_scaleRanges:s}=n,l={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return n._scaleRanges=l,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,l),r}const Zr=n=>n===0||n===1,Uy=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*gn/t)),Fy=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*gn/t)+1,Gl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*fn)+1,easeOutSine:n=>Math.sin(n*fn),easeInOutSine:n=>-.5*(Math.cos(mt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Zr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Zr(n)?n:Uy(n,.075,.3),easeOutElastic:n=>Zr(n)?n:Fy(n,.075,.3),easeInOutElastic(n){return Zr(n)?n:n<.5?.5*Uy(n*2,.1125,.45):.5+.5*Fy(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Gl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Gl.easeInBounce(n*2)*.5:Gl.easeOutBounce(n*2-1)*.5+.5};function Id(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Vy(n){return Id(n)?n:new no(n)}function Mf(n){return Id(n)?n:new no(n).saturate(.5).darken(.1).hexString()}const E2=["x","y","borderWidth","radius","tension"],S2=["color","borderColor","backgroundColor"];function w2(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:S2},numbers:{type:"number",properties:E2}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function C2(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jy=new Map;function T2(n,e){e=e||{};const t=n+JSON.stringify(e);let s=jy.get(t);return s||(s=new Intl.NumberFormat(n,e),jy.set(t,s)),s}function Hd(n,e,t){return T2(e,t).format(n)}const ov={values(n){return nt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const s=this.chart.options.locale;let l,r=n;if(t.length>1){const m=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(m<1e-4||m>1e15)&&(l="scientific"),r=A2(n,t)}const c=Ni(Math.abs(r)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:l,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Hd(n,s,f)},logarithmic(n,e,t){if(n===0)return"0";const s=t[e].significand||n/Math.pow(10,Math.floor(Ni(n)));return[1,2,3,5,10,15].includes(s)||e>.8*t.length?ov.numeric.call(this,n,e,t):""}};function A2(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Bd={formatters:ov};function N2(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const xs=Object.create(null),nd=Object.create(null);function Wl(n,e){if(!e)return n;const t=e.split(".");for(let s=0,l=t.length;s<l;++s){const r=t[s];n=n[r]||(n[r]=Object.create(null))}return n}function Df(n,e,t){return typeof e=="string"?io(Wl(n,e),t):io(Wl(n,""),e)}class M2{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,l)=>Mf(l.backgroundColor),this.hoverBorderColor=(s,l)=>Mf(l.borderColor),this.hoverColor=(s,l)=>Mf(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Df(this,e,t)}get(e){return Wl(this,e)}describe(e,t){return Df(nd,e,t)}override(e,t){return Df(xs,e,t)}route(e,t,s,l){const r=Wl(this,e),c=Wl(this,s),h="_"+t;Object.defineProperties(r,{[h]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const f=this[h],m=c[l];return Te(f)?Object.assign({},m,f):be(f,m)},set(f){this[h]=f}}})}apply(e){e.forEach(t=>t(this))}}var Je=new M2({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[w2,C2,N2]);function D2(n){return!n||Oe(n.size)||Oe(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Yy(n,e,t,s,l){let r=e[l];return r||(r=e[l]=n.measureText(l).width,t.push(l)),r>s&&(s=r),s}function cs(n,e,t){const s=n.currentDevicePixelRatio,l=t!==0?Math.max(t/2,.5):0;return Math.round((e-l)*s)/s+l}function qy(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function id(n,e,t,s){rv(n,e,t,s,null)}function rv(n,e,t,s,l){let r,c,h,f,m,p,y,_;const x=e.pointStyle,S=e.rotation,w=e.radius;let T=(S||0)*c2;if(x&&typeof x=="object"&&(r=x.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(t,s),n.rotate(T),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(w)||w<=0)){switch(n.beginPath(),x){default:l?n.ellipse(t,s,l/2,w,0,0,gn):n.arc(t,s,w,0,gn),n.closePath();break;case"triangle":p=l?l/2:w,n.moveTo(t+Math.sin(T)*p,s-Math.cos(T)*w),T+=Iy,n.lineTo(t+Math.sin(T)*p,s-Math.cos(T)*w),T+=Iy,n.lineTo(t+Math.sin(T)*p,s-Math.cos(T)*w),n.closePath();break;case"rectRounded":m=w*.516,f=w-m,c=Math.cos(T+rs)*f,y=Math.cos(T+rs)*(l?l/2-m:f),h=Math.sin(T+rs)*f,_=Math.sin(T+rs)*(l?l/2-m:f),n.arc(t-y,s-h,m,T-mt,T-fn),n.arc(t+_,s-c,m,T-fn,T),n.arc(t+y,s+h,m,T,T+fn),n.arc(t-_,s+c,m,T+fn,T+mt),n.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*w,p=l?l/2:f,n.rect(t-p,s-f,2*p,2*f);break}T+=rs;case"rectRot":y=Math.cos(T)*(l?l/2:w),c=Math.cos(T)*w,h=Math.sin(T)*w,_=Math.sin(T)*(l?l/2:w),n.moveTo(t-y,s-h),n.lineTo(t+_,s-c),n.lineTo(t+y,s+h),n.lineTo(t-_,s+c),n.closePath();break;case"crossRot":T+=rs;case"cross":y=Math.cos(T)*(l?l/2:w),c=Math.cos(T)*w,h=Math.sin(T)*w,_=Math.sin(T)*(l?l/2:w),n.moveTo(t-y,s-h),n.lineTo(t+y,s+h),n.moveTo(t+_,s-c),n.lineTo(t-_,s+c);break;case"star":y=Math.cos(T)*(l?l/2:w),c=Math.cos(T)*w,h=Math.sin(T)*w,_=Math.sin(T)*(l?l/2:w),n.moveTo(t-y,s-h),n.lineTo(t+y,s+h),n.moveTo(t+_,s-c),n.lineTo(t-_,s+c),T+=rs,y=Math.cos(T)*(l?l/2:w),c=Math.cos(T)*w,h=Math.sin(T)*w,_=Math.sin(T)*(l?l/2:w),n.moveTo(t-y,s-h),n.lineTo(t+y,s+h),n.moveTo(t+_,s-c),n.lineTo(t-_,s+c);break;case"line":c=l?l/2:Math.cos(T)*w,h=Math.sin(T)*w,n.moveTo(t-c,s-h),n.lineTo(t+c,s+h);break;case"dash":n.moveTo(t,s),n.lineTo(t+Math.cos(T)*(l?l/2:w),s+Math.sin(T)*w);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function ao(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Gc(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Wc(n){n.restore()}function O2(n,e,t,s,l){if(!e)return n.lineTo(t.x,t.y);if(l==="middle"){const r=(e.x+t.x)/2;n.lineTo(r,e.y),n.lineTo(r,t.y)}else l==="after"!=!!s?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function R2(n,e,t,s){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function k2(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Oe(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function L2(n,e,t,s,l){if(l.strikethrough||l.underline){const r=n.measureText(s),c=e-r.actualBoundingBoxLeft,h=e+r.actualBoundingBoxRight,f=t-r.actualBoundingBoxAscent,m=t+r.actualBoundingBoxDescent,p=l.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=l.decorationWidth||2,n.moveTo(c,p),n.lineTo(h,p),n.stroke()}}function z2(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function lo(n,e,t,s,l,r={}){const c=nt(e)?e:[e],h=r.strokeWidth>0&&r.strokeColor!=="";let f,m;for(n.save(),n.font=l.string,k2(n,r),f=0;f<c.length;++f)m=c[f],r.backdrop&&z2(n,r.backdrop),h&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),Oe(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(m,t,s,r.maxWidth)),n.fillText(m,t,s,r.maxWidth),L2(n,t,s,m,r),s+=Number(l.lineHeight);n.restore()}function Ec(n,e){const{x:t,y:s,w:l,h:r,radius:c}=e;n.arc(t+c.topLeft,s+c.topLeft,c.topLeft,1.5*mt,mt,!0),n.lineTo(t,s+r-c.bottomLeft),n.arc(t+c.bottomLeft,s+r-c.bottomLeft,c.bottomLeft,mt,fn,!0),n.lineTo(t+l-c.bottomRight,s+r),n.arc(t+l-c.bottomRight,s+r-c.bottomRight,c.bottomRight,fn,0,!0),n.lineTo(t+l,s+c.topRight),n.arc(t+l-c.topRight,s+c.topRight,c.topRight,0,-fn,!0),n.lineTo(t+c.topLeft,s)}const I2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,H2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function B2(n,e){const t=(""+n).match(I2);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const P2=n=>+n||0;function cv(n,e){const t={},s=Te(e),l=s?Object.keys(e):e,r=Te(n)?s?c=>be(n[c],n[e[c]]):c=>n[c]:()=>n;for(const c of l)t[c]=P2(r(c));return t}function uv(n){return cv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ya(n){return cv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function on(n){const e=uv(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function wt(n,e){n=n||{},e=e||Je.font;let t=be(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=be(n.style,e.style);s&&!(""+s).match(H2)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const l={family:be(n.family,e.family),lineHeight:B2(be(n.lineHeight,e.lineHeight),t),size:t,style:s,weight:be(n.weight,e.weight),string:""};return l.string=D2(l),l}function $r(n,e,t,s){let l,r,c;for(l=0,r=n.length;l<r;++l)if(c=n[l],c!==void 0&&c!==void 0)return c}function U2(n,e,t){const{min:s,max:l}=n,r=n2(e,(l-s)/2),c=(h,f)=>t&&h===0?0:h+f;return{min:c(s,-Math.abs(r)),max:c(l,r)}}function Cs(n,e){return Object.assign(Object.create(n),e)}function Pd(n,e=[""],t,s,l=()=>n[0]){const r=t||n;typeof s>"u"&&(s=mv("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:s,_getTarget:l,override:h=>Pd([h,...n],e,r,s)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return fv(h,f,()=>K2(f,e,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return Wy(h).includes(f)},ownKeys(h){return Wy(h)},set(h,f,m){const p=h._storage||(h._storage=l());return h[f]=p[f]=m,delete h._keys,!0}})}function wa(n,e,t,s){const l={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:hv(n,s),setContext:r=>wa(n,r,t,s),override:r=>wa(n.override(r),e,t,s)};return new Proxy(l,{deleteProperty(r,c){return delete r[c],delete n[c],!0},get(r,c,h){return fv(r,c,()=>V2(r,c,h))},getOwnPropertyDescriptor(r,c){return r._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(r,c,h){return n[c]=h,delete r[c],!0}})}function hv(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:l=e.allKeys}=n;return{allKeys:l,scriptable:t,indexable:s,isScriptable:Pi(t)?t:()=>t,isIndexable:Pi(s)?s:()=>s}}const F2=(n,e)=>n?n+kd(e):e,Ud=(n,e)=>Te(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function fv(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const s=t();return n[e]=s,s}function V2(n,e,t){const{_proxy:s,_context:l,_subProxy:r,_descriptors:c}=n;let h=s[e];return Pi(h)&&c.isScriptable(e)&&(h=j2(e,h,n,t)),nt(h)&&h.length&&(h=Y2(e,h,n,c.isIndexable)),Ud(e,h)&&(h=wa(h,l,r&&r[e],c)),h}function j2(n,e,t,s){const{_proxy:l,_context:r,_subProxy:c,_stack:h}=t;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=e(r,c||s);return h.delete(n),Ud(n,f)&&(f=Fd(l._scopes,l,n,f)),f}function Y2(n,e,t,s){const{_proxy:l,_context:r,_subProxy:c,_descriptors:h}=t;if(typeof r.index<"u"&&s(n))return e[r.index%e.length];if(Te(e[0])){const f=e,m=l._scopes.filter(p=>p!==f);e=[];for(const p of f){const y=Fd(m,l,n,p);e.push(wa(y,r,c&&c[n],h))}}return e}function dv(n,e,t){return Pi(n)?n(e,t):n}const q2=(n,e)=>n===!0?e:typeof n=="string"?Ea(e,n):void 0;function G2(n,e,t,s,l){for(const r of e){const c=q2(t,r);if(c){n.add(c);const h=dv(c._fallback,t,l);if(typeof h<"u"&&h!==t&&h!==s)return h}else if(c===!1&&typeof s<"u"&&t!==s)return null}return!1}function Fd(n,e,t,s){const l=e._rootScopes,r=dv(e._fallback,t,s),c=[...n,...l],h=new Set;h.add(s);let f=Gy(h,c,t,r||t,s);return f===null||typeof r<"u"&&r!==t&&(f=Gy(h,c,r,f,s),f===null)?!1:Pd(Array.from(h),[""],l,r,()=>W2(e,t,s))}function Gy(n,e,t,s,l){for(;t;)t=G2(n,e,t,s,l);return t}function W2(n,e,t){const s=n._getTarget();e in s||(s[e]={});const l=s[e];return nt(l)&&Te(t)?t:l||{}}function K2(n,e,t,s){let l;for(const r of e)if(l=mv(F2(r,n),t),typeof l<"u")return Ud(n,l)?Fd(t,s,n,l):l}function mv(n,e){for(const t of e){if(!t)continue;const s=t[n];if(typeof s<"u")return s}}function Wy(n){let e=n._keys;return e||(e=n._keys=X2(n._scopes)),e}function X2(n){const e=new Set;for(const t of n)for(const s of Object.keys(t).filter(l=>!l.startsWith("_")))e.add(s);return Array.from(e)}const Q2=Number.EPSILON||1e-14,Ca=(n,e)=>e<n.length&&!n[e].skip&&n[e],gv=n=>n==="x"?"y":"x";function Z2(n,e,t,s){const l=n.skip?e:n,r=e,c=t.skip?e:t,h=td(r,l),f=td(c,r);let m=h/(h+f),p=f/(h+f);m=isNaN(m)?0:m,p=isNaN(p)?0:p;const y=s*m,_=s*p;return{previous:{x:r.x-y*(c.x-l.x),y:r.y-y*(c.y-l.y)},next:{x:r.x+_*(c.x-l.x),y:r.y+_*(c.y-l.y)}}}function $2(n,e,t){const s=n.length;let l,r,c,h,f,m=Ca(n,0);for(let p=0;p<s-1;++p)if(f=m,m=Ca(n,p+1),!(!f||!m)){if(ql(e[p],0,Q2)){t[p]=t[p+1]=0;continue}l=t[p]/e[p],r=t[p+1]/e[p],h=Math.pow(l,2)+Math.pow(r,2),!(h<=9)&&(c=3/Math.sqrt(h),t[p]=l*c*e[p],t[p+1]=r*c*e[p])}}function J2(n,e,t="x"){const s=gv(t),l=n.length;let r,c,h,f=Ca(n,0);for(let m=0;m<l;++m){if(c=h,h=f,f=Ca(n,m+1),!h)continue;const p=h[t],y=h[s];c&&(r=(p-c[t])/3,h[`cp1${t}`]=p-r,h[`cp1${s}`]=y-r*e[m]),f&&(r=(f[t]-p)/3,h[`cp2${t}`]=p+r,h[`cp2${s}`]=y+r*e[m])}}function eC(n,e="x"){const t=gv(e),s=n.length,l=Array(s).fill(0),r=Array(s);let c,h,f,m=Ca(n,0);for(c=0;c<s;++c)if(h=f,f=m,m=Ca(n,c+1),!!f){if(m){const p=m[e]-f[e];l[c]=p!==0?(m[t]-f[t])/p:0}r[c]=h?m?Tn(l[c-1])!==Tn(l[c])?0:(l[c-1]+l[c])/2:l[c-1]:l[c]}$2(n,l,r),J2(n,r,e)}function Jr(n,e,t){return Math.max(Math.min(n,t),e)}function tC(n,e){let t,s,l,r,c,h=ao(n[0],e);for(t=0,s=n.length;t<s;++t)c=r,r=h,h=t<s-1&&ao(n[t+1],e),r&&(l=n[t],c&&(l.cp1x=Jr(l.cp1x,e.left,e.right),l.cp1y=Jr(l.cp1y,e.top,e.bottom)),h&&(l.cp2x=Jr(l.cp2x,e.left,e.right),l.cp2y=Jr(l.cp2y,e.top,e.bottom)))}function nC(n,e,t,s,l){let r,c,h,f;if(e.spanGaps&&(n=n.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")eC(n,l);else{let m=s?n[n.length-1]:n[0];for(r=0,c=n.length;r<c;++r)h=n[r],f=Z2(m,h,n[Math.min(r+1,c-(s?0:1))%c],e.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,m=h}e.capBezierPoints&&tC(n,t)}function Vd(){return typeof window<"u"&&typeof document<"u"}function jd(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Sc(n,e,t){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=n,s}const Kc=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function iC(n,e){return Kc(n).getPropertyValue(e)}const sC=["top","right","bottom","left"];function bs(n,e,t){const s={};t=t?"-"+t:"";for(let l=0;l<4;l++){const r=sC[l];s[r]=parseFloat(n[e+"-"+r+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const aC=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function lC(n,e){const t=n.touches,s=t&&t.length?t[0]:n,{offsetX:l,offsetY:r}=s;let c=!1,h,f;if(aC(l,r,n.target))h=l,f=r;else{const m=e.getBoundingClientRect();h=s.clientX-m.left,f=s.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function fs(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:s}=e,l=Kc(t),r=l.boxSizing==="border-box",c=bs(l,"padding"),h=bs(l,"border","width"),{x:f,y:m,box:p}=lC(n,t),y=c.left+(p&&h.left),_=c.top+(p&&h.top);let{width:x,height:S}=e;return r&&(x-=c.width+h.width,S-=c.height+h.height),{x:Math.round((f-y)/x*t.width/s),y:Math.round((m-_)/S*t.height/s)}}function oC(n,e,t){let s,l;if(e===void 0||t===void 0){const r=n&&jd(n);if(!r)e=n.clientWidth,t=n.clientHeight;else{const c=r.getBoundingClientRect(),h=Kc(r),f=bs(h,"border","width"),m=bs(h,"padding");e=c.width-m.width-f.width,t=c.height-m.height-f.height,s=Sc(h.maxWidth,r,"clientWidth"),l=Sc(h.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:s||xc,maxHeight:l||xc}}const ec=n=>Math.round(n*10)/10;function rC(n,e,t,s){const l=Kc(n),r=bs(l,"margin"),c=Sc(l.maxWidth,n,"clientWidth")||xc,h=Sc(l.maxHeight,n,"clientHeight")||xc,f=oC(n,e,t);let{width:m,height:p}=f;if(l.boxSizing==="content-box"){const _=bs(l,"border","width"),x=bs(l,"padding");m-=x.width+_.width,p-=x.height+_.height}return m=Math.max(0,m-r.width),p=Math.max(0,s?m/s:p-r.height),m=ec(Math.min(m,c,f.maxWidth)),p=ec(Math.min(p,h,f.maxHeight)),m&&!p&&(p=ec(m/2)),(e!==void 0||t!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,m=ec(Math.floor(p*s))),{width:m,height:p}}function Ky(n,e,t){const s=e||1,l=Math.floor(n.height*s),r=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||c.height!==l||c.width!==r?(n.currentDevicePixelRatio=s,c.height=l,c.width=r,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const cC=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Vd()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function Xy(n,e){const t=iC(n,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ds(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function uC(n,e,t,s){return{x:n.x+t*(e.x-n.x),y:s==="middle"?t<.5?n.y:e.y:s==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function hC(n,e,t,s){const l={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},c=ds(n,l,t),h=ds(l,r,t),f=ds(r,e,t),m=ds(c,h,t),p=ds(h,f,t);return ds(m,p,t)}const fC=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},dC=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function _a(n,e,t){return n?fC(e,t):dC()}function pv(n,e){let t,s;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=s)}function yv(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function _v(n){return n==="angle"?{between:ev,compare:g2,normalize:Cn}:{between:Mi,compare:(e,t)=>e-t,normalize:e=>e}}function Qy({start:n,end:e,count:t,loop:s,style:l}){return{start:n%t,end:e%t,loop:s&&(e-n+1)%t===0,style:l}}function mC(n,e,t){const{property:s,start:l,end:r}=t,{between:c,normalize:h}=_v(s),f=e.length;let{start:m,end:p,loop:y}=n,_,x;if(y){for(m+=f,p+=f,_=0,x=f;_<x&&c(h(e[m%f][s]),l,r);++_)m--,p--;m%=f,p%=f}return p<m&&(p+=f),{start:m,end:p,loop:y,style:n.style}}function bv(n,e,t){if(!t)return[n];const{property:s,start:l,end:r}=t,c=e.length,{compare:h,between:f,normalize:m}=_v(s),{start:p,end:y,loop:_,style:x}=mC(n,e,t),S=[];let w=!1,T=null,R,B,U;const Y=()=>f(l,U,R)&&h(l,U)!==0,I=()=>h(r,R)===0||f(r,U,R),Z=()=>w||Y(),F=()=>!w||I();for(let W=p,q=p;W<=y;++W)B=e[W%c],!B.skip&&(R=m(B[s]),R!==U&&(w=f(R,l,r),T===null&&Z()&&(T=h(R,l)===0?W:q),T!==null&&F()&&(S.push(Qy({start:T,end:W,loop:_,count:c,style:x})),T=null),q=W,U=R));return T!==null&&S.push(Qy({start:T,end:y,loop:_,count:c,style:x})),S}function vv(n,e){const t=[],s=n.segments;for(let l=0;l<s.length;l++){const r=bv(s[l],n.points,e);r.length&&t.push(...r)}return t}function gC(n,e,t,s){let l=0,r=e-1;if(t&&!s)for(;l<e&&!n[l].skip;)l++;for(;l<e&&n[l].skip;)l++;for(l%=e,t&&(r+=l);r>l&&n[r%e].skip;)r--;return r%=e,{start:l,end:r}}function pC(n,e,t,s){const l=n.length,r=[];let c=e,h=n[e],f;for(f=e+1;f<=t;++f){const m=n[f%l];m.skip||m.stop?h.skip||(s=!1,r.push({start:e%l,end:(f-1)%l,loop:s}),e=c=m.stop?f:null):(c=f,h.skip&&(e=f)),h=m}return c!==null&&r.push({start:e%l,end:c%l,loop:s}),r}function yC(n,e){const t=n.points,s=n.options.spanGaps,l=t.length;if(!l)return[];const r=!!n._loop,{start:c,end:h}=gC(t,l,r,s);if(s===!0)return Zy(n,[{start:c,end:h,loop:r}],t,e);const f=h<c?h+l:h,m=!!n._fullLoop&&c===0&&h===l-1;return Zy(n,pC(t,c,f,m),t,e)}function Zy(n,e,t,s){return!s||!s.setContext||!t?e:_C(n,e,t,s)}function _C(n,e,t,s){const l=n._chart.getContext(),r=$y(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=t.length,m=[];let p=r,y=e[0].start,_=y;function x(S,w,T,R){const B=h?-1:1;if(S!==w){for(S+=f;t[S%f].skip;)S-=B;for(;t[w%f].skip;)w+=B;S%f!==w%f&&(m.push({start:S%f,end:w%f,loop:T,style:R}),p=R,y=w%f)}}for(const S of e){y=h?y:S.start;let w=t[y%f],T;for(_=y+1;_<=S.end;_++){const R=t[_%f];T=$y(s.setContext(Cs(l,{type:"segment",p0:w,p1:R,p0DataIndex:(_-1)%f,p1DataIndex:_%f,datasetIndex:c}))),bC(T,p)&&x(y,_-1,S.loop,p),w=R,p=T}y<_-1&&x(y,_-1,S.loop,p)}return m}function $y(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function bC(n,e){if(!e)return!1;const t=[],s=function(l,r){return Id(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(n,s)!==JSON.stringify(e,s)}function tc(n,e,t){return n.options.clip?n[t]:e[t]}function vC(n,e){const{xScale:t,yScale:s}=n;return t&&s?{left:tc(t,e,"left"),right:tc(t,e,"right"),top:tc(s,e,"top"),bottom:tc(s,e,"bottom")}:e}function xv(n,e){const t=e._clip;if(t.disabled)return!1;const s=vC(e,n.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:s.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class xC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,l){const r=t.listeners[l],c=t.duration;r.forEach(h=>h({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(s-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=iv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,l)=>{if(!s.running||!s.items.length)return;const r=s.items;let c=r.length-1,h=!1,f;for(;c>=0;--c)f=r[c],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(e),h=!0):(r[c]=r[r.length-1],r.pop());h&&(l.draw(),this._notify(l,s,e,"progress")),r.length||(s.running=!1,this._notify(l,s,e,"complete"),s.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,l)=>Math.max(s,l._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let l=s.length-1;for(;l>=0;--l)s[l].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var qn=new xC;const Jy="transparent",EC={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const s=Vy(n||Jy),l=s.valid&&Vy(e||Jy);return l&&l.valid?l.mix(s,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class SC{constructor(e,t,s,l){const r=t[s];l=$r([e.to,l,r,e.from]);const c=$r([e.from,r,l]);this._active=!0,this._fn=e.fn||EC[e.type||typeof c],this._easing=Gl[e.easing]||Gl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=c,this._to=l,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const l=this._target[this._prop],r=s-this._start,c=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=$r([e.to,t,l,e.from]),this._from=$r([e.from,l,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,l=this._prop,r=this._from,c=this._loop,h=this._to;let f;if(this._active=r!==h&&(c||t<s),!this._active){this._target[l]=h,this._notify(!0);return}if(t<0){this._target[l]=r;return}f=t/s%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[l]=this._fn(r,h,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let l=0;l<s.length;l++)s[l][t]()}}class Ev{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Te(e))return;const t=Object.keys(Je.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(l=>{const r=e[l];if(!Te(r))return;const c={};for(const h of t)c[h]=r[h];(nt(r.properties)&&r.properties||[l]).forEach(h=>{(h===l||!s.has(h))&&s.set(h,c)})})}_animateOptions(e,t){const s=t.options,l=CC(e,s);if(!l)return[];const r=this._createAnimations(l,s);return s.$shared&&wC(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,t){const s=this._properties,l=[],r=e.$animations||(e.$animations={}),c=Object.keys(t),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){l.push(...this._animateOptions(e,t));continue}const p=t[m];let y=r[m];const _=s.get(m);if(y)if(_&&y.active()){y.update(_,p,h);continue}else y.cancel();if(!_||!_.duration){e[m]=p;continue}r[m]=y=new SC(_,e,m,p),l.push(y)}return l}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return qn.add(this._chart,s),!0}}function wC(n,e){const t=[],s=Object.keys(e);for(let l=0;l<s.length;l++){const r=n[s[l]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function CC(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function e_(n,e){const t=n&&n.options||{},s=t.reverse,l=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:s?r:l,end:s?l:r}}function TC(n,e,t){if(t===!1)return!1;const s=e_(n,t),l=e_(e,t);return{top:l.end,right:s.end,bottom:l.start,left:s.start}}function AC(n){let e,t,s,l;return Te(n)?(e=n.top,t=n.right,s=n.bottom,l=n.left):e=t=s=l=n,{top:e,right:t,bottom:s,left:l,disabled:n===!1}}function Sv(n,e){const t=[],s=n._getSortedDatasetMetas(e);let l,r;for(l=0,r=s.length;l<r;++l)t.push(s[l].index);return t}function t_(n,e,t,s={}){const l=n.keys,r=s.mode==="single";let c,h,f,m;if(e===null)return;let p=!1;for(c=0,h=l.length;c<h;++c){if(f=+l[c],f===t){if(p=!0,s.all)continue;break}m=n.values[f],it(m)&&(r||e===0||Tn(e)===Tn(m))&&(e+=m)}return!p&&!s.all?0:e}function NC(n,e){const{iScale:t,vScale:s}=e,l=t.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,p;for(f=0,m=c.length;f<m;++f)p=c[f],h[f]={[l]:p,[r]:n[p]};return h}function Of(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function MC(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function DC(n){const{min:e,max:t,minDefined:s,maxDefined:l}=n.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:l?t:Number.POSITIVE_INFINITY}}function OC(n,e,t){const s=n[e]||(n[e]={});return s[t]||(s[t]={})}function n_(n,e,t,s){for(const l of e.getMatchingVisibleMetas(s).reverse()){const r=n[l.index];if(t&&r>0||!t&&r<0)return l.index}return null}function i_(n,e){const{chart:t,_cachedMeta:s}=n,l=t._stacks||(t._stacks={}),{iScale:r,vScale:c,index:h}=s,f=r.axis,m=c.axis,p=MC(r,c,s),y=e.length;let _;for(let x=0;x<y;++x){const S=e[x],{[f]:w,[m]:T}=S,R=S._stacks||(S._stacks={});_=R[m]=OC(l,p,w),_[h]=T,_._top=n_(_,c,!0,s.type),_._bottom=n_(_,c,!1,s.type);const B=_._visualValues||(_._visualValues={});B[h]=T}}function Rf(n,e){const t=n.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function RC(n,e){return Cs(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function kC(n,e,t){return Cs(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Rl(n,e){const t=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){e=e||n._parsed;for(const l of e){const r=l._stacks;if(!r||r[s]===void 0||r[s][t]===void 0)return;delete r[s][t],r[s]._visualValues!==void 0&&r[s]._visualValues[t]!==void 0&&delete r[s]._visualValues[t]}}}const kf=n=>n==="reset"||n==="none",s_=(n,e)=>e?n:Object.assign({},n),LC=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Sv(t,!0),values:null};class vs{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Of(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Rl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),l=(y,_,x,S)=>y==="x"?_:y==="r"?S:x,r=t.xAxisID=be(s.xAxisID,Rf(e,"x")),c=t.yAxisID=be(s.yAxisID,Rf(e,"y")),h=t.rAxisID=be(s.rAxisID,Rf(e,"r")),f=t.indexAxis,m=t.iAxisID=l(f,r,c,h),p=t.vAxisID=l(f,c,r,h);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(m),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Py(this._data,this),e._stacked&&Rl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(Te(t)){const l=this._cachedMeta;this._data=NC(t,l)}else if(s!==t){if(s){Py(s,this);const l=this._cachedMeta;Rl(l),l._parsed=[]}t&&Object.isExtensible(t)&&b2(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let l=!1;this._dataCheck();const r=t._stacked;t._stacked=Of(t.vScale,t),t.stack!==s.stack&&(l=!0,Rl(t),t.stack=s.stack),this._resyncElements(e),(l||r!==t._stacked)&&(i_(this,t._parsed),t._stacked=Of(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:l}=this,{iScale:r,_stacked:c}=s,h=r.axis;let f=e===0&&t===l.length?!0:s._sorted,m=e>0&&s._parsed[e-1],p,y,_;if(this._parsing===!1)s._parsed=l,s._sorted=!0,_=l;else{nt(l[e])?_=this.parseArrayData(s,l,e,t):Te(l[e])?_=this.parseObjectData(s,l,e,t):_=this.parsePrimitiveData(s,l,e,t);const x=()=>y[h]===null||m&&y[h]<m[h];for(p=0;p<t;++p)s._parsed[p+e]=y=_[p],f&&(x()&&(f=!1),m=y);s._sorted=f}c&&i_(this,_)}parsePrimitiveData(e,t,s,l){const{iScale:r,vScale:c}=e,h=r.axis,f=c.axis,m=r.getLabels(),p=r===c,y=new Array(l);let _,x,S;for(_=0,x=l;_<x;++_)S=_+s,y[_]={[h]:p||r.parse(m[S],S),[f]:c.parse(t[S],S)};return y}parseArrayData(e,t,s,l){const{xScale:r,yScale:c}=e,h=new Array(l);let f,m,p,y;for(f=0,m=l;f<m;++f)p=f+s,y=t[p],h[f]={x:r.parse(y[0],p),y:c.parse(y[1],p)};return h}parseObjectData(e,t,s,l){const{xScale:r,yScale:c}=e,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(l);let p,y,_,x;for(p=0,y=l;p<y;++p)_=p+s,x=t[_],m[p]={x:r.parse(Ea(x,h),_),y:c.parse(Ea(x,f),_)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const l=this.chart,r=this._cachedMeta,c=t[e.axis],h={keys:Sv(l,!0),values:t._stacks[e.axis]._visualValues};return t_(h,c,r.index,{mode:s})}updateRangeFromParsed(e,t,s,l){const r=s[t.axis];let c=r===null?NaN:r;const h=l&&s._stacks[t.axis];l&&h&&(l.values=h,c=t_(l,r,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const s=this._cachedMeta,l=s._parsed,r=s._sorted&&e===s.iScale,c=l.length,h=this._getOtherScale(e),f=LC(t,s,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=DC(h);let _,x;function S(){x=l[_];const w=x[h.axis];return!it(x[e.axis])||p>w||y<w}for(_=0;_<c&&!(!S()&&(this.updateRangeFromParsed(m,e,x,f),r));++_);if(r){for(_=c-1;_>=0;--_)if(!S()){this.updateRangeFromParsed(m,e,x,f);break}}return m}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let l,r,c;for(l=0,r=t.length;l<r;++l)c=t[l][e.axis],it(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,l=t.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:l?""+l.getLabelForValue(r[l.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=AC(be(this.options.clip,TC(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,l=s.data||[],r=t.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||l.length-h,m=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(e,r,h,f),p=h;p<h+f;++p){const y=l[p];y.hidden||(y.active&&m?c.push(y):y.draw(e,r))}for(p=0;p<c.length;++p)c[p].draw(e,r)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const l=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];r=c.$context||(c.$context=kC(this.getContext(),e,c)),r.parsed=this.getParsed(e),r.raw=l.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=RC(this.chart.getContext(),this.index)),r.dataset=l,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const l=t==="active",r=this._cachedDataOpts,c=e+"-"+t,h=r[c],f=this.enableOptionSharing&&so(s);if(h)return s_(h,f);const m=this.chart.config,p=m.datasetElementScopeKeys(this._type,e),y=l?[`${e}Hover`,"hover",e,""]:[e,""],_=m.getOptionScopes(this.getDataset(),p),x=Object.keys(Je.elements[e]),S=()=>this.getContext(s,l,t),w=m.resolveNamedOptions(_,x,S,y);return w.$shared&&(w.$shared=f,r[c]=Object.freeze(s_(w,f))),w}_resolveAnimations(e,t,s){const l=this.chart,r=this._cachedDataOpts,c=`animation-${t}`,h=r[c];if(h)return h;let f;if(l.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,t),_=p.getOptionScopes(this.getDataset(),y);f=p.createResolver(_,this.getContext(e,s,t))}const m=new Ev(l,f&&f.animations);return f&&f._cacheable&&(r[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||kf(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),l=this._sharedOptions,r=this.getSharedOptions(s),c=this.includeOptions(t,r)||r!==l;return this.updateSharedOptions(r,t,s),{sharedOptions:r,includeOptions:c}}updateElement(e,t,s,l){kf(l)?Object.assign(e,s):this._resolveAnimations(t,l).update(e,s)}updateSharedOptions(e,t,s){e&&!kf(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,l){e.active=l;const r=this.getStyle(t,l);this._resolveAnimations(t,s,l).update(e,{options:!l&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const l=s.length,r=t.length,c=Math.min(r,l);c&&this.parse(0,c),r>l?this._insertElements(l,r-l,e):r<l&&this._removeElements(r,l-r)}_insertElements(e,t,s=!0){const l=this._cachedMeta,r=l.data,c=e+t;let h;const f=m=>{for(m.length+=t,h=m.length-1;h>=c;h--)m[h]=m[h-t]};for(f(r),h=e;h<c;++h)r[h]=new this.dataElementType;this._parsing&&f(l._parsed),this.parse(e,t),s&&this.updateElements(r,e,t,"reset")}updateElements(e,t,s,l){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const l=s._parsed.splice(e,t);s._stacked&&Rl(s,l)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,l]=e;this[t](s,l)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ue(vs,"defaults",{}),ue(vs,"datasetElementType",null),ue(vs,"dataElementType",null);function zC(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let s=[];for(let l=0,r=t.length;l<r;l++)s=s.concat(t[l].controller.getAllParsedValues(n));n._cache.$bar=nv(s.sort((l,r)=>l-r))}return n._cache.$bar}function IC(n){const e=n.iScale,t=zC(e,n.type);let s=e._length,l,r,c,h;const f=()=>{c===32767||c===-32768||(so(h)&&(s=Math.min(s,Math.abs(c-h)||s)),h=c)};for(l=0,r=t.length;l<r;++l)c=e.getPixelForValue(t[l]),f();for(h=void 0,l=0,r=e.ticks.length;l<r;++l)c=e.getPixelForTick(l),f();return s}function HC(n,e,t,s){const l=t.barThickness;let r,c;return Oe(l)?(r=e.min*t.categoryPercentage,c=t.barPercentage):(r=l*s,c=1),{chunk:r/s,ratio:c,start:e.pixels[n]-r/2}}function BC(n,e,t,s){const l=e.pixels,r=l[n];let c=n>0?l[n-1]:null,h=n<l.length-1?l[n+1]:null;const f=t.categoryPercentage;c===null&&(c=r-(h===null?e.end-e.start:h-r)),h===null&&(h=r+r-c);const m=r-(r-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/s,ratio:t.barPercentage,start:m}}function PC(n,e,t,s){const l=t.parse(n[0],s),r=t.parse(n[1],s),c=Math.min(l,r),h=Math.max(l,r);let f=c,m=h;Math.abs(c)>Math.abs(h)&&(f=h,m=c),e[t.axis]=m,e._custom={barStart:f,barEnd:m,start:l,end:r,min:c,max:h}}function wv(n,e,t,s){return nt(n)?PC(n,e,t,s):e[t.axis]=t.parse(n,s),e}function a_(n,e,t,s){const l=n.iScale,r=n.vScale,c=l.getLabels(),h=l===r,f=[];let m,p,y,_;for(m=t,p=t+s;m<p;++m)_=e[m],y={},y[l.axis]=h||l.parse(c[m],m),f.push(wv(_,y,r,m));return f}function Lf(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function UC(n,e,t){return n!==0?Tn(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function FC(n){let e,t,s,l,r;return n.horizontal?(e=n.base>n.x,t="left",s="right"):(e=n.base<n.y,t="bottom",s="top"),e?(l="end",r="start"):(l="start",r="end"),{start:t,end:s,reverse:e,top:l,bottom:r}}function VC(n,e,t,s){let l=e.borderSkipped;const r={};if(!l){n.borderSkipped=r;return}if(l===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:m,bottom:p}=FC(n);l==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===s?l=m:(t._bottom||0)===s?l=p:(r[l_(p,c,h,f)]=!0,l=m)),r[l_(l,c,h,f)]=!0,n.borderSkipped=r}function l_(n,e,t,s){return s?(n=jC(n,e,t),n=o_(n,t,e)):n=o_(n,e,t),n}function jC(n,e,t){return n===e?t:n===t?e:n}function o_(n,e,t){return n==="start"?e:n==="end"?t:n}function YC(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class hc extends vs{parsePrimitiveData(e,t,s,l){return a_(e,t,s,l)}parseArrayData(e,t,s,l){return a_(e,t,s,l)}parseObjectData(e,t,s,l){const{iScale:r,vScale:c}=e,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=r.axis==="x"?h:f,p=c.axis==="x"?h:f,y=[];let _,x,S,w;for(_=s,x=s+l;_<x;++_)w=t[_],S={},S[r.axis]=r.parse(Ea(w,m),_),y.push(wv(Ea(w,p),S,c,_));return y}updateRangeFromParsed(e,t,s,l){super.updateRangeFromParsed(e,t,s,l);const r=s._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:l}=t,r=this.getParsed(e),c=r._custom,h=Lf(c)?"["+c.start+", "+c.end+"]":""+l.getLabelForValue(r[l.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,l){const r=l==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),m=h.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(t,l);for(let x=t;x<t+s;x++){const S=this.getParsed(x),w=r||Oe(S[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(x),T=this._calculateBarIndexPixels(x,p),R=(S._stacks||{})[h.axis],B={horizontal:m,base:w.base,enableBorderRadius:!R||Lf(S._custom)||c===R._top||c===R._bottom,x:m?w.head:T.center,y:m?T.center:w.head,height:m?T.size:Math.abs(w.size),width:m?Math.abs(w.size):T.size};_&&(B.options=y||this.resolveDataElementOptions(x,e[x].active?"active":l));const U=B.options||e[x].options;VC(B,U,R,c),YC(B,U,p.ratio),this.updateElement(e[x],x,B,l)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,l=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),r=s.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(t),f=h&&h[s.axis],m=p=>{const y=p._parsed.find(x=>x[s.axis]===f),_=y&&y[p.vScale.axis];if(Oe(_)||isNaN(_))return!0};for(const p of l)if(!(t!==void 0&&m(p))&&((r===!1||c.indexOf(p.stack)===-1||r===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[be(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const l=this._getStacks(e,s),r=t!==void 0?l.indexOf(t):-1;return r===-1?l.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,l=[];let r,c;for(r=0,c=t.data.length;r<c;++r)l.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const h=e.barThickness;return{min:h||IC(t),pixels:l,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:l},options:{base:r,minBarLength:c}}=this,h=r||0,f=this.getParsed(e),m=f._custom,p=Lf(m);let y=f[t.axis],_=0,x=s?this.applyStack(t,f,s):y,S,w;x!==y&&(_=x-y,x=y),p&&(y=m.barStart,x=m.barEnd-m.barStart,y!==0&&Tn(y)!==Tn(m.barEnd)&&(_=0),_+=y);const T=!Oe(r)&&!p?r:_;let R=t.getPixelForValue(T);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(_+x):S=R,w=S-R,Math.abs(w)<c){w=UC(w,t,h)*c,y===h&&(R-=w/2);const B=t.getPixelForDecimal(0),U=t.getPixelForDecimal(1),Y=Math.min(B,U),I=Math.max(B,U);R=Math.max(Math.min(R,I),Y),S=R+w,s&&!p&&(f._stacks[t.axis]._visualValues[l]=t.getValueForPixel(S)-t.getValueForPixel(R))}if(R===t.getPixelForValue(h)){const B=Tn(w)*t.getLineWidthForValue(h)/2;R+=B,w-=B}return{size:w,base:R,head:S,center:S+w/2}}_calculateBarIndexPixels(e,t){const s=t.scale,l=this.options,r=l.skipNull,c=be(l.maxBarThickness,1/0);let h,f;const m=this._getAxisCount();if(t.grouped){const p=r?this._getStackCount(e):t.stackCount,y=l.barThickness==="flex"?BC(e,t,l,p*m):HC(e,t,l,p*m),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(be(_,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+x;h=y.start+y.chunk*S+y.chunk/2,f=Math.min(c,y.chunk*y.ratio)}else h=s.getPixelForValue(this.getParsed(e)[s.axis],e),f=Math.min(c,t.min*t.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,l=s.length;let r=0;for(;r<l;++r)this.getParsed(r)[t.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}ue(hc,"id","bar"),ue(hc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ue(hc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class fc extends vs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:l=[],_dataset:r}=t,c=this.chart._animationsDisabled;let{start:h,count:f}=av(t,l,c);this._drawStart=h,this._drawCount=f,lv(t)&&(h=0,f=l.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=l;const m=this.resolveDatasetElementOptions(e);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:m},e),this.updateElements(l,h,f,e)}updateElements(e,t,s,l){const r=l==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(t,l),_=c.axis,x=h.axis,{spanGaps:S,segment:w}=this.options,T=Sa(S)?S:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||r||l==="none",B=t+s,U=e.length;let Y=t>0&&this.getParsed(t-1);for(let I=0;I<U;++I){const Z=e[I],F=R?Z:{};if(I<t||I>=B){F.skip=!0;continue}const W=this.getParsed(I),q=Oe(W[x]),K=F[_]=c.getPixelForValue(W[_],I),$=F[x]=r||q?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,W,f):W[x],I);F.skip=isNaN(K)||isNaN($)||q,F.stop=I>0&&Math.abs(W[_]-Y[_])>T,w&&(F.parsed=W,F.raw=m.data[I]),y&&(F.options=p||this.resolveDataElementOptions(I,Z.active?"active":l)),R||this.updateElement(Z,I,F,l),Y=W}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,l=e.data||[];if(!l.length)return s;const r=l[0].size(this.resolveDataElementOptions(0)),c=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(s,r,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ue(fc,"id","line"),ue(fc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ue(fc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class dc extends vs{getLabelAndValue(e){const t=this._cachedMeta,s=this.chart.data.labels||[],{xScale:l,yScale:r}=t,c=this.getParsed(e),h=l.getLabelForValue(c.x),f=r.getLabelForValue(c.y);return{label:s[e]||"",value:"("+h+", "+f+")"}}update(e){const t=this._cachedMeta,{data:s=[]}=t,l=this.chart._animationsDisabled;let{start:r,count:c}=av(t,s,l);if(this._drawStart=r,this._drawCount=c,lv(t)&&(r=0,c=s.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:f}=t;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!f._decimated,h.points=s;const m=this.resolveDatasetElementOptions(e);m.segment=this.options.segment,this.updateElement(h,void 0,{animated:!l,options:m},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(s,r,c,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,s,l){const r=l==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:m}=this._cachedMeta,p=this.resolveDataElementOptions(t,l),y=this.getSharedOptions(p),_=this.includeOptions(l,y),x=c.axis,S=h.axis,{spanGaps:w,segment:T}=this.options,R=Sa(w)?w:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||r||l==="none";let U=t>0&&this.getParsed(t-1);for(let Y=t;Y<t+s;++Y){const I=e[Y],Z=this.getParsed(Y),F=B?I:{},W=Oe(Z[S]),q=F[x]=c.getPixelForValue(Z[x],Y),K=F[S]=r||W?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,Z,f):Z[S],Y);F.skip=isNaN(q)||isNaN(K)||W,F.stop=Y>0&&Math.abs(Z[x]-U[x])>R,T&&(F.parsed=Z,F.raw=m.data[Y]),_&&(F.options=y||this.resolveDataElementOptions(Y,I.active?"active":l)),B||this.updateElement(I,Y,F,l),U=Z}this.updateSharedOptions(y,l,p)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let h=0;for(let f=t.length-1;f>=0;--f)h=Math.max(h,t[f].size(this.resolveDataElementOptions(f))/2);return h>0&&h}const s=e.dataset,l=s.options&&s.options.borderWidth||0;if(!t.length)return l;const r=t[0].size(this.resolveDataElementOptions(0)),c=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(l,r,c)/2}}ue(dc,"id","scatter"),ue(dc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ue(dc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function us(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Yd{constructor(e){ue(this,"options");this.options=e||{}}static override(e){Object.assign(Yd.prototype,e)}init(){}formats(){return us()}parse(){return us()}format(){return us()}add(){return us()}diff(){return us()}startOf(){return us()}endOf(){return us()}}var qC={_date:Yd};function GC(n,e,t,s){const{controller:l,data:r,_sorted:c}=n,h=l._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&r.length){const m=h._reversePixels?y2:ys;if(s){if(l._sharedOptions){const p=r[0],y=typeof p.getRange=="function"&&p.getRange(e);if(y){const _=m(r,e,t-y),x=m(r,e,t+y);return{lo:_.lo,hi:x.hi}}}}else{const p=m(r,e,t);if(f){const{vScale:y}=l._cachedMeta,{_parsed:_}=n,x=_.slice(0,p.lo+1).reverse().findIndex(w=>!Oe(w[y.axis]));p.lo-=Math.max(0,x);const S=_.slice(p.hi).findIndex(w=>!Oe(w[y.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:r.length-1}}function Xc(n,e,t,s,l){const r=n.getSortedVisibleDatasetMetas(),c=t[e];for(let h=0,f=r.length;h<f;++h){const{index:m,data:p}=r[h],{lo:y,hi:_}=GC(r[h],e,c,l);for(let x=y;x<=_;++x){const S=p[x];S.skip||s(S,m,x)}}}function WC(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(s,l){const r=e?Math.abs(s.x-l.x):0,c=t?Math.abs(s.y-l.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(c,2))}}function zf(n,e,t,s,l){const r=[];return!l&&!n.isPointInArea(e)||Xc(n,t,e,function(h,f,m){!l&&!ao(h,n.chartArea,0)||h.inRange(e.x,e.y,s)&&r.push({element:h,datasetIndex:f,index:m})},!0),r}function KC(n,e,t,s){let l=[];function r(c,h,f){const{startAngle:m,endAngle:p}=c.getProps(["startAngle","endAngle"],s),{angle:y}=m2(c,{x:e.x,y:e.y});ev(y,m,p)&&l.push({element:c,datasetIndex:h,index:f})}return Xc(n,t,e,r),l}function XC(n,e,t,s,l,r){let c=[];const h=WC(t);let f=Number.POSITIVE_INFINITY;function m(p,y,_){const x=p.inRange(e.x,e.y,l);if(s&&!x)return;const S=p.getCenterPoint(l);if(!(!!r||n.isPointInArea(S))&&!x)return;const T=h(e,S);T<f?(c=[{element:p,datasetIndex:y,index:_}],f=T):T===f&&c.push({element:p,datasetIndex:y,index:_})}return Xc(n,t,e,m),c}function If(n,e,t,s,l,r){return!r&&!n.isPointInArea(e)?[]:t==="r"&&!s?KC(n,e,t,l):XC(n,e,t,s,l,r)}function r_(n,e,t,s,l){const r=[],c=t==="x"?"inXRange":"inYRange";let h=!1;return Xc(n,t,e,(f,m,p)=>{f[c]&&f[c](e[t],l)&&(r.push({element:f,datasetIndex:m,index:p}),h=h||f.inRange(e.x,e.y,l))}),s&&!h?[]:r}var QC={modes:{index(n,e,t,s){const l=fs(e,n),r=t.axis||"x",c=t.includeInvisible||!1,h=t.intersect?zf(n,l,r,s,c):If(n,l,r,!1,s,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const p=h[0].index,y=m.data[p];y&&!y.skip&&f.push({element:y,datasetIndex:m.index,index:p})}),f):[]},dataset(n,e,t,s){const l=fs(e,n),r=t.axis||"xy",c=t.includeInvisible||!1;let h=t.intersect?zf(n,l,r,s,c):If(n,l,r,!1,s,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let p=0;p<m.length;++p)h.push({element:m[p],datasetIndex:f,index:p})}return h},point(n,e,t,s){const l=fs(e,n),r=t.axis||"xy",c=t.includeInvisible||!1;return zf(n,l,r,s,c)},nearest(n,e,t,s){const l=fs(e,n),r=t.axis||"xy",c=t.includeInvisible||!1;return If(n,l,r,t.intersect,s,c)},x(n,e,t,s){const l=fs(e,n);return r_(n,l,"x",t.intersect,s)},y(n,e,t,s){const l=fs(e,n);return r_(n,l,"y",t.intersect,s)}}};const Cv=["left","top","right","bottom"];function kl(n,e){return n.filter(t=>t.pos===e)}function c_(n,e){return n.filter(t=>Cv.indexOf(t.pos)===-1&&t.box.axis===e)}function Ll(n,e){return n.sort((t,s)=>{const l=e?s:t,r=e?t:s;return l.weight===r.weight?l.index-r.index:l.weight-r.weight})}function ZC(n){const e=[];let t,s,l,r,c,h;for(t=0,s=(n||[]).length;t<s;++t)l=n[t],{position:r,options:{stack:c,stackWeight:h=1}}=l,e.push({index:t,box:l,pos:r,horizontal:l.isHorizontal(),weight:l.weight,stack:c&&r+c,stackWeight:h});return e}function $C(n){const e={};for(const t of n){const{stack:s,pos:l,stackWeight:r}=t;if(!s||!Cv.includes(l))continue;const c=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=r}return e}function JC(n,e){const t=$C(n),{vBoxMaxWidth:s,hBoxMaxHeight:l}=e;let r,c,h;for(r=0,c=n.length;r<c;++r){h=n[r];const{fullSize:f}=h.box,m=t[h.stack],p=m&&h.stackWeight/m.weight;h.horizontal?(h.width=p?p*s:f&&e.availableWidth,h.height=l):(h.width=s,h.height=p?p*l:f&&e.availableHeight)}return t}function eT(n){const e=ZC(n),t=Ll(e.filter(m=>m.box.fullSize),!0),s=Ll(kl(e,"left"),!0),l=Ll(kl(e,"right")),r=Ll(kl(e,"top"),!0),c=Ll(kl(e,"bottom")),h=c_(e,"x"),f=c_(e,"y");return{fullSize:t,leftAndTop:s.concat(r),rightAndBottom:l.concat(f).concat(c).concat(h),chartArea:kl(e,"chartArea"),vertical:s.concat(l).concat(f),horizontal:r.concat(c).concat(h)}}function u_(n,e,t,s){return Math.max(n[t],e[t])+Math.max(n[s],e[s])}function Tv(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function tT(n,e,t,s){const{pos:l,box:r}=t,c=n.maxPadding;if(!Te(l)){t.size&&(n[l]-=t.size);const y=s[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?r.height:r.width),t.size=y.size/y.count,n[l]+=t.size}r.getPadding&&Tv(c,r.getPadding());const h=Math.max(0,e.outerWidth-u_(c,n,"left","right")),f=Math.max(0,e.outerHeight-u_(c,n,"top","bottom")),m=h!==n.w,p=f!==n.h;return n.w=h,n.h=f,t.horizontal?{same:m,other:p}:{same:p,other:m}}function nT(n){const e=n.maxPadding;function t(s){const l=Math.max(e[s]-n[s],0);return n[s]+=l,l}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function iT(n,e){const t=e.maxPadding;function s(l){const r={left:0,top:0,right:0,bottom:0};return l.forEach(c=>{r[c]=Math.max(e[c],t[c])}),r}return s(n?["left","right"]:["top","bottom"])}function Vl(n,e,t,s){const l=[];let r,c,h,f,m,p;for(r=0,c=n.length,m=0;r<c;++r){h=n[r],f=h.box,f.update(h.width||e.w,h.height||e.h,iT(h.horizontal,e));const{same:y,other:_}=tT(e,t,h,s);m|=y&&l.length,p=p||_,f.fullSize||l.push(h)}return m&&Vl(l,e,t,s)||p}function nc(n,e,t,s,l){n.top=t,n.left=e,n.right=e+s,n.bottom=t+l,n.width=s,n.height=l}function h_(n,e,t,s){const l=t.padding;let{x:r,y:c}=e;for(const h of n){const f=h.box,m=s[h.stack]||{placed:0,weight:1},p=h.stackWeight/m.weight||1;if(h.horizontal){const y=e.w*p,_=m.size||f.height;so(m.start)&&(c=m.start),f.fullSize?nc(f,l.left,c,t.outerWidth-l.right-l.left,_):nc(f,e.left+m.placed,c,y,_),m.start=c,m.placed+=y,c=f.bottom}else{const y=e.h*p,_=m.size||f.width;so(m.start)&&(r=m.start),f.fullSize?nc(f,r,l.top,_,t.outerHeight-l.bottom-l.top):nc(f,r,e.top+m.placed,_,y),m.start=r,m.placed+=y,r=f.right}}e.x=r,e.y=c}var ln={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,s){if(!n)return;const l=on(n.options.layout.padding),r=Math.max(e-l.width,0),c=Math.max(t-l.height,0),h=eT(n.boxes),f=h.vertical,m=h.horizontal;Le(n.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=f.reduce((w,T)=>T.box.options&&T.box.options.display===!1?w:w+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:l,availableWidth:r,availableHeight:c,vBoxMaxWidth:r/2/p,hBoxMaxHeight:c/2}),_=Object.assign({},l);Tv(_,on(s));const x=Object.assign({maxPadding:_,w:r,h:c,x:l.left,y:l.top},l),S=JC(f.concat(m),y);Vl(h.fullSize,x,y,S),Vl(f,x,y,S),Vl(m,x,y,S)&&Vl(f,x,y,S),nT(x),h_(h.leftAndTop,x,y,S),x.x+=x.w,x.y+=x.h,h_(h.rightAndBottom,x,y,S),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Le(h.chartArea,w=>{const T=w.box;Object.assign(T,n.chartArea),T.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class Av{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,l){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,l?Math.floor(t/l):s)}}isAttached(e){return!0}updateConfig(e){}}class sT extends Av{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const mc="$chartjs",aT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},f_=n=>n===null||n==="";function lT(n,e){const t=n.style,s=n.getAttribute("height"),l=n.getAttribute("width");if(n[mc]={initial:{height:s,width:l,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",f_(l)){const r=Xy(n,"width");r!==void 0&&(n.width=r)}if(f_(s))if(n.style.height==="")n.height=n.width/(e||2);else{const r=Xy(n,"height");r!==void 0&&(n.height=r)}return n}const Nv=cC?{passive:!0}:!1;function oT(n,e,t){n&&n.addEventListener(e,t,Nv)}function rT(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Nv)}function cT(n,e){const t=aT[n.type]||n.type,{x:s,y:l}=fs(n,e);return{type:t,chart:e,native:n,x:s!==void 0?s:null,y:l!==void 0?l:null}}function wc(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function uT(n,e,t){const s=n.canvas,l=new MutationObserver(r=>{let c=!1;for(const h of r)c=c||wc(h.addedNodes,s),c=c&&!wc(h.removedNodes,s);c&&t()});return l.observe(document,{childList:!0,subtree:!0}),l}function hT(n,e,t){const s=n.canvas,l=new MutationObserver(r=>{let c=!1;for(const h of r)c=c||wc(h.removedNodes,s),c=c&&!wc(h.addedNodes,s);c&&t()});return l.observe(document,{childList:!0,subtree:!0}),l}const oo=new Map;let d_=0;function Mv(){const n=window.devicePixelRatio;n!==d_&&(d_=n,oo.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function fT(n,e){oo.size||window.addEventListener("resize",Mv),oo.set(n,e)}function dT(n){oo.delete(n),oo.size||window.removeEventListener("resize",Mv)}function mT(n,e,t){const s=n.canvas,l=s&&jd(s);if(!l)return;const r=sv((h,f)=>{const m=l.clientWidth;t(h,f),m<l.clientWidth&&t()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,p=f.contentRect.height;m===0&&p===0||r(m,p)});return c.observe(l),fT(n,r),c}function Hf(n,e,t){t&&t.disconnect(),e==="resize"&&dT(n)}function gT(n,e,t){const s=n.canvas,l=sv(r=>{n.ctx!==null&&t(cT(r,n))},n);return oT(s,e,l),l}class pT extends Av{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(lT(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[mc])return!1;const s=t[mc].initial;["height","width"].forEach(r=>{const c=s[r];Oe(c)?t.removeAttribute(r):t.setAttribute(r,c)});const l=s.style||{};return Object.keys(l).forEach(r=>{t.style[r]=l[r]}),t.width=t.width,delete t[mc],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const l=e.$proxies||(e.$proxies={}),c={attach:uT,detach:hT,resize:mT}[t]||gT;l[t]=c(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),l=s[t];if(!l)return;({attach:Hf,detach:Hf,resize:Hf}[t]||rT)(e,t,l),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,l){return rC(e,t,s,l)}isAttached(e){const t=e&&jd(e);return!!(t&&t.isConnected)}}function yT(n){return!Vd()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?sT:pT}class An{constructor(){ue(this,"x");ue(this,"y");ue(this,"active",!1);ue(this,"options");ue(this,"$animations")}tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return Sa(this.x)&&Sa(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const l={};return e.forEach(r=>{l[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),l}}ue(An,"defaults",{}),ue(An,"defaultRoutes");function _T(n,e){const t=n.options.ticks,s=bT(n),l=Math.min(t.maxTicksLimit||s,s),r=t.major.enabled?xT(e):[],c=r.length,h=r[0],f=r[c-1],m=[];if(c>l)return ET(e,m,r,c/l),m;const p=vT(r,e,l);if(c>0){let y,_;const x=c>1?Math.round((f-h)/(c-1)):null;for(ic(e,m,p,Oe(x)?0:h-x,h),y=0,_=c-1;y<_;y++)ic(e,m,p,r[y],r[y+1]);return ic(e,m,p,f,Oe(x)?e.length:f+x),m}return ic(e,m,p),m}function bT(n){const e=n.options.offset,t=n._tickSize(),s=n._length/t+(e?0:1),l=n._maxLength/t;return Math.floor(Math.min(s,l))}function vT(n,e,t){const s=ST(n),l=e.length/t;if(!s)return Math.max(l,1);const r=u2(s);for(let c=0,h=r.length-1;c<h;c++){const f=r[c];if(f>l)return f}return Math.max(l,1)}function xT(n){const e=[];let t,s;for(t=0,s=n.length;t<s;t++)n[t].major&&e.push(t);return e}function ET(n,e,t,s){let l=0,r=t[0],c;for(s=Math.ceil(s),c=0;c<n.length;c++)c===r&&(e.push(n[c]),l++,r=t[l*s])}function ic(n,e,t,s,l){const r=be(s,0),c=Math.min(be(l,n.length),n.length);let h=0,f,m,p;for(t=Math.ceil(t),l&&(f=l-s,t=f/Math.floor(f/t)),p=r;p<0;)h++,p=Math.round(r+h*t);for(m=Math.max(r,0);m<c;m++)m===p&&(e.push(n[m]),h++,p=Math.round(r+h*t))}function ST(n){const e=n.length;let t,s;if(e<2)return!1;for(s=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==s)return!1;return s}const wT=n=>n==="left"?"right":n==="right"?"left":n,m_=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,g_=(n,e)=>Math.min(e||n,n);function p_(n,e){const t=[],s=n.length/e,l=n.length;let r=0;for(;r<l;r+=s)t.push(n[Math.floor(r)]);return t}function CT(n,e,t){const s=n.ticks.length,l=Math.min(e,s-1),r=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(l),m;if(!(t&&(s===1?m=Math.max(f-r,c-f):e===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(l-1))/2,f+=l<e?m:-m,f<r-h||f>c+h)))return f}function TT(n,e){Le(n,t=>{const s=t.gc,l=s.length/2;let r;if(l>e){for(r=0;r<l;++r)delete t.data[s[r]];s.splice(0,l)}})}function zl(n){return n.drawTicks?n.tickLength:0}function y_(n,e){if(!n.display)return 0;const t=wt(n.font,e),s=on(n.padding);return(nt(n.text)?n.text.length:1)*t.lineHeight+s.height}function AT(n,e){return Cs(n,{scale:e,type:"scale"})}function NT(n,e,t){return Cs(n,{tick:t,index:e,type:"tick"})}function MT(n,e,t){let s=zd(n);return(t&&e!=="right"||!t&&e==="right")&&(s=wT(s)),s}function DT(n,e,t,s){const{top:l,left:r,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:p}=f;let y=0,_,x,S;const w=c-l,T=h-r;if(n.isHorizontal()){if(x=Et(s,r,h),Te(t)){const R=Object.keys(t)[0],B=t[R];S=p[R].getPixelForValue(B)+w-e}else t==="center"?S=(m.bottom+m.top)/2+w-e:S=m_(n,t,e);_=h-r}else{if(Te(t)){const R=Object.keys(t)[0],B=t[R];x=p[R].getPixelForValue(B)-T+e}else t==="center"?x=(m.left+m.right)/2-T+e:x=m_(n,t,e);S=Et(s,c,l),y=t==="left"?-fn:fn}return{titleX:x,titleY:S,maxWidth:_,rotation:y}}class Ts extends An{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:l}=this;return e=Gt(e,Number.POSITIVE_INFINITY),t=Gt(t,Number.NEGATIVE_INFINITY),s=Gt(s,Number.POSITIVE_INFINITY),l=Gt(l,Number.NEGATIVE_INFINITY),{min:Gt(e,s),max:Gt(t,l),minDefined:it(e),maxDefined:it(t)}}getMinMax(e){let{min:t,max:s,minDefined:l,maxDefined:r}=this.getUserBounds(),c;if(l&&r)return{min:t,max:s};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,e),l||(t=Math.min(t,c.min)),r||(s=Math.max(s,c.max));return t=r&&t>s?s:t,s=l&&t>s?t:s,{min:Gt(t,Gt(s,t)),max:Gt(s,Gt(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){je(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:l,grace:r,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=U2(this,r,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?p_(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=_T(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){je(this.options.afterUpdate,[this])}beforeSetDimensions(){je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){je(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),je(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,l,r;for(s=0,l=e.length;s<l;s++)r=e[s],r.label=je(t.callback,[r.value,s,e],this)}afterTickToLabelConversion(){je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=g_(this.ticks.length,e.ticks.maxTicksLimit),l=t.minRotation||0,r=t.maxRotation;let c=l,h,f,m;if(!this._isVisible()||!t.display||l>=r||s<=1||!this.isHorizontal()){this.labelRotation=l;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,x=Wt(this.chart.width-y,0,this.maxWidth);h=e.offset?this.maxWidth/s:x/(s-1),y+6>h&&(h=x/(s-(e.offset?.5:1)),f=this.maxHeight-zl(e.grid)-t.padding-y_(e.title,this.chart.options.font),m=Math.sqrt(y*y+_*_),c=d2(Math.min(Math.asin(Wt((p.highest.height+6)/h,-1,1)),Math.asin(Wt(f/m,-1,1))-Math.asin(Wt(_/m,-1,1)))),c=Math.max(l,Math.min(r,c))),this.labelRotation=c}afterCalculateLabelRotation(){je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){je(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:l,grid:r}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=y_(l,t.options.font);if(h?(e.width=this.maxWidth,e.height=zl(r)+f):(e.height=this.maxHeight,e.width=zl(r)+f),s.display&&this.ticks.length){const{first:m,last:p,widest:y,highest:_}=this._getLabelSizes(),x=s.padding*2,S=ps(this.labelRotation),w=Math.cos(S),T=Math.sin(S);if(h){const R=s.mirror?0:T*y.width+w*_.height;e.height=Math.min(this.maxHeight,e.height+R+x)}else{const R=s.mirror?0:w*y.width+T*_.height;e.width=Math.min(this.maxWidth,e.width+R+x)}this._calculatePadding(m,p,T,w)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,l){const{ticks:{align:r,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,x=0;f?m?(_=l*e.width,x=s*t.height):(_=s*e.height,x=l*t.width):r==="start"?x=t.width:r==="end"?_=e.width:r!=="inner"&&(_=e.width/2,x=t.width/2),this.paddingLeft=Math.max((_-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-y+c)*this.width/(this.width-y),0)}else{let p=t.height/2,y=e.height/2;r==="start"?(p=0,y=e.height):r==="end"&&(p=t.height,y=0),this.paddingTop=p+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){je(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)Oe(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=p_(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:l,_longestTextCache:r}=this,c=[],h=[],f=Math.floor(t/g_(t,s));let m=0,p=0,y,_,x,S,w,T,R,B,U,Y,I;for(y=0;y<t;y+=f){if(S=e[y].label,w=this._resolveTickFontOptions(y),l.font=T=w.string,R=r[T]=r[T]||{data:{},gc:[]},B=w.lineHeight,U=Y=0,!Oe(S)&&!nt(S))U=Yy(l,R.data,R.gc,U,S),Y=B;else if(nt(S))for(_=0,x=S.length;_<x;++_)I=S[_],!Oe(I)&&!nt(I)&&(U=Yy(l,R.data,R.gc,U,I),Y+=B);c.push(U),h.push(Y),m=Math.max(U,m),p=Math.max(Y,p)}TT(r,t);const Z=c.indexOf(m),F=h.indexOf(p),W=q=>({width:c[q]||0,height:h[q]||0});return{first:W(0),last:W(t-1),widest:W(Z),highest:W(F),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return p2(this._alignToPixels?cs(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=NT(this.getContext(),e,s))}return this.$context||(this.$context=AT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ps(this.labelRotation),s=Math.abs(Math.cos(t)),l=Math.abs(Math.sin(t)),r=this._getLabelSizes(),c=e.autoSkipPadding||0,h=r?r.widest.width+c:0,f=r?r.highest.height+c:0;return this.isHorizontal()?f*s>h*l?h/s:f/l:f*l<h*s?f/s:h/l}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,l=this.options,{grid:r,position:c,border:h}=l,f=r.offset,m=this.isHorizontal(),y=this.ticks.length+(f?1:0),_=zl(r),x=[],S=h.setContext(this.getContext()),w=S.display?S.width:0,T=w/2,R=function(k){return cs(s,k,w)};let B,U,Y,I,Z,F,W,q,K,$,te,oe;if(c==="top")B=R(this.bottom),F=this.bottom-_,q=B-T,$=R(e.top)+T,oe=e.bottom;else if(c==="bottom")B=R(this.top),$=e.top,oe=R(e.bottom)-T,F=B+T,q=this.top+_;else if(c==="left")B=R(this.right),Z=this.right-_,W=B-T,K=R(e.left)+T,te=e.right;else if(c==="right")B=R(this.left),K=e.left,te=R(e.right)-T,Z=B+T,W=this.left+_;else if(t==="x"){if(c==="center")B=R((e.top+e.bottom)/2+.5);else if(Te(c)){const k=Object.keys(c)[0],G=c[k];B=R(this.chart.scales[k].getPixelForValue(G))}$=e.top,oe=e.bottom,F=B+T,q=F+_}else if(t==="y"){if(c==="center")B=R((e.left+e.right)/2);else if(Te(c)){const k=Object.keys(c)[0],G=c[k];B=R(this.chart.scales[k].getPixelForValue(G))}Z=B-T,W=Z-_,K=e.left,te=e.right}const xe=be(l.ticks.maxTicksLimit,y),Q=Math.max(1,Math.ceil(y/xe));for(U=0;U<y;U+=Q){const k=this.getContext(U),G=r.setContext(k),J=h.setContext(k),me=G.lineWidth,A=G.color,V=J.dash||[],ne=J.dashOffset,X=G.tickWidth,ae=G.tickColor,ye=G.tickBorderDash||[],re=G.tickBorderDashOffset;Y=CT(this,U,f),Y!==void 0&&(I=cs(s,Y,me),m?Z=W=K=te=I:F=q=$=oe=I,x.push({tx1:Z,ty1:F,tx2:W,ty2:q,x1:K,y1:$,x2:te,y2:oe,width:me,color:A,borderDash:V,borderDashOffset:ne,tickWidth:X,tickColor:ae,tickBorderDash:ye,tickBorderDashOffset:re}))}return this._ticksLength=y,this._borderValue=B,x}_computeLabelItems(e){const t=this.axis,s=this.options,{position:l,ticks:r}=s,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:p,mirror:y}=r,_=zl(s.grid),x=_+p,S=y?-p:x,w=-ps(this.labelRotation),T=[];let R,B,U,Y,I,Z,F,W,q,K,$,te,oe="middle";if(l==="top")Z=this.bottom-S,F=this._getXAxisLabelAlignment();else if(l==="bottom")Z=this.top+S,F=this._getXAxisLabelAlignment();else if(l==="left"){const Q=this._getYAxisLabelAlignment(_);F=Q.textAlign,I=Q.x}else if(l==="right"){const Q=this._getYAxisLabelAlignment(_);F=Q.textAlign,I=Q.x}else if(t==="x"){if(l==="center")Z=(e.top+e.bottom)/2+x;else if(Te(l)){const Q=Object.keys(l)[0],k=l[Q];Z=this.chart.scales[Q].getPixelForValue(k)+x}F=this._getXAxisLabelAlignment()}else if(t==="y"){if(l==="center")I=(e.left+e.right)/2-x;else if(Te(l)){const Q=Object.keys(l)[0],k=l[Q];I=this.chart.scales[Q].getPixelForValue(k)}F=this._getYAxisLabelAlignment(_).textAlign}t==="y"&&(f==="start"?oe="top":f==="end"&&(oe="bottom"));const xe=this._getLabelSizes();for(R=0,B=h.length;R<B;++R){U=h[R],Y=U.label;const Q=r.setContext(this.getContext(R));W=this.getPixelForTick(R)+r.labelOffset,q=this._resolveTickFontOptions(R),K=q.lineHeight,$=nt(Y)?Y.length:1;const k=$/2,G=Q.color,J=Q.textStrokeColor,me=Q.textStrokeWidth;let A=F;c?(I=W,F==="inner"&&(R===B-1?A=this.options.reverse?"left":"right":R===0?A=this.options.reverse?"right":"left":A="center"),l==="top"?m==="near"||w!==0?te=-$*K+K/2:m==="center"?te=-xe.highest.height/2-k*K+K:te=-xe.highest.height+K/2:m==="near"||w!==0?te=K/2:m==="center"?te=xe.highest.height/2-k*K:te=xe.highest.height-$*K,y&&(te*=-1),w!==0&&!Q.showLabelBackdrop&&(I+=K/2*Math.sin(w))):(Z=W,te=(1-$)*K/2);let V;if(Q.showLabelBackdrop){const ne=on(Q.backdropPadding),X=xe.heights[R],ae=xe.widths[R];let ye=te-ne.top,re=0-ne.left;switch(oe){case"middle":ye-=X/2;break;case"bottom":ye-=X;break}switch(F){case"center":re-=ae/2;break;case"right":re-=ae;break;case"inner":R===B-1?re-=ae:R>0&&(re-=ae/2);break}V={left:re,top:ye,width:ae+ne.width,height:X+ne.height,color:Q.backdropColor}}T.push({label:Y,font:q,textOffset:te,options:{rotation:w,color:G,strokeColor:J,strokeWidth:me,textAlign:A,textBaseline:oe,translation:[I,Z],backdrop:V}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ps(this.labelRotation))return e==="top"?"left":"right";let l="center";return t.align==="start"?l="left":t.align==="end"?l="right":t.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:l,padding:r}}=this.options,c=this._getLabelSizes(),h=e+r,f=c.widest.width;let m,p;return t==="left"?l?(p=this.right+r,s==="near"?m="left":s==="center"?(m="center",p+=f/2):(m="right",p+=f)):(p=this.right-h,s==="near"?m="right":s==="center"?(m="center",p-=f/2):(m="left",p=this.left)):t==="right"?l?(p=this.left+r,s==="near"?m="right":s==="center"?(m="center",p-=f/2):(m="left",p-=f)):(p=this.left+h,s==="near"?m="left":s==="center"?(m="center",p+=f/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:l,width:r,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,l,r,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const l=this.ticks.findIndex(r=>r.value===e);return l>=0?t.setContext(this.getContext(l)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,c;const h=(f,m,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(m.x,m.y),s.stroke(),s.restore())};if(t.display)for(r=0,c=l.length;r<c;++r){const f=l[r];t.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),t.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:l}}=this,r=s.setContext(this.getContext()),c=s.display?r.width:0;if(!c)return;const h=l.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,p,y,_;this.isHorizontal()?(m=cs(e,this.left,c)-c/2,p=cs(e,this.right,h)+h/2,y=_=f):(y=cs(e,this.top,c)-c/2,_=cs(e,this.bottom,h)+h/2,m=p=f),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(m,y),t.lineTo(p,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,l=this._computeLabelArea();l&&Gc(s,l);const r=this.getLabelItems(e);for(const c of r){const h=c.options,f=c.font,m=c.label,p=c.textOffset;lo(s,m,0,p,f,h)}l&&Wc(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:l}}=this;if(!s.display)return;const r=wt(s.font),c=on(s.padding),h=s.align;let f=r.lineHeight/2;t==="bottom"||t==="center"||Te(t)?(f+=c.bottom,nt(s.text)&&(f+=r.lineHeight*(s.text.length-1))):f+=c.top;const{titleX:m,titleY:p,maxWidth:y,rotation:_}=DT(this,f,t,h);lo(e,s.text,0,0,r,{color:s.color,maxWidth:y,rotation:_,textAlign:MT(h,t,l),textBaseline:"middle",translation:[m,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=be(e.grid&&e.grid.z,-1),l=be(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ts.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",l=[];let r,c;for(r=0,c=t.length;r<c;++r){const h=t[r];h[s]===this.id&&(!e||h.type===e)&&l.push(h)}return l}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return wt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sc{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;kT(t)&&(s=this.register(t));const l=this.items,r=e.id,c=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in l||(l[r]=e,OT(e,c,s),this.override&&Je.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,l=this.scope;s in t&&delete t[s],l&&s in Je[l]&&(delete Je[l][s],this.override&&delete xs[s])}}function OT(n,e,t){const s=io(Object.create(null),[t?Je.get(t):{},Je.get(e),n.defaults]);Je.set(e,s),n.defaultRoutes&&RT(e,n.defaultRoutes),n.descriptors&&Je.describe(e,n.descriptors)}function RT(n,e){Object.keys(e).forEach(t=>{const s=t.split("."),l=s.pop(),r=[n].concat(s).join("."),c=e[t].split("."),h=c.pop(),f=c.join(".");Je.route(r,l,f,h)})}function kT(n){return"id"in n&&"defaults"in n}class LT{constructor(){this.controllers=new sc(vs,"datasets",!0),this.elements=new sc(An,"elements"),this.plugins=new sc(Object,"plugins"),this.scales=new sc(Ts,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(l=>{const r=s||this._getRegistryForType(l);s||r.isForType(l)||r===this.plugins&&l.id?this._exec(e,r,l):Le(l,c=>{const h=s||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,t,s){const l=kd(e);je(s["before"+l],[],s),t[e](s),je(s["after"+l],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const l=t.get(e);if(l===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return l}}var wn=new LT;class zT{constructor(){this._init=[]}notify(e,t,s,l){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=l?this._descriptors(e).filter(l):this._descriptors(e),c=this._notify(r,e,t,s);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,t,s,l){l=l||{};for(const r of e){const c=r.plugin,h=c[s],f=[t,l,r.options];if(je(h,f,c)===!1&&l.cancelable)return!1}return!0}invalidate(){Oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,l=be(s.options&&s.options.plugins,{}),r=IT(s);return l===!1&&!t?[]:BT(e,r,l,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,l=(r,c)=>r.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(l(t,s),e,"stop"),this._notify(l(s,t),e,"start")}}function IT(n){const e={},t=[],s=Object.keys(wn.plugins.items);for(let r=0;r<s.length;r++)t.push(wn.getPlugin(s[r]));const l=n.plugins||[];for(let r=0;r<l.length;r++){const c=l[r];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function HT(n,e){return!e&&n===!1?null:n===!0?{}:n}function BT(n,{plugins:e,localIds:t},s,l){const r=[],c=n.getContext();for(const h of e){const f=h.id,m=HT(s[f],l);m!==null&&r.push({plugin:h,options:PT(n.config,{plugin:h,local:t[f]},m,c)})}return r}function PT(n,{plugin:e,local:t},s,l){const r=n.pluginScopeKeys(e),c=n.getOptionScopes(s,r);return t&&e.defaults&&c.push(e.defaults),n.createResolver(c,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sd(n,e){const t=Je.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function UT(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function FT(n,e){return n===e?"_index_":"_value_"}function __(n){if(n==="x"||n==="y"||n==="r")return n}function VT(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function ad(n,...e){if(__(n))return n;for(const t of e){const s=t.axis||VT(t.position)||n.length>1&&__(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function b_(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function jT(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(t.length)return b_(n,"x",t[0])||b_(n,"y",t[0])}return{}}function YT(n,e){const t=xs[n.type]||{scales:{}},s=e.scales||{},l=sd(n.type,e),r=Object.create(null);return Object.keys(s).forEach(c=>{const h=s[c];if(!Te(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=ad(c,h,jT(c,n),Je.scales[h.type]),m=FT(f,l),p=t.scales||{};r[c]=Yl(Object.create(null),[{axis:f},h,p[f],p[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||sd(h,e),p=(xs[h]||{}).scales||{};Object.keys(p).forEach(y=>{const _=UT(y,f),x=c[_+"AxisID"]||_;r[x]=r[x]||Object.create(null),Yl(r[x],[{axis:_},s[x],p[y]])})}),Object.keys(r).forEach(c=>{const h=r[c];Yl(h,[Je.scales[h.type],Je.scale])}),r}function Dv(n){const e=n.options||(n.options={});e.plugins=be(e.plugins,{}),e.scales=YT(n,e)}function Ov(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function qT(n){return n=n||{},n.data=Ov(n.data),Dv(n),n}const v_=new Map,Rv=new Set;function ac(n,e){let t=v_.get(n);return t||(t=e(),v_.set(n,t),Rv.add(t)),t}const Il=(n,e,t)=>{const s=Ea(e,t);s!==void 0&&n.add(s)};class GT{constructor(e){this._config=qT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ov(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Dv(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ac(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ac(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ac(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return ac(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let l=s.get(e);return(!l||t)&&(l=new Map,s.set(e,l)),l}getOptionScopes(e,t,s){const{options:l,type:r}=this,c=this._cachedScopes(e,s),h=c.get(t);if(h)return h;const f=new Set;t.forEach(p=>{e&&(f.add(e),p.forEach(y=>Il(f,e,y))),p.forEach(y=>Il(f,l,y)),p.forEach(y=>Il(f,xs[r]||{},y)),p.forEach(y=>Il(f,Je,y)),p.forEach(y=>Il(f,nd,y))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),Rv.has(t)&&c.set(t,m),m}chartOptionScopes(){const{options:e,type:t}=this;return[e,xs[t]||{},Je.datasets[t]||{},{type:t},Je,nd]}resolveNamedOptions(e,t,s,l=[""]){const r={$shared:!0},{resolver:c,subPrefixes:h}=x_(this._resolverCache,e,l);let f=c;if(KT(c,t)){r.$shared=!1,s=Pi(s)?s():s;const m=this.createResolver(e,s,h);f=wa(c,s,m)}for(const m of t)r[m]=f[m];return r}createResolver(e,t,s=[""],l){const{resolver:r}=x_(this._resolverCache,e,s);return Te(t)?wa(r,t,void 0,l):r}}function x_(n,e,t){let s=n.get(e);s||(s=new Map,n.set(e,s));const l=t.join();let r=s.get(l);return r||(r={resolver:Pd(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},s.set(l,r)),r}const WT=n=>Te(n)&&Object.getOwnPropertyNames(n).some(e=>Pi(n[e]));function KT(n,e){const{isScriptable:t,isIndexable:s}=hv(n);for(const l of e){const r=t(l),c=s(l),h=(c||r)&&n[l];if(r&&(Pi(h)||WT(h))||c&&nt(h))return!0}return!1}var XT="4.5.0";const QT=["top","bottom","left","right","chartArea"];function E_(n,e){return n==="top"||n==="bottom"||QT.indexOf(n)===-1&&e==="x"}function S_(n,e){return function(t,s){return t[n]===s[n]?t[e]-s[e]:t[n]-s[n]}}function w_(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),je(t&&t.onComplete,[n],e)}function ZT(n){const e=n.chart,t=e.options.animation;je(t&&t.onProgress,[n],e)}function kv(n){return Vd()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const gc={},C_=n=>{const e=kv(n);return Object.values(gc).filter(t=>t.canvas===e).pop()};function $T(n,e,t){const s=Object.keys(n);for(const l of s){const r=+l;if(r>=e){const c=n[l];delete n[l],(t>0||r>e)&&(n[r+t]=c)}}}function JT(n,e,t,s){return!t||n.type==="mouseout"?null:s?e:n}var Ti;let Da=(Ti=class{static register(...e){wn.add(...e),T_()}static unregister(...e){wn.remove(...e),T_()}constructor(e,t){const s=this.config=new GT(t),l=kv(e),r=C_(l);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||yT(l)),this.platform.updateConfig(s);const h=this.platform.acquireContext(l,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,p=f&&f.width;if(this.id=t2(),this.ctx=h,this.canvas=f,this.width=p,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new zT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=v2(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],gc[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}qn.listen(this,"complete",w_),qn.listen(this,"progress",ZT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:l,_aspectRatio:r}=this;return Oe(e)?t&&r?r:l?s/l:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ky(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qy(this.canvas,this.ctx),this}stop(){return qn.stop(this),this}resize(e,t){qn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,l=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(l,e,t,r),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Ky(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),je(s.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Le(t,(s,l)=>{s.id=l})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,l=Object.keys(s).reduce((c,h)=>(c[h]=!1,c),{});let r=[];t&&(r=r.concat(Object.keys(t).map(c=>{const h=t[c],f=ad(c,h),m=f==="r",p=f==="x";return{options:h,dposition:m?"chartArea":p?"bottom":"left",dtype:m?"radialLinear":p?"category":"linear"}}))),Le(r,c=>{const h=c.options,f=h.id,m=ad(f,h),p=be(h.type,c.dtype);(h.position===void 0||E_(h.position,m)!==E_(c.dposition))&&(h.position=c.dposition),l[f]=!0;let y=null;if(f in s&&s[f].type===p)y=s[f];else{const _=wn.getScale(p);y=new _({id:f,type:p,ctx:this.ctx,chart:this}),s[y.id]=y}y.init(h,e)}),Le(l,(c,h)=>{c||delete s[h]}),Le(s,c=>{ln.configure(this,c,c.options),ln.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((l,r)=>l.index-r.index),s>t){for(let l=t;l<s;++l)this._destroyDatasetMeta(l);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(S_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,l)=>{t.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,l;for(this._removeUnreferencedMetasets(),s=0,l=t.length;s<l;s++){const r=t[s];let c=this.getDatasetMeta(s);const h=r.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=h,c.indexAxis=r.indexAxis||sd(h,this.options),c.order=r.order||0,c.index=s,c.label=""+r.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const f=wn.getController(h),{datasetElementType:m,dataElementType:p}=Je.datasets[h];Object.assign(f,{dataElementType:wn.getElement(p),datasetElementType:m&&wn.getElement(m)}),c.controller=new f(this,s),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Le(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,p=this.data.datasets.length;m<p;m++){const{controller:y}=this.getDatasetMeta(m),_=!l&&r.indexOf(y)===-1;y.buildOrUpdateElements(_),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),l||Le(r,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(S_("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Le(this.scales,e=>{ln.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!zy(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:l,count:r}of t){const c=s==="_removeElements"?-r:r;$T(e,l,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=r=>new Set(e.filter(c=>c[0]===r).map((c,h)=>h+","+c.splice(1).join(","))),l=s(0);for(let r=1;r<t;r++)if(!zy(l,s(r)))return;return Array.from(l).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ln.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Le(this.boxes,l=>{s&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,r)=>{l._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Pi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),l={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(s.controller._update(t),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qn.has(this)?this.attached&&!qn.running(this)&&qn.start(this):(this.draw(),w_({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let l,r;for(l=0,r=t.length;l<r;++l){const c=t[l];(!e||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},l=xv(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(l&&Gc(t,l),e.controller.draw(),l&&Wc(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ao(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,l){const r=QC.modes[t];return typeof r=="function"?r(this,e,s,l):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let l=s.filter(r=>r&&r._dataset===t).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(l)),l}getContext(){return this.$context||(this.$context=Cs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const l=s?"show":"hide",r=this.getDatasetMeta(e),c=r.controller._resolveAnimations(void 0,l);so(t)?(r.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),c.update(r,{visible:s}),this.update(h=>h.datasetIndex===e?l:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),qn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),qy(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete gc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(r,c)=>{t.addEventListener(this,r,c),e[r]=c},l=(r,c,h)=>{r.offsetX=c,r.offsetY=h,this._eventHandler(r)};Le(this.options.events,r=>s(r,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(f,m)=>{t.addEventListener(this,f,m),e[f]=m},l=(f,m)=>{e[f]&&(t.removeEventListener(this,f,m),delete e[f])},r=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{l("attach",h),this.attached=!0,this.resize(),s("resize",r),s("detach",c)};c=()=>{this.attached=!1,l("resize",r),this._stop(),this._resize(0,0),s("attach",h)},t.isAttached(this.canvas)?h():c()}unbindEvents(){Le(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Le(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const l=s?"set":"remove";let r,c,h,f;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+l+"DatasetHoverStyle"]()),h=0,f=e.length;h<f;++h){c=e[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[l+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:r,index:c})=>{const h=this.getDatasetMeta(r);if(!h)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:h.data[c],index:c}});!bc(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const l=this.options.hover,r=(f,m)=>f.filter(p=>!m.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),c=r(t,e),h=s?e:r(e,t);c.length&&this.updateHoverStyle(c,l.mode,!1),h.length&&l.mode&&this.updateHoverStyle(h,l.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},l=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,l)===!1)return;const r=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,l),(r||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:l=[],options:r}=this,c=t,h=this._getActiveElements(e,l,s,c),f=o2(e),m=JT(e,this._lastEvent,s,f);s&&(this._lastEvent=null,je(r.onHover,[e,h,this],this),f&&je(r.onClick,[e,h,this],this));const p=!bc(h,l);return(p||t)&&(this._active=h,this._updateHoverStyles(h,l,t)),this._lastEvent=m,p}_getActiveElements(e,t,s,l){if(e.type==="mouseout")return[];if(!s)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,l)}},ue(Ti,"defaults",Je),ue(Ti,"instances",gc),ue(Ti,"overrides",xs),ue(Ti,"registry",wn),ue(Ti,"version",XT),ue(Ti,"getChart",C_),Ti);function T_(){return Le(Da.instances,n=>n._plugins.invalidate())}function Lv(n,e,t=e){n.lineCap=be(t.borderCapStyle,e.borderCapStyle),n.setLineDash(be(t.borderDash,e.borderDash)),n.lineDashOffset=be(t.borderDashOffset,e.borderDashOffset),n.lineJoin=be(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=be(t.borderWidth,e.borderWidth),n.strokeStyle=be(t.borderColor,e.borderColor)}function eA(n,e,t){n.lineTo(t.x,t.y)}function tA(n){return n.stepped?O2:n.tension||n.cubicInterpolationMode==="monotone"?R2:eA}function zv(n,e,t={}){const s=n.length,{start:l=0,end:r=s-1}=t,{start:c,end:h}=e,f=Math.max(l,c),m=Math.min(r,h),p=l<c&&r<c||l>h&&r>h;return{count:s,start:f,loop:e.loop,ilen:m<f&&!p?s+m-f:m-f}}function nA(n,e,t,s){const{points:l,options:r}=e,{count:c,start:h,loop:f,ilen:m}=zv(l,t,s),p=tA(r);let{move:y=!0,reverse:_}=s||{},x,S,w;for(x=0;x<=m;++x)S=l[(h+(_?m-x:x))%c],!S.skip&&(y?(n.moveTo(S.x,S.y),y=!1):p(n,w,S,_,r.stepped),w=S);return f&&(S=l[(h+(_?m:0))%c],p(n,w,S,_,r.stepped)),!!f}function iA(n,e,t,s){const l=e.points,{count:r,start:c,ilen:h}=zv(l,t,s),{move:f=!0,reverse:m}=s||{};let p=0,y=0,_,x,S,w,T,R;const B=Y=>(c+(m?h-Y:Y))%r,U=()=>{w!==T&&(n.lineTo(p,T),n.lineTo(p,w),n.lineTo(p,R))};for(f&&(x=l[B(0)],n.moveTo(x.x,x.y)),_=0;_<=h;++_){if(x=l[B(_)],x.skip)continue;const Y=x.x,I=x.y,Z=Y|0;Z===S?(I<w?w=I:I>T&&(T=I),p=(y*p+Y)/++y):(U(),n.lineTo(Y,I),S=Z,y=0,w=T=I),R=I}U()}function ld(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?iA:nA}function sA(n){return n.stepped?uC:n.tension||n.cubicInterpolationMode==="monotone"?hC:ds}function aA(n,e,t,s){let l=e._path;l||(l=e._path=new Path2D,e.path(l,t,s)&&l.closePath()),Lv(n,e.options),n.stroke(l)}function lA(n,e,t,s){const{segments:l,options:r}=e,c=ld(e);for(const h of l)Lv(n,r,h.style),n.beginPath(),c(n,e,h,{start:t,end:t+s-1})&&n.closePath(),n.stroke()}const oA=typeof Path2D=="function";function rA(n,e,t,s){oA&&!e.options.segment?aA(n,e,t,s):lA(n,e,t,s)}class Di extends An{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const l=s.spanGaps?this._loop:this._fullLoop;nC(this._points,s,e,l,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yC(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,l=e[t],r=this.points,c=vv(this,{property:t,start:l,end:l});if(!c.length)return;const h=[],f=sA(s);let m,p;for(m=0,p=c.length;m<p;++m){const{start:y,end:_}=c[m],x=r[y],S=r[_];if(x===S){h.push(x);continue}const w=Math.abs((l-x[t])/(S[t]-x[t])),T=f(x,S,w,s.stepped);T[t]=e[t],h.push(T)}return h.length===1?h[0]:h}pathSegment(e,t,s){return ld(this)(e,this,t,s)}path(e,t,s){const l=this.segments,r=ld(this);let c=this._loop;t=t||0,s=s||this.points.length-t;for(const h of l)c&=r(e,this,h,{start:t,end:t+s-1});return!!c}draw(e,t,s,l){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),rA(e,this,s,l),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ue(Di,"id","line"),ue(Di,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ue(Di,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ue(Di,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function A_(n,e,t,s){const l=n.options,{[t]:r}=n.getProps([t],s);return Math.abs(e-r)<l.radius+l.hitRadius}class Kl extends An{constructor(t){super();ue(this,"parsed");ue(this,"skip");ue(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,s,l){const r=this.options,{x:c,y:h}=this.getProps(["x","y"],l);return Math.pow(t-c,2)+Math.pow(s-h,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,s){return A_(this,t,"x",s)}inYRange(t,s){return A_(this,t,"y",s)}getCenterPoint(t){const{x:s,y:l}=this.getProps(["x","y"],t);return{x:s,y:l}}size(t){t=t||this.options||{};let s=t.radius||0;s=Math.max(s,s&&t.hoverRadius||0);const l=s&&t.borderWidth||0;return(s+l)*2}draw(t,s){const l=this.options;this.skip||l.radius<.1||!ao(this,s,this.size(l)/2)||(t.strokeStyle=l.borderColor,t.lineWidth=l.borderWidth,t.fillStyle=l.backgroundColor,id(t,l,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}ue(Kl,"id","point"),ue(Kl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ue(Kl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Iv(n,e){const{x:t,y:s,base:l,width:r,height:c}=n.getProps(["x","y","base","width","height"],e);let h,f,m,p,y;return n.horizontal?(y=c/2,h=Math.min(t,l),f=Math.max(t,l),m=s-y,p=s+y):(y=r/2,h=t-y,f=t+y,m=Math.min(s,l),p=Math.max(s,l)),{left:h,top:m,right:f,bottom:p}}function Oi(n,e,t,s){return n?0:Wt(e,t,s)}function cA(n,e,t){const s=n.options.borderWidth,l=n.borderSkipped,r=uv(s);return{t:Oi(l.top,r.top,0,t),r:Oi(l.right,r.right,0,e),b:Oi(l.bottom,r.bottom,0,t),l:Oi(l.left,r.left,0,e)}}function uA(n,e,t){const{enableBorderRadius:s}=n.getProps(["enableBorderRadius"]),l=n.options.borderRadius,r=ya(l),c=Math.min(e,t),h=n.borderSkipped,f=s||Te(l);return{topLeft:Oi(!f||h.top||h.left,r.topLeft,0,c),topRight:Oi(!f||h.top||h.right,r.topRight,0,c),bottomLeft:Oi(!f||h.bottom||h.left,r.bottomLeft,0,c),bottomRight:Oi(!f||h.bottom||h.right,r.bottomRight,0,c)}}function hA(n){const e=Iv(n),t=e.right-e.left,s=e.bottom-e.top,l=cA(n,t/2,s/2),r=uA(n,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:r},inner:{x:e.left+l.l,y:e.top+l.t,w:t-l.l-l.r,h:s-l.t-l.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,r.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(l.b,l.r))}}}}function Bf(n,e,t,s){const l=e===null,r=t===null,h=n&&!(l&&r)&&Iv(n,s);return h&&(l||Mi(e,h.left,h.right))&&(r||Mi(t,h.top,h.bottom))}function fA(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function dA(n,e){n.rect(e.x,e.y,e.w,e.h)}function Pf(n,e,t={}){const s=n.x!==t.x?-e:0,l=n.y!==t.y?-e:0,r=(n.x+n.w!==t.x+t.w?e:0)-s,c=(n.y+n.h!==t.y+t.h?e:0)-l;return{x:n.x+s,y:n.y+l,w:n.w+r,h:n.h+c,radius:n.radius}}class Xl extends An{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:l}}=this,{inner:r,outer:c}=hA(this),h=fA(c.radius)?Ec:dA;e.save(),(c.w!==r.w||c.h!==r.h)&&(e.beginPath(),h(e,Pf(c,t,r)),e.clip(),h(e,Pf(r,-t,c)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),h(e,Pf(r,t)),e.fillStyle=l,e.fill(),e.restore()}inRange(e,t,s){return Bf(this,e,t,s)}inXRange(e,t){return Bf(this,e,null,t)}inYRange(e,t){return Bf(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:l,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+l)/2:t,y:r?s:(s+l)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ue(Xl,"id","bar"),ue(Xl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ue(Xl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function mA(n,e,t){const s=n.segments,l=n.points,r=e.points,c=[];for(const h of s){let{start:f,end:m}=h;m=Qc(f,m,l);const p=od(t,l[f],l[m],h.loop);if(!e.segments){c.push({source:h,target:p,start:l[f],end:l[m]});continue}const y=vv(e,p);for(const _ of y){const x=od(t,r[_.start],r[_.end],_.loop),S=bv(h,l,x);for(const w of S)c.push({source:w,target:_,start:{[t]:N_(p,x,"start",Math.max)},end:{[t]:N_(p,x,"end",Math.min)}})}}return c}function od(n,e,t,s){if(s)return;let l=e[n],r=t[n];return n==="angle"&&(l=Cn(l),r=Cn(r)),{property:n,start:l,end:r}}function gA(n,e){const{x:t=null,y:s=null}=n||{},l=e.points,r=[];return e.segments.forEach(({start:c,end:h})=>{h=Qc(c,h,l);const f=l[c],m=l[h];s!==null?(r.push({x:f.x,y:s}),r.push({x:m.x,y:s})):t!==null&&(r.push({x:t,y:f.y}),r.push({x:t,y:m.y}))}),r}function Qc(n,e,t){for(;e>n;e--){const s=t[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function N_(n,e,t,s){return n&&e?s(n[t],e[t]):n?n[t]:e?e[t]:0}function Hv(n,e){let t=[],s=!1;return nt(n)?(s=!0,t=n):t=gA(n,e),t.length?new Di({points:t,options:{tension:0},_loop:s,_fullLoop:s}):null}function M_(n){return n&&n.fill!==!1}function pA(n,e,t){let l=n[e].fill;const r=[e];let c;if(!t)return l;for(;l!==!1&&r.indexOf(l)===-1;){if(!it(l))return l;if(c=n[l],!c)return!1;if(c.visible)return l;r.push(l),l=c.fill}return!1}function yA(n,e,t){const s=xA(n);if(Te(s))return isNaN(s.value)?!1:s;let l=parseFloat(s);return it(l)&&Math.floor(l)===l?_A(s[0],e,l,t):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function _A(n,e,t,s){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=s?!1:t}function bA(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Te(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function vA(n,e,t){let s;return n==="start"?s=t:n==="end"?s=e.options.reverse?e.min:e.max:Te(n)?s=n.value:s=e.getBaseValue(),s}function xA(n){const e=n.options,t=e.fill;let s=be(t&&t.target,t);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function EA(n){const{scale:e,index:t,line:s}=n,l=[],r=s.segments,c=s.points,h=SA(e,t);h.push(Hv({x:null,y:e.bottom},s));for(let f=0;f<r.length;f++){const m=r[f];for(let p=m.start;p<=m.end;p++)wA(l,c[p],h)}return new Di({points:l,options:{}})}function SA(n,e){const t=[],s=n.getMatchingVisibleMetas("line");for(let l=0;l<s.length;l++){const r=s[l];if(r.index===e)break;r.hidden||t.unshift(r.dataset)}return t}function wA(n,e,t){const s=[];for(let l=0;l<t.length;l++){const r=t[l],{first:c,last:h,point:f}=CA(r,e,"x");if(!(!f||c&&h)){if(c)s.unshift(f);else if(n.push(f),!h)break}}n.push(...s)}function CA(n,e,t){const s=n.interpolate(e,t);if(!s)return{};const l=s[t],r=n.segments,c=n.points;let h=!1,f=!1;for(let m=0;m<r.length;m++){const p=r[m],y=c[p.start][t],_=c[p.end][t];if(Mi(l,y,_)){h=l===y,f=l===_;break}}return{first:h,last:f,point:s}}class Bv{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,s){const{x:l,y:r,radius:c}=this;return t=t||{start:0,end:gn},e.arc(l,r,c,t.end,t.start,!0),!s.bounds}interpolate(e){const{x:t,y:s,radius:l}=this,r=e.angle;return{x:t+Math.cos(r)*l,y:s+Math.sin(r)*l,angle:r}}}function TA(n){const{chart:e,fill:t,line:s}=n;if(it(t))return AA(e,t);if(t==="stack")return EA(n);if(t==="shape")return!0;const l=NA(n);return l instanceof Bv?l:Hv(l,s)}function AA(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function NA(n){return(n.scale||{}).getPointPositionForValue?DA(n):MA(n)}function MA(n){const{scale:e={},fill:t}=n,s=bA(t,e);if(it(s)){const l=e.isHorizontal();return{x:l?s:null,y:l?null:s}}return null}function DA(n){const{scale:e,fill:t}=n,s=e.options,l=e.getLabels().length,r=s.reverse?e.max:e.min,c=vA(t,e,r),h=[];if(s.grid.circular){const f=e.getPointPositionForValue(0,r);return new Bv({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(c)})}for(let f=0;f<l;++f)h.push(e.getPointPositionForValue(f,c));return h}function Uf(n,e,t){const s=TA(e),{chart:l,index:r,line:c,scale:h,axis:f}=e,m=c.options,p=m.fill,y=m.backgroundColor,{above:_=y,below:x=y}=p||{},S=l.getDatasetMeta(r),w=xv(l,S);s&&c.points.length&&(Gc(n,t),OA(n,{line:c,target:s,above:_,below:x,area:t,scale:h,axis:f,clip:w}),Wc(n))}function OA(n,e){const{line:t,target:s,above:l,below:r,area:c,scale:h,clip:f}=e,m=t._loop?"angle":e.axis;n.save();let p=r;r!==l&&(m==="x"?(D_(n,s,c.top),Ff(n,{line:t,target:s,color:l,scale:h,property:m,clip:f}),n.restore(),n.save(),D_(n,s,c.bottom)):m==="y"&&(O_(n,s,c.left),Ff(n,{line:t,target:s,color:r,scale:h,property:m,clip:f}),n.restore(),n.save(),O_(n,s,c.right),p=l)),Ff(n,{line:t,target:s,color:p,scale:h,property:m,clip:f}),n.restore()}function D_(n,e,t){const{segments:s,points:l}=e;let r=!0,c=!1;n.beginPath();for(const h of s){const{start:f,end:m}=h,p=l[f],y=l[Qc(f,m,l)];r?(n.moveTo(p.x,p.y),r=!1):(n.lineTo(p.x,t),n.lineTo(p.x,p.y)),c=!!e.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function O_(n,e,t){const{segments:s,points:l}=e;let r=!0,c=!1;n.beginPath();for(const h of s){const{start:f,end:m}=h,p=l[f],y=l[Qc(f,m,l)];r?(n.moveTo(p.x,p.y),r=!1):(n.lineTo(t,p.y),n.lineTo(p.x,p.y)),c=!!e.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(t,y.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function Ff(n,e){const{line:t,target:s,property:l,color:r,scale:c,clip:h}=e,f=mA(t,s,l);for(const{source:m,target:p,start:y,end:_}of f){const{style:{backgroundColor:x=r}={}}=m,S=s!==!0;n.save(),n.fillStyle=x,RA(n,c,h,S&&od(l,y,_)),n.beginPath();const w=!!t.pathSegment(n,m);let T;if(S){w?n.closePath():R_(n,s,_,l);const R=!!s.pathSegment(n,p,{move:w,reverse:!0});T=w&&R,T||R_(n,s,y,l)}n.closePath(),n.fill(T?"evenodd":"nonzero"),n.restore()}}function RA(n,e,t,s){const l=e.chart.chartArea,{property:r,start:c,end:h}=s||{};if(r==="x"||r==="y"){let f,m,p,y;r==="x"?(f=c,m=l.top,p=h,y=l.bottom):(f=l.left,m=c,p=l.right,y=h),n.beginPath(),t&&(f=Math.max(f,t.left),p=Math.min(p,t.right),m=Math.max(m,t.top),y=Math.min(y,t.bottom)),n.rect(f,m,p-f,y-m),n.clip()}}function R_(n,e,t,s){const l=e.interpolate(t,s);l&&n.lineTo(l.x,l.y)}var kA={id:"filler",afterDatasetsUpdate(n,e,t){const s=(n.data.datasets||[]).length,l=[];let r,c,h,f;for(c=0;c<s;++c)r=n.getDatasetMeta(c),h=r.dataset,f=null,h&&h.options&&h instanceof Di&&(f={visible:n.isDatasetVisible(c),index:c,fill:yA(h,c,s),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:h}),r.$filler=f,l.push(f);for(c=0;c<s;++c)f=l[c],!(!f||f.fill===!1)&&(f.fill=pA(l,c,t.propagate))},beforeDraw(n,e,t){const s=t.drawTime==="beforeDraw",l=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let c=l.length-1;c>=0;--c){const h=l[c].$filler;h&&(h.line.updateControlPoints(r,h.axis),s&&h.fill&&Uf(n.ctx,h,r))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const s=n.getSortedVisibleDatasetMetas();for(let l=s.length-1;l>=0;--l){const r=s[l].$filler;M_(r)&&Uf(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,e,t){const s=e.meta.$filler;!M_(s)||t.drawTime!=="beforeDatasetDraw"||Uf(n.ctx,s,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const k_=(n,e)=>{let{boxHeight:t=e,boxWidth:s=e}=n;return n.usePointStyle&&(t=Math.min(t,e),s=n.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},LA=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class L_ extends An{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=je(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,l)=>e.sort(s,l,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,l=wt(s.font),r=l.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=k_(s,r);let m,p;t.font=l.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(c,r,h,f)+10):(p=this.maxHeight,m=this._fitCols(c,l,h,f)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,l){const{ctx:r,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],p=l+h;let y=e;r.textAlign="left",r.textBaseline="middle";let _=-1,x=-p;return this.legendItems.forEach((S,w)=>{const T=s+t/2+r.measureText(S.text).width;(w===0||m[m.length-1]+T+2*h>c)&&(y+=p,m[m.length-(w>0?0:1)]=0,x+=p,_++),f[w]={left:0,top:x,row:_,width:T,height:l},m[m.length-1]+=T+h}),y}_fitCols(e,t,s,l){const{ctx:r,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],p=c-e;let y=h,_=0,x=0,S=0,w=0;return this.legendItems.forEach((T,R)=>{const{itemWidth:B,itemHeight:U}=zA(s,t,r,T,l);R>0&&x+U+2*h>p&&(y+=_+h,m.push({width:_,height:x}),S+=_+h,w++,_=x=0),f[R]={left:S,top:x,col:w,width:B,height:U},_=Math.max(_,B),x+=U+h}),y+=_,m.push({width:_,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:l},rtl:r}}=this,c=_a(r,this.left,this.width);if(this.isHorizontal()){let h=0,f=Et(s,this.left+l,this.right-this.lineWidths[h]);for(const m of t)h!==m.row&&(h=m.row,f=Et(s,this.left+l,this.right-this.lineWidths[h])),m.top+=this.top+e+l,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+l}else{let h=0,f=Et(s,this.top+e+l,this.bottom-this.columnSizes[h].height);for(const m of t)m.col!==h&&(h=m.col,f=Et(s,this.top+e+l,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+l,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Gc(e,this),this._draw(),Wc(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:l}=this,{align:r,labels:c}=e,h=Je.color,f=_a(e.rtl,this.left,this.width),m=wt(c.font),{padding:p}=c,y=m.size,_=y/2;let x;this.drawTitle(),l.textAlign=f.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=m.string;const{boxWidth:S,boxHeight:w,itemHeight:T}=k_(c,y),R=function(Z,F,W){if(isNaN(S)||S<=0||isNaN(w)||w<0)return;l.save();const q=be(W.lineWidth,1);if(l.fillStyle=be(W.fillStyle,h),l.lineCap=be(W.lineCap,"butt"),l.lineDashOffset=be(W.lineDashOffset,0),l.lineJoin=be(W.lineJoin,"miter"),l.lineWidth=q,l.strokeStyle=be(W.strokeStyle,h),l.setLineDash(be(W.lineDash,[])),c.usePointStyle){const K={radius:w*Math.SQRT2/2,pointStyle:W.pointStyle,rotation:W.rotation,borderWidth:q},$=f.xPlus(Z,S/2),te=F+_;rv(l,K,$,te,c.pointStyleWidth&&S)}else{const K=F+Math.max((y-w)/2,0),$=f.leftForLtr(Z,S),te=ya(W.borderRadius);l.beginPath(),Object.values(te).some(oe=>oe!==0)?Ec(l,{x:$,y:K,w:S,h:w,radius:te}):l.rect($,K,S,w),l.fill(),q!==0&&l.stroke()}l.restore()},B=function(Z,F,W){lo(l,W.text,Z,F+T/2,m,{strikethrough:W.hidden,textAlign:f.textAlign(W.textAlign)})},U=this.isHorizontal(),Y=this._computeTitleHeight();U?x={x:Et(r,this.left+p,this.right-s[0]),y:this.top+p+Y,line:0}:x={x:this.left+p,y:Et(r,this.top+Y+p,this.bottom-t[0].height),line:0},pv(this.ctx,e.textDirection);const I=T+p;this.legendItems.forEach((Z,F)=>{l.strokeStyle=Z.fontColor,l.fillStyle=Z.fontColor;const W=l.measureText(Z.text).width,q=f.textAlign(Z.textAlign||(Z.textAlign=c.textAlign)),K=S+_+W;let $=x.x,te=x.y;f.setWidth(this.width),U?F>0&&$+K+p>this.right&&(te=x.y+=I,x.line++,$=x.x=Et(r,this.left+p,this.right-s[x.line])):F>0&&te+I>this.bottom&&($=x.x=$+t[x.line].width+p,x.line++,te=x.y=Et(r,this.top+Y+p,this.bottom-t[x.line].height));const oe=f.x($);if(R(oe,te,Z),$=x2(q,$+S+_,U?$+K:this.right,e.rtl),B(f.x($),te,Z),U)x.x+=K+p;else if(typeof Z.text!="string"){const xe=m.lineHeight;x.y+=Pv(Z,xe)+p}else x.y+=I}),yv(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=wt(t.font),l=on(t.padding);if(!t.display)return;const r=_a(e.rtl,this.left,this.width),c=this.ctx,h=t.position,f=s.size/2,m=l.top+f;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+m,y=Et(e.align,y,this.right-_);else{const S=this.columnSizes.reduce((w,T)=>Math.max(w,T.height),0);p=m+Et(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const x=Et(h,y,y+_);c.textAlign=r.textAlign(zd(h)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=s.string,lo(c,t.text,x,p,s)}_computeTitleHeight(){const e=this.options.title,t=wt(e.font),s=on(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,l,r;if(Mi(e,this.left,this.right)&&Mi(t,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(l=r[s],Mi(e,l.left,l.left+l.width)&&Mi(t,l.top,l.top+l.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!BA(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const l=this._hoveredItem,r=LA(l,s);l&&!r&&je(t.onLeave,[e,l,this],this),this._hoveredItem=s,s&&!r&&je(t.onHover,[e,s,this],this)}else s&&je(t.onClick,[e,s,this],this)}}function zA(n,e,t,s,l){const r=IA(s,n,e,t),c=HA(l,s,e.lineHeight);return{itemWidth:r,itemHeight:c}}function IA(n,e,t,s){let l=n.text;return l&&typeof l!="string"&&(l=l.reduce((r,c)=>r.length>c.length?r:c)),e+t.size/2+s.measureText(l).width}function HA(n,e,t){let s=n;return typeof e.text!="string"&&(s=Pv(e,t)),s}function Pv(n,e){const t=n.text?n.text.length:0;return e*t}function BA(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var qd={id:"legend",_element:L_,start(n,e,t){const s=n.legend=new L_({ctx:n.ctx,options:t,chart:n});ln.configure(n,s,t),ln.addBox(n,s)},stop(n){ln.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const s=n.legend;ln.configure(n,s,t),s.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const s=e.datasetIndex,l=t.chart;l.isDatasetVisible(s)?(l.hide(s),e.hidden=!0):(l.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:l,color:r,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(t?0:void 0),p=on(m.borderWidth);return{text:e[f.index].label,fillStyle:m.backgroundColor,fontColor:r,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:s||m.pointStyle,rotation:m.rotation,textAlign:l||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Uv extends An{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const l=nt(s.text)?s.text.length:1;this._padding=on(s.padding);const r=l*wt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:l,right:r,options:c}=this,h=c.align;let f=0,m,p,y;return this.isHorizontal()?(p=Et(h,s,r),y=t+e,m=r-s):(c.position==="left"?(p=s+e,y=Et(h,l,t),f=mt*-.5):(p=r-e,y=Et(h,t,l),f=mt*.5),m=l-t),{titleX:p,titleY:y,maxWidth:m,rotation:f}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=wt(t.font),r=s.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(r);lo(e,t.text,0,0,s,{color:t.color,maxWidth:f,rotation:m,textAlign:zd(t.align),textBaseline:"middle",translation:[c,h]})}}function PA(n,e){const t=new Uv({ctx:n.ctx,options:e,chart:n});ln.configure(n,t,e),ln.addBox(n,t),n.titleBlock=t}var Fv={id:"title",_element:Uv,start(n,e,t){PA(n,t)},stop(n){const e=n.titleBlock;ln.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const s=n.titleBlock;ln.configure(n,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jl={average(n){if(!n.length)return!1;let e,t,s=new Set,l=0,r=0;for(e=0,t=n.length;e<t;++e){const h=n[e].element;if(h&&h.hasValue()){const f=h.tooltipPosition();s.add(f.x),l+=f.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((h,f)=>h+f)/s.size,y:l/r}},nearest(n,e){if(!n.length)return!1;let t=e.x,s=e.y,l=Number.POSITIVE_INFINITY,r,c,h;for(r=0,c=n.length;r<c;++r){const f=n[r].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),p=td(e,m);p<l&&(l=p,h=f)}}if(h){const f=h.tooltipPosition();t=f.x,s=f.y}return{x:t,y:s}}};function Sn(n,e){return e&&(nt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Gn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function UA(n,e){const{element:t,datasetIndex:s,index:l}=e,r=n.getDatasetMeta(s).controller,{label:c,value:h}=r.getLabelAndValue(l);return{chart:n,label:c,parsed:r.getParsed(l),raw:n.data.datasets[s].data[l],formattedValue:h,dataset:r.getDataset(),dataIndex:l,datasetIndex:s,element:t}}function z_(n,e){const t=n.chart.ctx,{body:s,footer:l,title:r}=n,{boxWidth:c,boxHeight:h}=e,f=wt(e.bodyFont),m=wt(e.titleFont),p=wt(e.footerFont),y=r.length,_=l.length,x=s.length,S=on(e.padding);let w=S.height,T=0,R=s.reduce((Y,I)=>Y+I.before.length+I.lines.length+I.after.length,0);if(R+=n.beforeBody.length+n.afterBody.length,y&&(w+=y*m.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),R){const Y=e.displayColors?Math.max(h,f.lineHeight):f.lineHeight;w+=x*Y+(R-x)*f.lineHeight+(R-1)*e.bodySpacing}_&&(w+=e.footerMarginTop+_*p.lineHeight+(_-1)*e.footerSpacing);let B=0;const U=function(Y){T=Math.max(T,t.measureText(Y).width+B)};return t.save(),t.font=m.string,Le(n.title,U),t.font=f.string,Le(n.beforeBody.concat(n.afterBody),U),B=e.displayColors?c+2+e.boxPadding:0,Le(s,Y=>{Le(Y.before,U),Le(Y.lines,U),Le(Y.after,U)}),B=0,t.font=p.string,Le(n.footer,U),t.restore(),T+=S.width,{width:T,height:w}}function FA(n,e){const{y:t,height:s}=e;return t<s/2?"top":t>n.height-s/2?"bottom":"center"}function VA(n,e,t,s){const{x:l,width:r}=s,c=t.caretSize+t.caretPadding;if(n==="left"&&l+r+c>e.width||n==="right"&&l-r-c<0)return!0}function jA(n,e,t,s){const{x:l,width:r}=t,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return s==="center"?m=l<=(h+f)/2?"left":"right":l<=r/2?m="left":l>=c-r/2&&(m="right"),VA(m,n,e,t)&&(m="center"),m}function I_(n,e,t){const s=t.yAlign||e.yAlign||FA(n,t);return{xAlign:t.xAlign||e.xAlign||jA(n,e,t,s),yAlign:s}}function YA(n,e){let{x:t,width:s}=n;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function qA(n,e,t){let{y:s,height:l}=n;return e==="top"?s+=t:e==="bottom"?s-=l+t:s-=l/2,s}function H_(n,e,t,s){const{caretSize:l,caretPadding:r,cornerRadius:c}=n,{xAlign:h,yAlign:f}=t,m=l+r,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:x}=ya(c);let S=YA(e,h);const w=qA(e,f,m);return f==="center"?h==="left"?S+=m:h==="right"&&(S-=m):h==="left"?S-=Math.max(p,_)+l:h==="right"&&(S+=Math.max(y,x)+l),{x:Wt(S,0,s.width-e.width),y:Wt(w,0,s.height-e.height)}}function lc(n,e,t){const s=on(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-s.right:n.x+s.left}function B_(n){return Sn([],Gn(n))}function GA(n,e,t){return Cs(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function P_(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Vv={beforeTitle:jn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:jn,beforeBody:jn,beforeLabel:jn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Oe(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:jn,afterBody:jn,beforeFooter:jn,footer:jn,afterFooter:jn};function Rt(n,e,t,s){const l=n[e].call(t,s);return typeof l>"u"?Vv[e].call(t,s):l}class rd extends An{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),l=s.enabled&&t.options.animation&&s.animations,r=new Ev(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=GA(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,l=Rt(s,"beforeTitle",this,e),r=Rt(s,"title",this,e),c=Rt(s,"afterTitle",this,e);let h=[];return h=Sn(h,Gn(l)),h=Sn(h,Gn(r)),h=Sn(h,Gn(c)),h}getBeforeBody(e,t){return B_(Rt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,l=[];return Le(e,r=>{const c={before:[],lines:[],after:[]},h=P_(s,r);Sn(c.before,Gn(Rt(h,"beforeLabel",this,r))),Sn(c.lines,Rt(h,"label",this,r)),Sn(c.after,Gn(Rt(h,"afterLabel",this,r))),l.push(c)}),l}getAfterBody(e,t){return B_(Rt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,l=Rt(s,"beforeFooter",this,e),r=Rt(s,"footer",this,e),c=Rt(s,"afterFooter",this,e);let h=[];return h=Sn(h,Gn(l)),h=Sn(h,Gn(r)),h=Sn(h,Gn(c)),h}_createItems(e){const t=this._active,s=this.chart.data,l=[],r=[],c=[];let h=[],f,m;for(f=0,m=t.length;f<m;++f)h.push(UA(this.chart,t[f]));return e.filter&&(h=h.filter((p,y,_)=>e.filter(p,y,_,s))),e.itemSort&&(h=h.sort((p,y)=>e.itemSort(p,y,s))),Le(h,p=>{const y=P_(e.callbacks,p);l.push(Rt(y,"labelColor",this,p)),r.push(Rt(y,"labelPointStyle",this,p)),c.push(Rt(y,"labelTextColor",this,p))}),this.labelColors=l,this.labelPointStyles=r,this.labelTextColors=c,this.dataPoints=h,h}update(e,t){const s=this.options.setContext(this.getContext()),l=this._active;let r,c=[];if(!l.length)this.opacity!==0&&(r={opacity:0});else{const h=jl[s.position].call(this,l,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const f=this._size=z_(this,s),m=Object.assign({},h,f),p=I_(this.chart,s,m),y=H_(s,m,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,r={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,l){const r=this.getCaretPosition(e,s,l);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,s){const{xAlign:l,yAlign:r}=this,{caretSize:c,cornerRadius:h}=s,{topLeft:f,topRight:m,bottomLeft:p,bottomRight:y}=ya(h),{x:_,y:x}=e,{width:S,height:w}=t;let T,R,B,U,Y,I;return r==="center"?(Y=x+w/2,l==="left"?(T=_,R=T-c,U=Y+c,I=Y-c):(T=_+S,R=T+c,U=Y-c,I=Y+c),B=T):(l==="left"?R=_+Math.max(f,p)+c:l==="right"?R=_+S-Math.max(m,y)-c:R=this.caretX,r==="top"?(U=x,Y=U-c,T=R-c,B=R+c):(U=x+w,Y=U+c,T=R+c,B=R-c),I=U),{x1:T,x2:R,x3:B,y1:U,y2:Y,y3:I}}drawTitle(e,t,s){const l=this.title,r=l.length;let c,h,f;if(r){const m=_a(s.rtl,this.x,this.width);for(e.x=lc(this,s.titleAlign,s),t.textAlign=m.textAlign(s.titleAlign),t.textBaseline="middle",c=wt(s.titleFont),h=s.titleSpacing,t.fillStyle=s.titleColor,t.font=c.string,f=0;f<r;++f)t.fillText(l[f],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,f+1===r&&(e.y+=s.titleMarginBottom-h)}}_drawColorBox(e,t,s,l,r){const c=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:f,boxWidth:m}=r,p=wt(r.bodyFont),y=lc(this,"left",r),_=l.x(y),x=f<p.lineHeight?(p.lineHeight-f)/2:0,S=t.y+x;if(r.usePointStyle){const w={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},T=l.leftForLtr(_,m)+m/2,R=S+f/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,id(e,w,T,R),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,id(e,w,T,R)}else{e.lineWidth=Te(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const w=l.leftForLtr(_,m),T=l.leftForLtr(l.xPlus(_,1),m-2),R=ya(c.borderRadius);Object.values(R).some(B=>B!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Ec(e,{x:w,y:S,w:m,h:f,radius:R}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Ec(e,{x:T,y:S+1,w:m-2,h:f-2,radius:R}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(w,S,m,f),e.strokeRect(w,S,m,f),e.fillStyle=c.backgroundColor,e.fillRect(T,S+1,m-2,f-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:l}=this,{bodySpacing:r,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:p}=s,y=wt(s.bodyFont);let _=y.lineHeight,x=0;const S=_a(s.rtl,this.x,this.width),w=function(W){t.fillText(W,S.x(e.x+x),e.y+_/2),e.y+=_+r},T=S.textAlign(c);let R,B,U,Y,I,Z,F;for(t.textAlign=c,t.textBaseline="middle",t.font=y.string,e.x=lc(this,T,s),t.fillStyle=s.bodyColor,Le(this.beforeBody,w),x=h&&T!=="right"?c==="center"?m/2+p:m+2+p:0,Y=0,Z=l.length;Y<Z;++Y){for(R=l[Y],B=this.labelTextColors[Y],t.fillStyle=B,Le(R.before,w),U=R.lines,h&&U.length&&(this._drawColorBox(t,e,Y,S,s),_=Math.max(y.lineHeight,f)),I=0,F=U.length;I<F;++I)w(U[I]),_=y.lineHeight;Le(R.after,w)}x=0,_=y.lineHeight,Le(this.afterBody,w),e.y-=r}drawFooter(e,t,s){const l=this.footer,r=l.length;let c,h;if(r){const f=_a(s.rtl,this.x,this.width);for(e.x=lc(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=f.textAlign(s.footerAlign),t.textBaseline="middle",c=wt(s.footerFont),t.fillStyle=s.footerColor,t.font=c.string,h=0;h<r;++h)t.fillText(l[h],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+s.footerSpacing}}drawBackground(e,t,s,l){const{xAlign:r,yAlign:c}=this,{x:h,y:f}=e,{width:m,height:p}=s,{topLeft:y,topRight:_,bottomLeft:x,bottomRight:S}=ya(l.cornerRadius);t.fillStyle=l.backgroundColor,t.strokeStyle=l.borderColor,t.lineWidth=l.borderWidth,t.beginPath(),t.moveTo(h+y,f),c==="top"&&this.drawCaret(e,t,s,l),t.lineTo(h+m-_,f),t.quadraticCurveTo(h+m,f,h+m,f+_),c==="center"&&r==="right"&&this.drawCaret(e,t,s,l),t.lineTo(h+m,f+p-S),t.quadraticCurveTo(h+m,f+p,h+m-S,f+p),c==="bottom"&&this.drawCaret(e,t,s,l),t.lineTo(h+x,f+p),t.quadraticCurveTo(h,f+p,h,f+p-x),c==="center"&&r==="left"&&this.drawCaret(e,t,s,l),t.lineTo(h,f+y),t.quadraticCurveTo(h,f,h+y,f),t.closePath(),t.fill(),l.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,l=s&&s.x,r=s&&s.y;if(l||r){const c=jl[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=z_(this,e),f=Object.assign({},c,this._size),m=I_(t,e,f),p=H_(e,f,m,t);(l._to!==p.x||r._to!==p.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const l={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=on(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,l,t),pv(e,t.textDirection),r.y+=c.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),yv(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,l=e.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),r=!bc(s,l),c=this._positionChanged(l,t);(r||c)&&(this._active=l,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,r=this._active||[],c=this._getActiveElements(e,r,t,s),h=this._positionChanged(c,e),f=t||!bc(c,r)||h;return f&&(this._active=c,(l.enabled||l.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),f}_getActiveElements(e,t,s,l){const r=this.options;if(e.type==="mouseout")return[];if(!l)return t.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:s,caretY:l,options:r}=this,c=jl[r.position].call(this,e,t);return c!==!1&&(s!==c.x||l!==c.y)}}ue(rd,"positioners",jl);var Gd={id:"tooltip",_element:rd,positioners:jl,afterInit(n,e,t){t&&(n.tooltip=new rd({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Vv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const WA=(n,e,t,s)=>(typeof e=="string"?(t=n.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function KA(n,e,t,s){const l=n.indexOf(e);if(l===-1)return WA(n,e,t,s);const r=n.lastIndexOf(e);return l!==r?t:l}const XA=(n,e)=>n===null?null:Wt(Math.round(n),0,e);function U_(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Cc extends Ts{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:l,label:r}of t)s[l]===r&&s.splice(l,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Oe(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:KA(s,e,be(t,e),this._addedLabels),XA(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(l=this.getLabels().length-1)),this.min=s,this.max=l}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,l=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=e;c<=t;c++)l.push({value:c});return l}getLabelForValue(e){return U_.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ue(Cc,"id","category"),ue(Cc,"defaults",{ticks:{callback:U_}});function QA(n,e){const t=[],{bounds:l,step:r,min:c,max:h,precision:f,count:m,maxTicks:p,maxDigits:y,includeBounds:_}=n,x=r||1,S=p-1,{min:w,max:T}=e,R=!Oe(c),B=!Oe(h),U=!Oe(m),Y=(T-w)/(y+1);let I=Hy((T-w)/S/x)*x,Z,F,W,q;if(I<1e-14&&!R&&!B)return[{value:w},{value:T}];q=Math.ceil(T/I)-Math.floor(w/I),q>S&&(I=Hy(q*I/S/x)*x),Oe(f)||(Z=Math.pow(10,f),I=Math.ceil(I*Z)/Z),l==="ticks"?(F=Math.floor(w/I)*I,W=Math.ceil(T/I)*I):(F=w,W=T),R&&B&&r&&f2((h-c)/r,I/1e3)?(q=Math.round(Math.min((h-c)/I,p)),I=(h-c)/q,F=c,W=h):U?(F=R?c:F,W=B?h:W,q=m-1,I=(W-F)/q):(q=(W-F)/I,ql(q,Math.round(q),I/1e3)?q=Math.round(q):q=Math.ceil(q));const K=Math.max(By(I),By(F));Z=Math.pow(10,Oe(f)?K:f),F=Math.round(F*Z)/Z,W=Math.round(W*Z)/Z;let $=0;for(R&&(_&&F!==c?(t.push({value:c}),F<c&&$++,ql(Math.round((F+$*I)*Z)/Z,c,F_(c,Y,n))&&$++):F<c&&$++);$<q;++$){const te=Math.round((F+$*I)*Z)/Z;if(B&&te>h)break;t.push({value:te})}return B&&_&&W!==h?t.length&&ql(t[t.length-1].value,h,F_(h,Y,n))?t[t.length-1].value=h:t.push({value:h}):(!B||W===h)&&t.push({value:W}),t}function F_(n,e,{horizontal:t,minRotation:s}){const l=ps(s),r=(t?Math.sin(l):Math.cos(l))||.001,c=.75*e*(""+n).length;return Math.min(e/r,c)}class jv extends Ts{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Oe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:l,max:r}=this;const c=f=>l=t?l:f,h=f=>r=s?r:f;if(e){const f=Tn(l),m=Tn(r);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(l===r){let f=r===0?1:Math.abs(r*.05);h(r+f),e||c(l-f)}this.min=l,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,l;return s?(l=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),t=t||11),t&&(l=Math.min(t,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const l={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,c=QA(l,r);return e.bounds==="ticks"&&Jb(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const l=(s-t)/Math.max(e.length-1,1)/2;t-=l,s+=l}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return Hd(e,this.chart.options.locale,this.options.ticks.format)}}class ro extends jv{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=it(e)?e:0,this.max=it(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=ps(this.options.ticks.minRotation),l=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/l))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ue(ro,"id","linear"),ue(ro,"defaults",{ticks:{callback:Bd.formatters.numeric}});const co=n=>Math.floor(Ni(n)),hs=(n,e)=>Math.pow(10,co(n)+e);function V_(n){return n/Math.pow(10,co(n))===1}function j_(n,e,t){const s=Math.pow(10,t),l=Math.floor(n/s);return Math.ceil(e/s)-l}function ZA(n,e){const t=e-n;let s=co(t);for(;j_(n,e,s)>10;)s++;for(;j_(n,e,s)<10;)s--;return Math.min(s,co(n))}function $A(n,{min:e,max:t}){e=Gt(n.min,e);const s=[],l=co(e);let r=ZA(e,t),c=r<0?Math.pow(10,Math.abs(r)):1;const h=Math.pow(10,r),f=l>r?Math.pow(10,l):0,m=Math.round((e-f)*c)/c,p=Math.floor((e-f)/h/10)*h*10;let y=Math.floor((m-p)/Math.pow(10,r)),_=Gt(n.min,Math.round((f+p+y*Math.pow(10,r))*c)/c);for(;_<t;)s.push({value:_,major:V_(_),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(r++,y=2,c=r>=0?1:c),_=Math.round((f+p+y*Math.pow(10,r))*c)/c;const x=Gt(n.max,_);return s.push({value:x,major:V_(x),significand:y}),s}class cd extends Ts{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const s=jv.prototype.parse.apply(this,[e,t]);if(s===0){this._zero=!0;return}return it(s)&&s>0?s:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=it(e)?Math.max(0,e):null,this.max=it(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!it(this._userMin)&&(this.min=e===hs(this.min,0)?hs(this.min,-1):hs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let s=this.min,l=this.max;const r=h=>s=e?s:h,c=h=>l=t?l:h;s===l&&(s<=0?(r(1),c(10)):(r(hs(s,-1)),c(hs(l,1)))),s<=0&&r(hs(l,-1)),l<=0&&c(hs(s,1)),this.min=s,this.max=l}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},s=$A(t,this);return e.bounds==="ticks"&&Jb(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":Hd(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ni(e),this._valueRange=Ni(this.max)-Ni(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ni(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}ue(cd,"id","logarithmic"),ue(cd,"defaults",{ticks:{callback:Bd.formatters.logarithmic,major:{enabled:!0}}});const Zc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kt=Object.keys(Zc);function Y_(n,e){return n-e}function q_(n,e){if(Oe(e))return null;const t=n._adapter,{parser:s,round:l,isoWeekday:r}=n._parseOpts;let c=e;return typeof s=="function"&&(c=s(c)),it(c)||(c=typeof s=="string"?t.parse(c,s):t.parse(c)),c===null?null:(l&&(c=l==="week"&&(Sa(r)||r===!0)?t.startOf(c,"isoWeek",r):t.startOf(c,l)),+c)}function G_(n,e,t,s){const l=kt.length;for(let r=kt.indexOf(n);r<l-1;++r){const c=Zc[kt[r]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(h*c.size))<=s)return kt[r]}return kt[l-1]}function JA(n,e,t,s,l){for(let r=kt.length-1;r>=kt.indexOf(t);r--){const c=kt[r];if(Zc[c].common&&n._adapter.diff(l,s,c)>=e-1)return c}return kt[t?kt.indexOf(t):0]}function eN(n){for(let e=kt.indexOf(n)+1,t=kt.length;e<t;++e)if(Zc[kt[e]].common)return kt[e]}function W_(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:s,hi:l}=Ld(t,e),r=t[s]>=e?t[s]:t[l];n[r]=!0}}function tN(n,e,t,s){const l=n._adapter,r=+l.startOf(e[0].value,s),c=e[e.length-1].value;let h,f;for(h=r;h<=c;h=+l.add(h,1,s))f=t[h],f>=0&&(e[f].major=!0);return e}function K_(n,e,t){const s=[],l={},r=e.length;let c,h;for(c=0;c<r;++c)h=e[c],l[h]=c,s.push({value:h,major:!1});return r===0||!t?s:tN(n,s,l,t)}class Tc extends Ts{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),l=this._adapter=new qC._date(e.adapters.date);l.init(t),Yl(s.displayFormats,l.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:q_(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:l,max:r,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(l=Math.min(l,m.min)),!h&&!isNaN(m.max)&&(r=Math.max(r,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),l=it(l)&&!isNaN(l)?l:+t.startOf(Date.now(),s),r=it(r)&&!isNaN(r)?r:+t.endOf(Date.now(),s)+1,this.min=Math.min(l,r-1),this.max=Math.max(l+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,l=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const r=this.min,c=this.max,h=_2(l,r,c);return this._unit=t.unit||(s.autoSkip?G_(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):JA(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:eN(this._unit),this.initOffsets(l),e.reverse&&h.reverse(),K_(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,l,r;this.options.offset&&e.length&&(l=this.getDecimalForValue(e[0]),e.length===1?t=1-l:t=(this.getDecimalForValue(e[1])-l)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=Wt(t,0,c),s=Wt(s,0,c),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,l=this.options,r=l.time,c=r.unit||G_(r.minUnit,t,s,this._getLabelCapacity(t)),h=be(l.ticks.stepSize,1),f=c==="week"?r.isoWeekday:!1,m=Sa(f)||f===!0,p={};let y=t,_,x;if(m&&(y=+e.startOf(y,"isoWeek",f)),y=+e.startOf(y,m?"day":c),e.diff(s,t,c)>1e5*h)throw new Error(t+" and "+s+" are too far apart with stepSize of "+h+" "+c);const S=l.ticks.source==="data"&&this.getDataTimestamps();for(_=y,x=0;_<s;_=+e.add(_,h,c),x++)W_(p,_,S);return(_===s||l.bounds==="ticks"||x===1)&&W_(p,_,S),Object.keys(p).sort(Y_).map(w=>+w)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const l=this.options.time.displayFormats,r=this._unit,c=t||l[r];return this._adapter.format(e,c)}_tickFormatFunction(e,t,s,l){const r=this.options,c=r.ticks.callback;if(c)return je(c,[e,t,s],this);const h=r.time.displayFormats,f=this._unit,m=this._majorUnit,p=f&&h[f],y=m&&h[m],_=s[t],x=m&&y&&_&&_.major;return this._adapter.format(e,l||(x?y:p))}generateTickLabels(e){let t,s,l;for(t=0,s=e.length;t<s;++t)l=e[t],l.label=this._tickFormatFunction(l.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,l=ps(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(l),c=Math.sin(l),h=this._resolveTickFontOptions(0).size;return{w:s*r+h*c,h:s*c+h*r}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,l=s[t.unit]||s.millisecond,r=this._tickFormatFunction(e,0,K_(this,[e],this._majorUnit),l),c=this._getLabelSize(r),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(t=0,s=l.length;t<s;++t)e=e.concat(l[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const l=this.getLabels();for(t=0,s=l.length;t<s;++t)e.push(q_(this,l[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return nv(e.sort(Y_))}}ue(Tc,"id","time"),ue(Tc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function oc(n,e,t){let s=0,l=n.length-1,r,c,h,f;t?(e>=n[s].pos&&e<=n[l].pos&&({lo:s,hi:l}=ys(n,"pos",e)),{pos:r,time:h}=n[s],{pos:c,time:f}=n[l]):(e>=n[s].time&&e<=n[l].time&&({lo:s,hi:l}=ys(n,"time",e)),{time:r,pos:h}=n[s],{time:c,pos:f}=n[l]);const m=c-r;return m?h+(f-h)*(e-r)/m:h}class X_ extends Tc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=oc(t,this.min),this._tableRange=oc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,l=[],r=[];let c,h,f,m,p;for(c=0,h=e.length;c<h;++c)m=e[c],m>=t&&m<=s&&l.push(m);if(l.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(c=0,h=l.length;c<h;++c)p=l[c+1],f=l[c-1],m=l[c],Math.round((p+f)/2)!==m&&r.push({time:m,pos:c/(h-1)});return r}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((l,r)=>l-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(oc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return oc(this._table,s*this._tableRange+this._minPos,!0)}}ue(X_,"id","timeseries"),ue(X_,"defaults",Tc.defaults);const Yv="label";function Q_(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function nN(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function qv(n,e){n.labels=e}function Gv(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Yv;const s=[];n.datasets=e.map(l=>{const r=n.datasets.find(c=>c[t]===l[t]);return!r||!l.data||s.includes(r)?{...l}:(s.push(r),Object.assign(r,l),r)})}function iN(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yv;const t={labels:[],datasets:[]};return qv(t,n.labels),Gv(t,n.datasets,e),t}function sN(n,e){const{height:t=150,width:s=300,redraw:l=!1,datasetIdKey:r,type:c,data:h,options:f,plugins:m=[],fallbackContent:p,updateMode:y,..._}=n,x=ie.useRef(null),S=ie.useRef(null),w=()=>{x.current&&(S.current=new Da(x.current,{type:c,data:iN(h,r),options:f&&{...f},plugins:m}),Q_(e,S.current))},T=()=>{Q_(e,null),S.current&&(S.current.destroy(),S.current=null)};return ie.useEffect(()=>{!l&&S.current&&f&&nN(S.current,f)},[l,f]),ie.useEffect(()=>{!l&&S.current&&qv(S.current.config.data,h.labels)},[l,h.labels]),ie.useEffect(()=>{!l&&S.current&&h.datasets&&Gv(S.current.config.data,h.datasets,r)},[l,h.datasets]),ie.useEffect(()=>{S.current&&(l?(T(),setTimeout(w)):S.current.update(y))},[l,f,h.labels,h.datasets,y]),ie.useEffect(()=>{S.current&&(T(),setTimeout(w))},[c]),ie.useEffect(()=>(w(),()=>T()),[]),b.createElement("canvas",{ref:x,role:"img",height:t,width:s,..._},p)}const aN=ie.forwardRef(sN);function Wd(n,e){return Da.register(e),ie.forwardRef((t,s)=>b.createElement(aN,{...t,ref:s,type:n}))}const Kd=Wd("line",fc),$c=Wd("bar",hc),lN=Wd("scatter",dc),oN=({chartData:n,hasAnimated:e})=>{const[t,s]=ie.useState("chlorophyll"),l=c=>{const h=Array(12).fill().map(()=>[]);return c.forEach(({date:f,value:m})=>{const p=f.getMonth();h[p].push(m)}),h.map(f=>f.length?f.reduce((m,p)=>m+p,0)/f.length:null)},r=ie.useMemo(()=>{let c,h,f;t==="chlorophyll"?(c=n.chlorophyll,h="Chlorophyll-a",f="#10b981"):t==="nitrate"?(c=n.nitrate,h="Nitrate",f="#3b82f6"):t==="nitrite"&&(c=n.nitrite||[],h="Nitrite",f="#fbbf24");const m=l(c);return{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:`${h} Monthly Trend`,data:m,borderColor:f,backgroundColor:f+"22",pointBackgroundColor:f,pointBorderColor:"#fff",pointRadius:5,pointHoverRadius:8,spanGaps:!0,tension:.4,fill:!0}]}},[t,n]);return b.createElement("div",{className:"h-[28rem]"},b.createElement("div",{className:"flex items-center gap-3 mb-3"},b.createElement("label",{className:"text-sm text-gray-600"},"Select metric:"),b.createElement("select",{value:t,onChange:c=>s(c.target.value),className:"border rounded px-3 py-1 text-sm"},b.createElement("option",{value:"chlorophyll"},"Chlorophyll-a"),b.createElement("option",{value:"nitrate"},"Nitrate"),b.createElement("option",{value:"nitrite"},"Nitrite"))),t==="chlorophyll"&&n.chlorophyll.length||t==="nitrate"&&n.nitrate.length||t==="nitrite"&&n.nitrite&&n.nitrite.length?b.createElement(b.Fragment,null,b.createElement(Kd,{key:`chemicals-${t}`,data:r,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:1200,easing:"easeOutQuart",animateScale:!0,animateRotate:!0},plugins:{legend:{position:"top"},tooltip:{enabled:!0,mode:"index",intersect:!1,backgroundColor:"rgba(243,244,246,0.95)",titleColor:"#111827",bodyColor:"#374151",borderColor:"#9CA3AF",borderWidth:1,padding:12,callbacks:{afterBody:()=>[t==="chlorophyll"?"Chlorophylla is a marker for algal biomass and blooms. High values indicate nutrient enrichment (eutrophication) and reduced water clarity.":"Nitrate (mg/L) indicates nutrient pollution, often from agriculture or sewage. Rising trends over time may accelerate algal blooms and reduce water quality."]}},zoom:{pan:{enabled:!0,mode:"xy"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"}}},hover:{mode:"nearest",intersect:!1},scales:{y:{beginAtZero:!0},x:{ticks:{padding:12,autoSkip:!1,maxRotation:0,minRotation:0},grid:{drawOnChartArea:!0},offset:!0,title:{display:!1}}}}}),b.createElement("div",{className:"mt-4 px-2 text-gray-700 text-sm text-center"},t==="chlorophyll"?b.createElement(b.Fragment,null,b.createElement("b",null,"What is measured?")," Chlorophylla is a marker for algal biomass and blooms. High values indicate nutrient enrichment (eutrophication) and reduced water clarity.",b.createElement("br",null),b.createElement("b",null,"Trends:")," An increase over the months may indicate seasonal blooms or pollution, while a decrease suggests cleaner water."):t==="nitrate"?b.createElement(b.Fragment,null,b.createElement("b",null,"What is measured?")," Nitrate (mg/L) is a pollutant often originating from agricultural fertilizers or sewage. High values indicate nutrient pollution in the water.",b.createElement("br",null),b.createElement("b",null,"Trends:")," An increase over the months may indicate ongoing pollution, while a decrease suggests improving water quality."):b.createElement(b.Fragment,null,b.createElement("b",null,"What is measured?")," Nitrite (mg/L) is a pollutant often originating from sewage or industrial waste. High values can indicate contamination and pose health risks.",b.createElement("br",null),b.createElement("b",null,"Trends:")," An increase over the months may indicate new pollution sources, while a decrease suggests improving water quality."))):b.createElement("p",{className:"text-center text-gray-500"},"No ",t==="chlorophyll"?"chlorophyll":t==="nitrate"?"nitrate":"nitrite"," data available"))},rN=({chartData:n})=>{const[e,t]=ie.useState("");return b.createElement("div",{className:"h-full flex flex-col"},n.beaches.length?b.createElement(b.Fragment,null,b.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between mb-4 gap-4 flex-shrink-0"},b.createElement("h3",{className:"text-lg font-semibold text-gray-800 text-center"},"E.coli Contamination Heatmap by Beach"),b.createElement("div",{className:"flex items-center space-x-2"},b.createElement("span",{className:"text-sm text-gray-600"}," Search:"),b.createElement("input",{type:"text",placeholder:"Filter beaches...",value:e,onChange:s=>t(s.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e&&b.createElement("button",{onClick:()=>t(""),className:"text-gray-400 hover:text-gray-600 text-sm",title:"Clear search"},""))),b.createElement("div",{className:"flex-1 overflow-hidden"},(()=>{const s=n.beaches.filter(l=>l.beach.toLowerCase().includes(e.toLowerCase()));return s.length===0?b.createElement("div",{className:"flex items-center justify-center h-full"},b.createElement("div",{className:"text-center text-gray-500"},b.createElement("div",{className:"text-4xl mb-2"},""),b.createElement("p",null,'No beaches found matching "',e,'"'),b.createElement("button",{onClick:()=>t(""),className:"mt-2 text-blue-500 hover:text-blue-700 text-sm underline"},"Clear search to see all beaches"))):(s.length,b.createElement("div",{className:"h-full p-4 overflow-auto"},b.createElement("div",{className:"grid gap-4 w-full auto-rows-max",style:{gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",maxWidth:"100%"}},s.map((l,r)=>{const c=Math.max(...n.beaches.map(_=>_.average)),h=Math.min(...n.beaches.map(_=>_.average)),f=(l.average-h)/(c-h);let m,p="white",y;return f<.33?(m=`rgba(34, 197, 94, ${.3+f*.7})`,y="Low Risk",f<.15&&(p="black")):f<.66?(m=`rgba(251, 191, 36, ${.5+(f-.33)*.5})`,y="Medium Risk",p="black"):(m=`rgba(239, 68, 68, ${.6+(f-.66)*.4})`,y="High Risk"),b.createElement("div",{key:r,className:"rounded-lg p-3 border border-gray-200 cursor-pointer shadow-sm flex flex-col justify-center items-center min-h-[80px] aspect-square transition-all duration-500 hover:scale-110 hover:shadow-lg animate-heatmap-pop",style:{backgroundColor:m,animationDelay:`${r*40}ms`},title:`${l.beach}: ${l.average.toFixed(0)} CFU/100mL - ${y}`},b.createElement("div",{className:"text-center w-full h-full flex flex-col justify-center overflow-hidden"},b.createElement("div",{className:"text-xs font-medium mb-1 leading-tight truncate px-1",style:{color:p}},l.beach.length>8?l.beach.slice(0,8)+"...":l.beach),b.createElement("div",{className:"text-sm font-bold mb-1",style:{color:p}},l.average.toFixed(0)),b.createElement("div",{className:"text-xs",style:{color:p}},"CFU/100mL")))}))))})()),b.createElement("div",{className:"mt-4 px-4 border-t pt-4 flex-shrink-0"},b.createElement("div",{className:"flex items-center justify-center space-x-6 mb-2"},b.createElement("div",{className:"flex items-center space-x-2"},b.createElement("div",{className:"w-4 h-4 rounded bg-green-500"}),b.createElement("span",{className:"text-sm text-gray-600"},"Low Risk (Safe)")),b.createElement("div",{className:"flex items-center space-x-2"},b.createElement("div",{className:"w-4 h-4 rounded bg-yellow-500"}),b.createElement("span",{className:"text-sm text-gray-600"},"Medium Risk (Caution)")),b.createElement("div",{className:"flex items-center space-x-2"},b.createElement("div",{className:"w-4 h-4 rounded bg-red-500"}),b.createElement("span",{className:"text-sm text-gray-600"},"High Risk (Unsafe)"))),b.createElement("p",{className:"text-center text-xs text-gray-500"},"E.coli levels indicate fecal contamination. Higher values mean greater health risks for swimming.",e&&` | Showing ${filteredBeaches.length} of ${n.beaches.length} beaches`))):b.createElement("p",{className:"text-center text-gray-500"},"No E.coli data available"))},Wv=document.createElement("style");Wv.innerHTML=`
@keyframes heatmap-pop {
  0% { transform: scale(0.7); opacity: 0.2; }
  60% { transform: scale(1.08); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}
.animate-heatmap-pop {
  animation: heatmap-pop 0.7s cubic-bezier(.4,0,.2,1);
}
`;document.head.appendChild(Wv);const cN=({chartData:n,hasAnimated:e})=>{const[t,s]=ie.useState("");return ie.useEffect(()=>{!t&&n.metalList&&n.metalList.length>0&&s(n.metalList[0])},[n.metalList,t]),b.createElement("div",{className:"pb-16"},b.createElement("div",{className:"flex flex-wrap items-center gap-3 mb-2"}),b.createElement("div",{className:"flex flex-wrap items-center gap-3 mb-4"},b.createElement("label",{className:"text-sm text-gray-600"},"Metal:"),b.createElement("select",{value:t,onChange:l=>s(l.target.value),className:"border rounded px-3 py-1 text-sm"},(n.metalList||[]).map(l=>b.createElement("option",{key:l,value:l},l)))),b.createElement("div",{className:"h-[28rem]"},t&&n.perDepthMetal&&n.perDepthMetal[t]?b.createElement(b.Fragment,null,b.createElement($c,{key:"metals-depth-bar",data:{labels:Object.keys(n.perDepthMetal[t]).sort((l,r)=>Number(l)-Number(r)),datasets:[{label:`${t} by depth (avg, g/L)`,data:Object.keys(n.perDepthMetal[t]).sort((l,r)=>Number(l)-Number(r)).map(l=>{const r=n.perDepthMetal[t][l];return r.reduce((c,h)=>c+h,0)/r.length}),backgroundColor:"rgba(220,38,127,0.75)",borderColor:"rgb(220,38,127)",borderWidth:1.5,borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:1200,easing:"easeOutQuart",animateScale:!0,animateRotate:!0},plugins:{legend:{position:"top"},tooltip:{enabled:!0,mode:"index",intersect:!1,displayColors:!1,backgroundColor:"rgba(243,244,246,0.95)",titleColor:"#111827",bodyColor:"#374151",borderColor:"#9CA3AF",borderWidth:1,padding:12,callbacks:{title:()=>[],label:()=>"",footer:()=>[],afterBody:()=>["Heavy metal concentrations (g/L), which can be toxic even at low levels, are shown here as averages by depth."]}}},scales:{x:{title:{display:!0,text:"Depth (m)"},ticks:{padding:12,autoSkip:!1,maxRotation:0,minRotation:0,align:"center"},offset:!0,grid:{drawOnChartArea:!0}},y:{title:{display:!0,text:"Avg concentration (g/L)"},type:"logarithmic"}}}}),b.createElement("div",{className:"mt-4 px-4 text-gray-700 text-sm text-left break-words"},b.createElement("b",null,"What is measured?")," Heavy metals (g/L) such as lead, mercury, and cadmium are measured at different depths. Even low concentrations can be toxic to aquatic life and humans.",b.createElement("br",null),b.createElement("b",null,"Trends:")," Higher concentrations at certain depths may indicate pollution sources or sediment release. Lower values suggest cleaner water at those depths.")):b.createElement("p",{className:"text-center text-gray-500"},"No heavy metal data available")))},uN=({chartData:n,hasAnimated:e})=>b.createElement("div",null,b.createElement("div",{className:"h-[28rem] mb-8"},n.yearlyAverages&&n.yearlyAverages.length?b.createElement(Kd,{key:"yearly-trends",data:{labels:n.yearlyAverages.map(t=>t.year),datasets:[{label:"Chlorophyll-a Avg (g/L)",data:n.yearlyAverages.map(t=>t.chlorophyllAvg||null),borderColor:"rgba(34,197,94,0.9)",backgroundColor:"rgba(34,197,94,0.1)",yAxisID:"y",tension:.3,pointRadius:5,pointHoverRadius:8},{label:"Nitrate Avg (mg/L)",data:n.yearlyAverages.map(t=>t.nitrateAvg||null),borderColor:"rgba(59,130,246,0.9)",backgroundColor:"rgba(59,130,246,0.1)",yAxisID:"y1",tension:.3,pointRadius:5,pointHoverRadius:8},{label:"E.coli Avg",data:n.yearlyAverages.map(t=>t.ecoliAvg||null),borderColor:"rgba(249,115,22,0.9)",backgroundColor:"rgba(249,115,22,0.1)",yAxisID:"y2",tension:.3,pointRadius:5,pointHoverRadius:8}]},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:1200,easing:"easeOutQuart",animateScale:!0,animateRotate:!0},interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{backgroundColor:"rgba(243,244,246,0.95)",titleColor:"#111827",bodyColor:"#374151",borderColor:"#9CA3AF",borderWidth:1,padding:12,callbacks:{afterBody:()=>["Annual trends show average environmental indicators over the years. This helps identify long-term patterns in water quality changes and environmental health."]}},zoom:{pan:{enabled:!0,mode:"xy"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"}}},hover:{mode:"nearest",intersect:!1},scales:{x:{title:{display:!0,text:"Year"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Chlorophyll-a (g/L)"},grid:{drawOnChartArea:!1}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Nitrate (mg/L)"},grid:{drawOnChartArea:!1}},y2:{type:"logarithmic",display:!1,position:"right"}}}}):b.createElement("p",{className:"text-center text-gray-500"},"No yearly data available")),n.yearlyAverages&&n.yearlyAverages.length>1&&b.createElement("div",{className:"mt-8 space-y-6"},b.createElement("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-6 border-l-4 border-red-500"},b.createElement("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center"},b.createElement("span",{className:"text-2xl mr-2"},""),"Environmental Concerns & Degradation Trends"),(()=>{const t=n.yearlyAverages,s=[];t.forEach((r,c)=>{const h=r,f=c>0?t[c-1]:null;if(f){if(f.chlorophyllAvg>0){const m=(h.chlorophyllAvg-f.chlorophyllAvg)/f.chlorophyllAvg*100;m>50&&s.push({type:"Eutrophication Crisis",icon:"",year:h.year,change:m,description:`Massive chlorophyll-a spike in ${h.year}: ${m.toFixed(1)}% increase from previous year`,values:`${f.chlorophyllAvg.toFixed(2)}  ${h.chlorophyllAvg.toFixed(2)} g/L`,impact:"Severe algal blooms, oxygen depletion, fish kills, and ecosystem collapse",causes:"Agricultural runoff peak, sewage overflow, or fertilizer dumping"})}if(f.nitrateAvg>0){const m=(h.nitrateAvg-f.nitrateAvg)/f.nitrateAvg*100;m>40&&s.push({type:"Nutrient Pollution Crisis",icon:"",year:h.year,change:m,description:`Critical nitrate contamination in ${h.year}: ${m.toFixed(1)}% surge`,values:`${f.nitrateAvg.toFixed(2)}  ${h.nitrateAvg.toFixed(2)} mg/L`,impact:"Groundwater contamination, drinking water unsafe, blue baby syndrome risk",causes:"Intensive farming season, fertilizer overuse, or livestock waste event"})}if(f.ecoliAvg>0){const m=(h.ecoliAvg-f.ecoliAvg)/f.ecoliAvg*100;m>100&&s.push({type:"Fecal Contamination Outbreak",icon:"",year:h.year,change:m,description:`E.coli outbreak in ${h.year}: ${m.toFixed(1)}% explosion`,values:`${f.ecoliAvg.toFixed(0)}  ${h.ecoliAvg.toFixed(0)} CFU/100mL`,impact:"Beach closures, waterborne diseases, tourism losses, public health emergency",causes:"Sewage system failure, septic overflow, or storm-related contamination"})}}h.chlorophyllAvg>30&&s.push({type:"Severe Eutrophication Event",icon:"",year:h.year,change:null,description:`Extremely high chlorophyll levels in ${h.year}: ${h.chlorophyllAvg.toFixed(2)} g/L`,values:"Critical threshold exceeded (>30 g/L)",impact:"Massive algal blooms, dead zones, complete ecosystem disruption",causes:"Perfect storm of nutrients, temperature, and weather conditions"}),h.nitrateAvg>10&&s.push({type:"Nitrate Contamination Alert",icon:"",year:h.year,change:null,description:`Dangerous nitrate levels in ${h.year}: ${h.nitrateAvg.toFixed(2)} mg/L`,values:"EPA limit exceeded (>10 mg/L)",impact:"Drinking water unsafe, infant health risks, environmental degradation",causes:"Agricultural pollution peak or water treatment failure"}),h.ecoliAvg>1e3&&s.push({type:"Health Crisis Alert",icon:"",year:h.year,change:null,description:`Extreme E.coli contamination in ${h.year}: ${h.ecoliAvg.toFixed(0)} CFU/100mL`,values:"Swimming ban threshold exceeded (>1000 CFU/100mL)",impact:"Public health emergency, all water activities prohibited",causes:"Major sewage incident or catastrophic system failure"})});const l=s.filter((r,c,h)=>c===h.findIndex(f=>f.year===r.year&&f.type===r.type)).sort((r,c)=>parseInt(c.year)-parseInt(r.year));return l.length===0?b.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4"},b.createElement("p",{className:"text-green-800 font-medium"}," No major environmental crises detected in specific years.")):b.createElement("div",{className:"space-y-4"},l.map((r,c)=>b.createElement("div",{key:c,className:"bg-white border border-red-200 rounded-lg p-5 shadow-sm"},b.createElement("h4",{className:"font-bold text-red-800 mb-2 flex items-center"},b.createElement("span",{className:"text-xl mr-2"},r.icon),r.type," - ",r.year,r.change&&b.createElement("span",{className:"ml-2 px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full"},"+",r.change.toFixed(1),"%")),b.createElement("p",{className:"text-gray-700 mb-2 font-medium"},r.description),b.createElement("p",{className:"text-sm text-blue-700 mb-2"},b.createElement("strong",null,"Values:")," ",r.values),b.createElement("div",{className:"text-sm space-y-1"},b.createElement("p",null,b.createElement("strong",{className:"text-red-700"},"Environmental Impact:")," ",r.impact),b.createElement("p",null,b.createElement("strong",{className:"text-orange-700"},"Likely Causes:")," ",r.causes)))))})()),b.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-xl p-6 border-l-4 border-blue-500"},b.createElement("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center"},b.createElement("span",{className:"text-2xl mr-2"},""),"Detailed Trend Analysis (",n.yearlyAverages[0].year,"-",n.yearlyAverages[n.yearlyAverages.length-1].year,")"),(()=>{const t=n.yearlyAverages,s=t[0],l=t[t.length-1],r=s.chlorophyllAvg>0?(l.chlorophyllAvg-s.chlorophyllAvg)/s.chlorophyllAvg*100:0,c=s.nitrateAvg>0?(l.nitrateAvg-s.nitrateAvg)/s.nitrateAvg*100:0,h=s.ecoliAvg>0?(l.ecoliAvg-s.ecoliAvg)/s.ecoliAvg*100:0,f=p=>Math.abs(p)<5?"":p>0?"":"",m=(p,y=!1)=>{if(Math.abs(p)<5)return"text-yellow-700 bg-yellow-50 border-yellow-200";const _=p>0;return y?_?"text-red-700 bg-red-50 border-red-200":"text-green-700 bg-green-50 border-green-200":_?"text-green-700 bg-green-50 border-green-200":"text-red-700 bg-red-50 border-red-200"};return b.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},b.createElement("div",{className:`rounded-lg p-4 border-2 ${m(r,!0)}`},b.createElement("h4",{className:"font-semibold mb-2 flex items-center"},b.createElement("span",{className:"mr-2"},f(r)),"Chlorophyll-a"),b.createElement("p",{className:"text-sm"},Math.abs(r).toFixed(1),"% change",b.createElement("br",null),s.chlorophyllAvg.toFixed(2),"  ",l.chlorophyllAvg.toFixed(2)," g/L")),b.createElement("div",{className:`rounded-lg p-4 border-2 ${m(c,!0)}`},b.createElement("h4",{className:"font-semibold mb-2 flex items-center"},b.createElement("span",{className:"mr-2"},f(c)),"Nitrate"),b.createElement("p",{className:"text-sm"},Math.abs(c).toFixed(1),"% change",b.createElement("br",null),s.nitrateAvg.toFixed(2),"  ",l.nitrateAvg.toFixed(2)," mg/L")),b.createElement("div",{className:`rounded-lg p-4 border-2 ${m(h,!0)}`},b.createElement("h4",{className:"font-semibold mb-2 flex items-center"},b.createElement("span",{className:"mr-2"},f(h)),"E.coli"),b.createElement("p",{className:"text-sm"},Math.abs(h).toFixed(1),"% change",b.createElement("br",null),s.ecoliAvg.toFixed(0),"  ",l.ecoliAvg.toFixed(0)," CFU/100mL")))})()))),hN=()=>{};var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee=function(n,e){if(!n)throw Oa(e)},Oa=function(n){return new Error("Firebase Database ("+Kv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},fN=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const l=n[t++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const r=n[t++];e[s++]=String.fromCharCode((l&31)<<6|r&63)}else if(l>239&&l<365){const r=n[t++],c=n[t++],h=n[t++],f=((l&7)<<18|(r&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const r=n[t++],c=n[t++];e[s++]=String.fromCharCode((l&15)<<12|(r&63)<<6|c&63)}}return e.join("")},Xd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const r=n[l],c=l+1<n.length,h=c?n[l+1]:0,f=l+2<n.length,m=f?n[l+2]:0,p=r>>2,y=(r&3)<<4|h>>4;let _=(h&15)<<2|m>>6,x=m&63;f||(x=64,c||(_=64)),s.push(t[p],t[y],t[_],t[x])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Xv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const r=t[n.charAt(l++)],h=l<n.length?t[n.charAt(l)]:0;++l;const m=l<n.length?t[n.charAt(l)]:64;++l;const y=l<n.length?t[n.charAt(l)]:64;if(++l,r==null||h==null||m==null||y==null)throw new dN;const _=r<<2|h>>4;if(s.push(_),m!==64){const x=h<<4&240|m>>2;if(s.push(x),y!==64){const S=m<<6&192|y;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qv=function(n){const e=Xv(n);return Xd.encodeByteArray(e,!0)},Ac=function(n){return Qv(n).replace(/\./g,"")},ud=function(n){try{return Xd.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(n){return Zv(void 0,n)}function Zv(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!gN(t)||(n[t]=Zv(n[t],e[t]));return n}function gN(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=()=>pN().__FIREBASE_DEFAULTS__,_N=()=>{if(typeof process>"u"||typeof Z_>"u")return;const n=Z_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ud(n[1]);return e&&JSON.parse(e)},$v=()=>{try{return hN()||yN()||_N()||bN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vN=n=>{var e,t;return(t=(e=$v())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},xN=n=>{const e=vN(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Jv=()=>{var n;return(n=$v())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EN(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",l=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ac(JSON.stringify(t)),Ac(JSON.stringify(c)),""].join(".")}const Ql={};function wN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?n.emulator.push(e):n.prod.push(e);return n}function CN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let $_=!1;function TN(n,e){if(typeof window>"u"||typeof document>"u"||!Zd(window.location.host)||Ql[n]===e||Ql[n]||$_)return;Ql[n]=e;function t(_){return`__firebase__banner__${_}`}const s="__firebase__banner",r=wN().prod.length>0;function c(){const _=document.getElementById(s);_&&_.remove()}function h(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{$_=!0,c()},_}function p(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=CN(s),x=t("text"),S=document.getElementById(x)||document.createElement("span"),w=t("learnmore"),T=document.getElementById(w)||document.createElement("a"),R=t("preprendIcon"),B=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const U=_.element;h(U),p(T,w);const Y=m();f(B,R),U.append(B,S,T,Y),document.body.appendChild(U)}r?(S.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ex(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(AN())}function NN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MN(){return Kv.NODE_ADMIN===!0}function DN(){try{return typeof indexedDB=="object"}catch{return!1}}function ON(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{var r;e(((r=l.error)==null?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="FirebaseError";class So extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=RN,Object.setPrototypeOf(this,So.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tx.prototype.create)}}class tx{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},l=`${this.service}/${e}`,r=this.errors[e],c=r?kN(r,s):"Error",h=`${this.serviceName}: ${c} (${l}).`;return new So(l,h,s)}}function kN(n,e){return n.replace(LN,(t,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const LN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(n){return JSON.parse(n)}function lt(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=function(n){let e={},t={},s={},l="";try{const r=n.split(".");e=uo(ud(r[0])||""),t=uo(ud(r[1])||""),l=r[2],s=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:s,signature:l}},zN=function(n){const e=nx(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},IN=function(n){const e=nx(n).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ta(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function J_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Nc(n,e,t){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=e.call(t,n[l],l,n));return s}function Mc(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const l of t){if(!s.includes(l))return!1;const r=n[l],c=e[l];if(eb(r)&&eb(c)){if(!Mc(r,c))return!1}else if(r!==c)return!1}for(const l of s)if(!t.includes(l))return!1;return!0}function eb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let y=0;y<16;y++)s[y]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let y=16;y<80;y++){const _=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(_<<1|_>>>31)&4294967295}let l=this.chain_[0],r=this.chain_[1],c=this.chain_[2],h=this.chain_[3],f=this.chain_[4],m,p;for(let y=0;y<80;y++){y<40?y<20?(m=h^r&(c^h),p=1518500249):(m=r^c^h,p=1859775393):y<60?(m=r&c|h&(r|c),p=2400959708):(m=r^c^h,p=3395469782);const _=(l<<5|l>>>27)+m+f+p+s[y]&4294967295;f=h,h=c,c=(r<<30|r>>>2)&4294967295,r=l,l=_}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const s=t-this.blockSize;let l=0;const r=this.buf_;let c=this.inbuf_;for(;l<t;){if(c===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<t;)if(r[c]=e.charCodeAt(l),++c,++l,c===this.blockSize){this.compress_(r),c=0;break}}else for(;l<t;)if(r[c]=e[l],++c,++l,c===this.blockSize){this.compress_(r),c=0;break}}this.inbuf_=c,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=t&255,t/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let r=24;r>=0;r-=8)e[s]=this.chain_[l]>>r&255,++s;return e}}function ix(n,e){return`${n} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const r=l-55296;s++,ee(s<n.length,"Surrogate pair missing trail surrogate.");const c=n.charCodeAt(s)-56320;l=65536+(r<<10)+c}l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):l<65536?(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},Jc=function(n){let e=0;for(let t=0;t<n.length;t++){const s=n.charCodeAt(t);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(n){return n&&n._delegate?n._delegate:n}class ho{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Qd;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VN(e))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:l});s.resolve(r)}catch{}}}}clearInstance(e=ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ms){return this.instances.has(e)}getOptions(e=ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[r,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(r);s===h&&c.resolve(l)}return l}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const r=this.instances.get(s);return r&&e(r,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const l of s)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FN(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ms){return this.component?this.component.multipleInstances?e:ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FN(n){return n===ms?void 0:n}function VN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new UN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const YN={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},qN=Fe.INFO,GN={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},WN=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),l=GN[e];if(l)console[l](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sx{constructor(e){this.name=e,this._logLevel=qN,this._logHandler=WN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const KN=(n,e)=>e.some(t=>n instanceof t);let tb,nb;function XN(){return tb||(tb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QN(){return nb||(nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ax=new WeakMap,hd=new WeakMap,lx=new WeakMap,Vf=new WeakMap,$d=new WeakMap;function ZN(n){const e=new Promise((t,s)=>{const l=()=>{n.removeEventListener("success",r),n.removeEventListener("error",c)},r=()=>{t(ki(n.result)),l()},c=()=>{s(n.error),l()};n.addEventListener("success",r),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ax.set(t,n)}).catch(()=>{}),$d.set(e,n),e}function $N(n){if(hd.has(n))return;const e=new Promise((t,s)=>{const l=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",c),n.removeEventListener("abort",c)},r=()=>{t(),l()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",r),n.addEventListener("error",c),n.addEventListener("abort",c)});hd.set(n,e)}let fd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||lx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JN(n){fd=n(fd)}function eM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(jf(this),e,...t);return lx.set(s,e.sort?e.sort():[e]),ki(s)}:QN().includes(n)?function(...e){return n.apply(jf(this),e),ki(ax.get(this))}:function(...e){return ki(n.apply(jf(this),e))}}function tM(n){return typeof n=="function"?eM(n):(n instanceof IDBTransaction&&$N(n),KN(n,XN())?new Proxy(n,fd):n)}function ki(n){if(n instanceof IDBRequest)return ZN(n);if(Vf.has(n))return Vf.get(n);const e=tM(n);return e!==n&&(Vf.set(n,e),$d.set(e,n)),e}const jf=n=>$d.get(n);function nM(n,e,{blocked:t,upgrade:s,blocking:l,terminated:r}={}){const c=indexedDB.open(n,e),h=ki(c);return s&&c.addEventListener("upgradeneeded",f=>{s(ki(c.result),f.oldVersion,f.newVersion,ki(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{r&&f.addEventListener("close",()=>r()),l&&f.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const iM=["get","getKey","getAll","getAllKeys","count"],sM=["put","add","delete","clear"],Yf=new Map;function ib(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yf.get(e))return Yf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,l=sM.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(l||iM.includes(t)))return;const r=async function(c,...h){const f=this.transaction(c,l?"readwrite":"readonly");let m=f.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),l&&f.done]))[0]};return Yf.set(e,r),r}JN(n=>({...n,get:(e,t,s)=>ib(e,t)||n.get(e,t,s),has:(e,t)=>!!ib(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lM(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function lM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dd="@firebase/app",sb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new sx("@firebase/app"),oM="@firebase/app-compat",rM="@firebase/analytics-compat",cM="@firebase/analytics",uM="@firebase/app-check-compat",hM="@firebase/app-check",fM="@firebase/auth",dM="@firebase/auth-compat",mM="@firebase/database",gM="@firebase/data-connect",pM="@firebase/database-compat",yM="@firebase/functions",_M="@firebase/functions-compat",bM="@firebase/installations",vM="@firebase/installations-compat",xM="@firebase/messaging",EM="@firebase/messaging-compat",SM="@firebase/performance",wM="@firebase/performance-compat",CM="@firebase/remote-config",TM="@firebase/remote-config-compat",AM="@firebase/storage",NM="@firebase/storage-compat",MM="@firebase/firestore",DM="@firebase/ai",OM="@firebase/firestore-compat",RM="firebase",kM="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="[DEFAULT]",LM={[dd]:"fire-core",[oM]:"fire-core-compat",[cM]:"fire-analytics",[rM]:"fire-analytics-compat",[hM]:"fire-app-check",[uM]:"fire-app-check-compat",[fM]:"fire-auth",[dM]:"fire-auth-compat",[mM]:"fire-rtdb",[gM]:"fire-data-connect",[pM]:"fire-rtdb-compat",[yM]:"fire-fn",[_M]:"fire-fn-compat",[bM]:"fire-iid",[vM]:"fire-iid-compat",[xM]:"fire-fcm",[EM]:"fire-fcm-compat",[SM]:"fire-perf",[wM]:"fire-perf-compat",[CM]:"fire-rc",[TM]:"fire-rc-compat",[AM]:"fire-gcs",[NM]:"fire-gcs-compat",[MM]:"fire-fst",[OM]:"fire-fst-compat",[DM]:"fire-vertex","fire-js":"fire-js",[RM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new Map,zM=new Map,gd=new Map;function ab(n,e){try{n.container.addComponent(e)}catch(t){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oc(n){const e=n.name;if(gd.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;gd.set(e,n);for(const t of Dc.values())ab(t,n);for(const t of zM.values())ab(t,n);return!0}function IM(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function HM(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new tx("app","Firebase",BM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=kM;function ox(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:md,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Li.create("bad-app-name",{appName:String(l)});if(t||(t=Jv()),!t)throw Li.create("no-options");const r=Dc.get(l);if(r){if(Mc(t,r.options)&&Mc(s,r.config))return r;throw Li.create("duplicate-app",{appName:l})}const c=new jN(l);for(const f of gd.values())c.addComponent(f);const h=new PM(t,s,c);return Dc.set(l,h),h}function FM(n=md){const e=Dc.get(n);if(!e&&n===md&&Jv())return ox();if(!e)throw Li.create("no-app",{appName:n});return e}function ba(n,e,t){let s=LM[n]??n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),r=e.match(/\s|\//);if(l||r){const c=[`Unable to register library "${s}" with version "${e}":`];l&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&r&&c.push("and"),r&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(c.join(" "));return}Oc(new ho(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="firebase-heartbeat-database",jM=1,fo="firebase-heartbeat-store";let qf=null;function rx(){return qf||(qf=nM(VM,jM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fo)}catch(t){console.warn(t)}}}}).catch(n=>{throw Li.create("idb-open",{originalErrorMessage:n.message})})),qf}async function YM(n){try{const t=(await rx()).transaction(fo),s=await t.objectStore(fo).get(cx(n));return await t.done,s}catch(e){if(e instanceof So)Qn.warn(e.message);else{const t=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qn.warn(t.message)}}}async function lb(n,e){try{const s=(await rx()).transaction(fo,"readwrite");await s.objectStore(fo).put(e,cx(n)),await s.done}catch(t){if(t instanceof So)Qn.warn(t.message);else{const s=Li.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Qn.warn(s.message)}}}function cx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=1024,GM=30;class WM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XM(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ob();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(c=>c.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>GM){const c=QM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Qn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ob(),{heartbeatsToSend:s,unsentEntries:l}=KM(this._heartbeatsCache.heartbeats),r=Ac(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Qn.warn(t),""}}}function ob(){return new Date().toISOString().substring(0,10)}function KM(n,e=qM){const t=[];let s=n.slice();for(const l of n){const r=t.find(c=>c.agent===l.agent);if(r){if(r.dates.push(l.date),rb(t)>e){r.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),rb(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class XM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DN()?ON().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rb(n){return Ac(JSON.stringify({version:2,heartbeats:n})).length}function QM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(n){Oc(new ho("platform-logger",e=>new aM(e),"PRIVATE")),Oc(new ho("heartbeat",e=>new WM(e),"PRIVATE")),ba(dd,sb,n),ba(dd,sb,"esm2020"),ba("fire-js","")}ZM("");var $M="firebase",JM="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ba($M,JM,"app");var cb={};const ub="@firebase/database",hb="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ux="";function eD(n){ux=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),lt(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:uo(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Jn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tD(e)}}catch{}return new nD},_s=hx("localStorage"),iD=hx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new sx("@firebase/database"),sD=(function(){let n=1;return function(){return n++}})(),fx=function(n){const e=PN(n),t=new BN;t.update(e);const s=t.digest();return Xd.encodeByteArray(s)},Co=function(...n){let e="";for(let t=0;t<n.length;t++){const s=n[t];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=Co.apply(null,s):typeof s=="object"?e+=lt(s):e+=s,e+=" "}return e};let Zl=null,fb=!0;const aD=function(n,e){ee(!0,"Can't turn on custom loggers persistently."),va.logLevel=Fe.VERBOSE,Zl=va.log.bind(va)},St=function(...n){if(fb===!0&&(fb=!1,Zl===null&&iD.get("logging_enabled")===!0&&aD()),Zl){const e=Co.apply(null,n);Zl(e)}},To=function(n){return function(...e){St(n,...e)}},pd=function(...n){const e="FIREBASE INTERNAL ERROR: "+Co(...n);va.error(e)},Zn=function(...n){const e=`FIREBASE FATAL ERROR: ${Co(...n)}`;throw va.error(e),new Error(e)},Kt=function(...n){const e="FIREBASE WARNING: "+Co(...n);va.warn(e)},lD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dx=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},oD=function(n){if(document.readyState==="complete")n();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Aa="[MIN_NAME]",Es="[MAX_NAME]",Ra=function(n,e){if(n===e)return 0;if(n===Aa||e===Es)return-1;if(e===Aa||n===Es)return 1;{const t=db(n),s=db(e);return t!==null?s!==null?t-s===0?n.length-e.length:t-s:-1:s!==null?1:n<e?-1:1}},rD=function(n,e){return n===e?0:n<e?-1:1},Hl=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+lt(e))},Jd=function(n){if(typeof n!="object"||n===null)return lt(n);const e=[];for(const s in n)e.push(s);e.sort();let t="{";for(let s=0;s<e.length;s++)s!==0&&(t+=","),t+=lt(e[s]),t+=":",t+=Jd(n[e[s]]);return t+="}",t},mx=function(n,e){const t=n.length;if(t<=e)return[n];const s=[];for(let l=0;l<t;l+=e)l+e>t?s.push(n.substring(l,t)):s.push(n.substring(l,l+e));return s};function zt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const gx=function(n){ee(!dx(n),"Invalid JSON number");const e=11,t=52,s=(1<<e-1)-1;let l,r,c,h,f;n===0?(r=0,c=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),r=h+s,c=Math.round(n*Math.pow(2,t-h)-Math.pow(2,t))):(r=0,c=Math.round(n/Math.pow(2,1-s-t))));const m=[];for(f=t;f;f-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(f=e;f;f-=1)m.push(r%2?1:0),r=Math.floor(r/2);m.push(l?1:0),m.reverse();const p=m.join("");let y="";for(f=0;f<64;f+=8){let _=parseInt(p.substr(f,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},cD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function hD(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");const s=new Error(n+" at "+e._path.toString()+": "+t);return s.code=n.toUpperCase(),s}const fD=new RegExp("^-?(0*)\\d{1,10}$"),dD=-2147483648,mD=2147483647,db=function(n){if(fD.test(n)){const e=Number(n);if(e>=dD&&e<=mD)return e}return null},Ao=function(n){try{n()}catch(e){setTimeout(()=>{const t=e.stack||"";throw Kt("Exception was thrown by user callback.",t),e},Math.floor(0))}},gD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$l=function(n,e){const t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,HM(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)==null||t.get().then(s=>s.addTokenListener(e))}notifyForInvalidToken(){Kt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t,s){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(St("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,s):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kt(e)}}class pc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}pc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="5",px="v",yx="s",_x="r",bx="f",vx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xx="ls",Ex="p",yd="ac",Sx="websocket",wx="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t,s,l,r=!1,c="",h=!1,f=!1,m=null){this.secure=t,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=r,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=f,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_s.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_s.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function _D(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function Tx(n,e,t){ee(typeof e=="string","typeof type must == string"),ee(typeof t=="object","typeof params must == object");let s;if(e===Sx)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===wx)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);_D(n)&&(t.ns=n.namespace);const l=[];return zt(t,(r,c)=>{l.push(r+"="+c)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.counters_={}}incrementCounter(e,t=1){Jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return mN(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf={},Wf={};function tm(n){const e=n.toString();return Gf[e]||(Gf[e]=new bD),Gf[e]}function vD(n,e){const t=n.toString();return Wf[t]||(Wf[t]=e()),Wf[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Ao(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="start",ED="close",SD="pLPCommand",wD="pRTLPCB",Ax="id",Nx="pw",Mx="ser",CD="cb",TD="seg",AD="ts",ND="d",MD="dframe",Dx=1870,Ox=30,DD=Dx-Ox,OD=25e3,RD=3e4;class ga{constructor(e,t,s,l,r,c,h){this.connId=e,this.repoInfo=t,this.applicationId=s,this.appCheckToken=l,this.authToken=r,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=To(e),this.stats_=tm(t),this.urlFn=f=>(this.appCheckToken&&(f[yd]=this.appCheckToken),Tx(t,wx,f))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(RD)),oD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nm((...r)=>{const[c,h,f,m,p]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===mb)this.id=h,this.password=f;else if(c===ED)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...r)=>{const[c,h]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[mb]="t",s[Mx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[CD]=this.scriptTagHolder.uniqueCallbackIdentifier),s[px]=em,this.transportSessionId&&(s[yx]=this.transportSessionId),this.lastSessionId&&(s[xx]=this.lastSessionId),this.applicationId&&(s[Ex]=this.applicationId),this.appCheckToken&&(s[yd]=this.appCheckToken),typeof location<"u"&&location.hostname&&vx.test(location.hostname)&&(s[_x]=bx);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ga.forceAllow_=!0}static forceDisallow(){ga.forceDisallow_=!0}static isAvailable(){return ga.forceAllow_?!0:!ga.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!cD()&&!uD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=lt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=Qv(t),l=mx(s,DD);for(let r=0;r<l.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const s={};s[MD]="t",s[Ax]=e,s[Nx]=t,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=lt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class nm{constructor(e,t,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=sD(),window[SD+this.uniqueCallbackIdentifier]=e,window[wD+this.uniqueCallbackIdentifier]=t,this.myIFrame=nm.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){St("frame writing exception"),h.stack&&St(h.stack),St(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||St("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ax]=this.myID,e[Nx]=this.myPW,e[Mx]=this.currentSerial;let t=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Ox+s.length<=Dx;){const c=this.pendingSegs.shift();s=s+"&"+TD+l+"="+c.seg+"&"+AD+l+"="+c.ts+"&"+ND+l+"="+c.d,l++}return t=t+s,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,s){this.pendingSegs.push({seg:e,ts:t,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const s=()=>{this.outstandingRequests.delete(t),this.newRequest_()},l=setTimeout(s,Math.floor(OD)),r=()=>{clearTimeout(l),s()};this.addTag(e,r)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),t())},s.onerror=()=>{St("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=16384,LD=45e3;let Rc=null;typeof MozWebSocket<"u"?Rc=MozWebSocket:typeof WebSocket<"u"&&(Rc=WebSocket);class hn{constructor(e,t,s,l,r,c,h){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=To(this.connId),this.stats_=tm(t),this.connURL=hn.connectionURL_(t,c,h,l,s),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,s,l,r){const c={};return c[px]=em,typeof location<"u"&&location.hostname&&vx.test(location.hostname)&&(c[_x]=bx),t&&(c[yx]=t),s&&(c[xx]=s),l&&(c[yd]=l),r&&(c[Ex]=r),Tx(e,Sx,c)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_s.set("previous_websocket_failure",!0);try{let s;MN(),this.mySock=new Rc(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){hn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(t);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&Rc!==null&&!hn.forceDisallow_}static previouslyFailed(){return _s.isInMemoryStorage||_s.get("previous_websocket_failure")===!0}markConnectionHealthy(){_s.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const s=uo(t);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ee(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const s=this.extractFrameCount_(t);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const t=lt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const s=mx(t,kD);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(LD))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hn.responsesRequiredToBeHealthy=2;hn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static get ALL_TRANSPORTS(){return[ga,hn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=hn&&hn.isAvailable();let s=t&&!hn.previouslyFailed();if(e.webSocketOnly&&(t||Kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[hn];else{const l=this.transports_=[];for(const r of mo.ALL_TRANSPORTS)r&&r.isAvailable()&&l.push(r);mo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=6e4,ID=5e3,HD=10*1024,BD=100*1024,Kf="t",gb="d",PD="s",pb="r",UD="e",yb="o",_b="a",bb="n",vb="p",FD="h";class VD{constructor(e,t,s,l,r,c,h,f,m,p){this.id=e,this.repoInfo_=t,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=r,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=To("c:"+this.id+":"),this.transportManager_=new mo(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=$l(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>HD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Kf in e){const t=e[Kf];t===_b?this.upgradeIfSecondaryHealthy_():t===pb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===yb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Hl("t",e),s=Hl("d",e);if(t==="c")this.onSecondaryControl_(s);else if(t==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vb,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:_b,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Hl("t",e),s=Hl("d",e);t==="c"?this.onControl_(s):t==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Hl(Kf,e);if(gb in e){const s=e[gb];if(t===FD){const l={...s};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(t===bb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===PD?this.onConnectionShutdown_(s):t===pb?this.onReset_(s):t===UD?pd("Server Error: "+s):t===yb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pd("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),em!==s&&Kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,s),$l(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zD))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$l(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ID))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vb,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_s.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{put(e,t,s,l){}merge(e,t,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,s){}onDisconnectMerge(e,t,s){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.allowedEvents_=e,this.listeners_={},ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,t)}}on(e,t,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:s});const l=this.getInitialEvent(e);l&&t.apply(s,l)}off(e,t,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let r=0;r<l.length;r++)if(l[r].callback===t&&(!s||s===l[r].context)){l.splice(r,1);return}}validateEventType_(e){ee(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends kx{static getInstance(){return new kc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ex()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ee(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=32,Eb=768;class Pe{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function Me(){return new Pe("")}function we(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ui(n){return n.pieces_.length-n.pieceNum_}function Ve(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Pe(n.pieces_,e)}function Lx(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function jD(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function zx(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Ix(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Pe(e,0)}function ot(n,e){const t=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)t.push(n.pieces_[s]);if(e instanceof Pe)for(let s=e.pieceNum_;s<e.pieces_.length;s++)t.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&t.push(s[l])}return new Pe(t,0)}function Ce(n){return n.pieceNum_>=n.pieces_.length}function Tt(n,e){const t=we(n),s=we(e);if(t===null)return e;if(t===s)return Tt(Ve(n),Ve(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function im(n,e){if(Ui(n)!==Ui(e))return!1;for(let t=n.pieceNum_,s=e.pieceNum_;t<=n.pieces_.length;t++,s++)if(n.pieces_[t]!==e.pieces_[s])return!1;return!0}function dn(n,e){let t=n.pieceNum_,s=e.pieceNum_;if(Ui(n)>Ui(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[s])return!1;++t,++s}return!0}class YD{constructor(e,t){this.errorPrefix_=t,this.parts_=zx(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Jc(this.parts_[s]);Hx(this)}}function qD(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Jc(e),Hx(n)}function GD(n){const e=n.parts_.pop();n.byteLength_-=Jc(e),n.parts_.length>0&&(n.byteLength_-=1)}function Hx(n){if(n.byteLength_>Eb)throw new Error(n.errorPrefix_+"has a key path longer than "+Eb+" bytes ("+n.byteLength_+").");if(n.parts_.length>xb)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xb+") or object contains a cycle "+gs(n))}function gs(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends kx{static getInstance(){return new sm}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return ee(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=1e3,WD=300*1e3,Sb=30*1e3,KD=1.3,XD=3e4,QD="server_kill",wb=3;class Xn extends Rx{constructor(e,t,s,l,r,c,h,f){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=r,this.authTokenProvider_=c,this.appCheckTokenProvider_=h,this.authOverride_=f,this.id=Xn.nextPersistentConnectionId_++,this.log_=To("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bl,this.maxReconnectDelay_=WD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&kc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,s){const l=++this.requestNumber_,r={r:l,a:e,b:t};this.log_(lt(r)),ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const t=new Qd,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const h=c.d;c.s==="ok"?t.resolve(h):t.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,s,l){this.initConnection_();const r=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+r),this.listens.has(c)||this.listens.set(c,new Map),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ee(!this.listens.get(c).has(r),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:t,query:e,tag:s};this.listens.get(c).set(r,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(s)})}sendListen_(e){const t=e.query,s=t._path.toString(),l=t._queryIdentifier;this.log_("Listen on "+s+" for "+l);const r={p:s},c="q";e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(c,r,h=>{const f=h.d,m=h.s;Xn.warnOnListenWarnings_(f,t),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(m,f))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Jn(e,"w")){const s=Ta(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+t._queryParams.getIndex().toString()+'"',r=t._path.toString();Kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||IN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Sb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=zN(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(t,s,l=>{const r=l.s,c=l.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,s=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,s)})}unlisten(e,t){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,t)}sendUnlisten_(e,t,s,l){this.log_("Unlisten on "+e+" for "+t);const r={p:e},c="n";l&&(r.q=s,r.t=l),this.sendRequest(c,r)}onDisconnectPut(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:s})}onDisconnectMerge(e,t,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:s})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,s,l){const r={p:t,d:s};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,c=>{l&&setTimeout(()=>{l(c.s,c.d)},Math.floor(0))})}put(e,t,s,l){this.putInternal("p",e,t,s,l)}merge(e,t,s,l){this.putInternal("m",e,t,s,l)}putInternal(e,t,s,l,r){this.initConnection_();const c={p:t,d:s};r!==void 0&&(c.h=r),this.outstandingPuts_.push({action:e,request:c,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,s,r=>{this.log_(t+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(r.s,r.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+lt(e));const t=e.r,s=this.requestCBHash_[t];s&&(delete this.requestCBHash_[t],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):pd("Unrecognized action received from server: "+lt(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XD&&(this.reconnectDelay_=Bl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*KD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Xn.nextConnectionId_++,r=this.lastSessionId;let c=!1,h=null;const f=function(){h?h.close():(c=!0,s())},m=function(y){ee(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(y)};this.realtime_={close:f,sendRequest:m};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);c?St("getToken() completed but was canceled"):(St("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,h=new VD(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,s,x=>{Kt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(QD)},r))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&Kt(y),f())}}}interrupt(e){St("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){St("Resuming connection for reason: "+e),delete this.interruptReasons_[e],J_(this.interruptReasons_)&&(this.reconnectDelay_=Bl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let s;t?s=t.map(r=>Jd(r)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,t){const s=new Pe(e).toString();let l;if(this.listens.has(s)){const r=this.listens.get(s);l=r.get(t),r.delete(t),r.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,t){St("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=wb&&(this.reconnectDelay_=Sb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){St("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=wb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+ux.replace(/\./g,"-")]=1,ex()?e["framework.cordova"]=1:NN()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=kc.getInstance().currentlyOnline();return J_(this.interruptReasons_)&&e}}Xn.nextPersistentConnectionId_=0;Xn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ve(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const s=new ve(Aa,e),l=new ve(Aa,t);return this.compare(s,l)!==0}minPost(){return ve.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc;class Bx extends eu{static get __EMPTY_NODE(){return rc}static set __EMPTY_NODE(e){rc=e}compare(e,t){return Ra(e.name,t.name)}isDefinedOn(e){throw Oa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ve.MIN}maxPost(){return new ve(Es,rc)}makePost(e,t){return ee(typeof e=="string","KeyIndex indexValue must always be a string."),new ve(e,rc)}toString(){return".key"}}const xa=new Bx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t,s,l,r=null){this.isReverse_=l,this.resultGenerator_=r,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?s(e.key,t):1,l&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dt{constructor(e,t,s,l,r){this.key=e,this.value=t,this.color=s??dt.RED,this.left=l??Lt.EMPTY_NODE,this.right=r??Lt.EMPTY_NODE}copy(e,t,s,l,r){return new dt(e??this.key,t??this.value,s??this.color,l??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const r=s(e,l.key);return r<0?l=l.copy(null,null,null,l.left.insert(e,t,s),null):r===0?l=l.copy(null,t,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Lt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let s,l;if(s=this,t(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),t(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dt.RED=!0;dt.BLACK=!1;class ZD{copy(e,t,s,l,r){return this}insert(e,t,s){return new dt(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Lt{constructor(e,t=Lt.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Lt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,dt.BLACK,null,null))}remove(e){return new Lt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dt.BLACK,null,null))}get(e){let t,s=this.root_;for(;!s.isEmpty();){if(t=this.comparator_(e,s.key),t===0)return s.value;t<0?s=s.left:t>0&&(s=s.right)}return null}getPredecessorKey(e){let t,s=this.root_,l=null;for(;!s.isEmpty();)if(t=this.comparator_(e,s.key),t===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else t<0?s=s.left:t>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new cc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new cc(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new cc(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new cc(this.root_,null,this.comparator_,!0,e)}}Lt.EMPTY_NODE=new ZD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(n,e){return Ra(n.name,e.name)}function am(n,e){return Ra(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d;function JD(n){_d=n}const Px=function(n){return typeof n=="number"?"number:"+gx(n):"string:"+n},Ux=function(n){if(n.isLeafNode()){const e=n.val();ee(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Jn(e,".sv"),"Priority must be a string or number.")}else ee(n===_d||n.isEmpty(),"priority of unexpected type.");ee(n===_d||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cb;class ft{static set __childrenNodeConstructor(e){Cb=e}static get __childrenNodeConstructor(){return Cb}constructor(e,t=ft.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ee(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ux(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ft(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ft.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ce(e)?this:we(e)===".priority"?this.priorityNode_:ft.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:ft.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const s=we(e);return s===null?t:t.isEmpty()&&s!==".priority"?this:(ee(s!==".priority"||Ui(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,ft.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ve(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Px(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=gx(this.value_):e+=this.value_,this.lazyHash_=fx(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ft.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ft.__childrenNodeConstructor?-1:(ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,s=typeof this.value_,l=ft.VALUE_TYPE_ORDER.indexOf(t),r=ft.VALUE_TYPE_ORDER.indexOf(s);return ee(l>=0,"Unknown leaf type: "+t),ee(r>=0,"Unknown leaf type: "+s),l===r?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}ft.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fx,Vx;function eO(n){Fx=n}function tO(n){Vx=n}class nO extends eu{compare(e,t){const s=e.node.getPriority(),l=t.node.getPriority(),r=s.compareTo(l);return r===0?Ra(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(Es,new ft("[PRIORITY-POST]",Vx))}makePost(e,t){const s=Fx(e);return new ve(t,new ft("[PRIORITY-POST]",s))}toString(){return".priority"}}const Qe=new nO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=Math.log(2);class sO{constructor(e){const t=r=>parseInt(Math.log(r)/iO,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lc=function(n,e,t,s){n.sort(e);const l=function(f,m){const p=m-f;let y,_;if(p===0)return null;if(p===1)return y=n[f],_=t?t(y):y,new dt(_,y.node,dt.BLACK,null,null);{const x=parseInt(p/2,10)+f,S=l(f,x),w=l(x+1,m);return y=n[x],_=t?t(y):y,new dt(_,y.node,dt.BLACK,S,w)}},r=function(f){let m=null,p=null,y=n.length;const _=function(S,w){const T=y-S,R=y;y-=S;const B=l(T+1,R),U=n[T],Y=t?t(U):U;x(new dt(Y,U.node,w,null,B))},x=function(S){m?(m.left=S,m=S):(p=S,m=S)};for(let S=0;S<f.count;++S){const w=f.nextBitIsOne(),T=Math.pow(2,f.count-(S+1));w?_(T,dt.BLACK):(_(T,dt.BLACK),_(T,dt.RED))}return p},c=new sO(n.length),h=r(c);return new Lt(s||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf;const ma={};class Kn{static get Default(){return ee(ma&&Qe,"ChildrenNode.ts has not been loaded"),Xf=Xf||new Kn({".priority":ma},{".priority":Qe}),Xf}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Ta(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Lt?t:null}hasIndex(e){return Jn(this.indexSet_,e.toString())}addIndex(e,t){ee(e!==xa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const r=t.getIterator(ve.Wrap);let c=r.getNext();for(;c;)l=l||e.isDefinedOn(c.node),s.push(c),c=r.getNext();let h;l?h=Lc(s,e.getCompare()):h=ma;const f=e.toString(),m={...this.indexSet_};m[f]=e;const p={...this.indexes_};return p[f]=h,new Kn(p,m)}addToIndexes(e,t){const s=Nc(this.indexes_,(l,r)=>{const c=Ta(this.indexSet_,r);if(ee(c,"Missing index implementation for "+r),l===ma)if(c.isDefinedOn(e.node)){const h=[],f=t.getIterator(ve.Wrap);let m=f.getNext();for(;m;)m.name!==e.name&&h.push(m),m=f.getNext();return h.push(e),Lc(h,c.getCompare())}else return ma;else{const h=t.get(e.name);let f=l;return h&&(f=f.remove(new ve(e.name,h))),f.insert(e,e.node)}});return new Kn(s,this.indexSet_)}removeFromIndexes(e,t){const s=Nc(this.indexes_,l=>{if(l===ma)return l;{const r=t.get(e.name);return r?l.remove(new ve(e.name,r)):l}});return new Kn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl;class fe{static get EMPTY_NODE(){return Pl||(Pl=new fe(new Lt(am),null,Kn.Default))}constructor(e,t,s){this.children_=e,this.priorityNode_=t,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Ux(this.priorityNode_),this.children_.isEmpty()&&ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pl}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?Pl:t}}getChild(e){const t=we(e);return t===null?this:this.getImmediateChild(t).getChild(Ve(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(ee(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const s=new ve(e,t);let l,r;t.isEmpty()?(l=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(s,this.children_));const c=l.isEmpty()?Pl:this.priorityNode_;return new fe(l,c,r)}}updateChild(e,t){const s=we(e);if(s===null)return t;{ee(we(e)!==".priority"||Ui(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ve(e),t);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let s=0,l=0,r=!0;if(this.forEachChild(Qe,(c,h)=>{t[c]=h.val(e),s++,r&&fe.INTEGER_REGEXP_.test(c)?l=Math.max(l,Number(c)):r=!1}),!e&&r&&l<2*s){const c=[];for(const h in t)c[h]=t[h];return c}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Px(this.getPriority().val())+":"),this.forEachChild(Qe,(t,s)=>{const l=s.hash();l!==""&&(e+=":"+t+":"+l)}),this.lazyHash_=e===""?"":fx(e)}return this.lazyHash_}getPredecessorChildName(e,t,s){const l=this.resolveIndex_(s);if(l){const r=l.getPredecessorKey(new ve(e,t));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ve(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const s=t.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ve(t,this.children_.get(t)):null}forEachChild(e,t){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>t(l.name,l.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,ve.Wrap);let r=l.peek();for(;r!=null&&t.compare(r,e)<0;)l.getNext(),r=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const s=this.resolveIndex_(t);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,ve.Wrap);let r=l.peek();for(;r!=null&&t.compare(r,e)>0;)l.getNext(),r=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===No?-1:0}withIndex(e){if(e===xa||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===xa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const s=this.getIterator(Qe),l=t.getIterator(Qe);let r=s.getNext(),c=l.getNext();for(;r&&c;){if(r.name!==c.name||!r.node.equals(c.node))return!1;r=s.getNext(),c=l.getNext()}return r===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===xa?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aO extends fe{constructor(){super(new Lt(am),fe.EMPTY_NODE,Kn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const No=new aO;Object.defineProperties(ve,{MIN:{value:new ve(Aa,fe.EMPTY_NODE)},MAX:{value:new ve(Es,No)}});Bx.__EMPTY_NODE=fe.EMPTY_NODE;ft.__childrenNodeConstructor=fe;JD(No);tO(No);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=!0;function _t(n,e=null){if(n===null)return fe.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),ee(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const t=n;return new ft(t,_t(e))}if(!(n instanceof Array)&&lO){const t=[];let s=!1;if(zt(n,(c,h)=>{if(c.substring(0,1)!=="."){const f=_t(h);f.isEmpty()||(s=s||!f.getPriority().isEmpty(),t.push(new ve(c,f)))}}),t.length===0)return fe.EMPTY_NODE;const r=Lc(t,$D,c=>c.name,am);if(s){const c=Lc(t,Qe.getCompare());return new fe(r,_t(e),new Kn({".priority":c},{".priority":Qe}))}else return new fe(r,_t(e),Kn.Default)}else{let t=fe.EMPTY_NODE;return zt(n,(s,l)=>{if(Jn(n,s)&&s.substring(0,1)!=="."){const r=_t(l);(r.isLeafNode()||!r.isEmpty())&&(t=t.updateImmediateChild(s,r))}}),t.updatePriority(_t(e))}}eO(_t);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO extends eu{constructor(e){super(),this.indexPath_=e,ee(!Ce(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const s=this.extractChild(e.node),l=this.extractChild(t.node),r=s.compareTo(l);return r===0?Ra(e.name,t.name):r}makePost(e,t){const s=_t(e),l=fe.EMPTY_NODE.updateChild(this.indexPath_,s);return new ve(t,l)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,No);return new ve(Es,e)}toString(){return zx(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO extends eu{compare(e,t){const s=e.node.compareTo(t.node);return s===0?Ra(e.name,t.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(e,t){const s=_t(e);return new ve(t,s)}toString(){return".value"}}const cO=new rO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(n){return{type:"value",snapshotNode:n}}function Na(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function go(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function po(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function uO(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.index_=e}updateChild(e,t,s,l,r,c){ee(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(t)?c.trackChildChange(go(t,h)):ee(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Na(t,s)):c.trackChildChange(po(t,s,h))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(t,s).withIndex(this.index_)}updateFullNode(e,t,s){return s!=null&&(e.isLeafNode()||e.forEachChild(Qe,(l,r)=>{t.hasChild(l)||s.trackChildChange(go(l,r))}),t.isLeafNode()||t.forEachChild(Qe,(l,r)=>{if(e.hasChild(l)){const c=e.getImmediateChild(l);c.equals(r)||s.trackChildChange(po(l,r,c))}else s.trackChildChange(Na(l,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?fe.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.indexedFilter_=new lm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=yo.getStartPost_(e),this.endPost_=yo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&s}updateChild(e,t,s,l,r,c){return this.matches(new ve(t,s))||(s=fe.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,s,l,r,c)}updateFullNode(e,t,s){t.isLeafNode()&&(t=fe.EMPTY_NODE);let l=t.withIndex(this.index_);l=l.updatePriority(fe.EMPTY_NODE);const r=this;return t.forEachChild(Qe,(c,h)=>{r.matches(new ve(c,h))||(l=l.updateImmediateChild(c,fe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=t=>{const s=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new yo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,s,l,r,c){return this.rangedFilter_.matches(new ve(t,s))||(s=fe.EMPTY_NODE),e.getImmediateChild(t).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,s,l,r,c):this.fullLimitUpdateChild_(e,t,s,r,c)}updateFullNode(e,t,s){let l;if(t.isLeafNode()||t.isEmpty())l=fe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){l=fe.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;r.hasNext()&&c<this.limit_;){const h=r.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),c++;else break;else continue}}else{l=t.withIndex(this.index_),l=l.updatePriority(fe.EMPTY_NODE);let r;this.reverse_?r=l.getReverseIterator(this.index_):r=l.getIterator(this.index_);let c=0;for(;r.hasNext();){const h=r.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:l=l.updateImmediateChild(h.name,fe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,s,l,r){let c;if(this.reverse_){const y=this.index_.getCompare();c=(_,x)=>y(x,_)}else c=this.index_.getCompare();const h=e;ee(h.numChildren()===this.limit_,"");const f=new ve(t,s),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),p=this.rangedFilter_.matches(f);if(h.hasChild(t)){const y=h.getImmediateChild(t);let _=l.getChildAfterChild(this.index_,m,this.reverse_);for(;_!=null&&(_.name===t||h.hasChild(_.name));)_=l.getChildAfterChild(this.index_,_,this.reverse_);const x=_==null?1:c(_,f);if(p&&!s.isEmpty()&&x>=0)return r!=null&&r.trackChildChange(po(t,s,y)),h.updateImmediateChild(t,s);{r!=null&&r.trackChildChange(go(t,y));const w=h.updateImmediateChild(t,fe.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(r!=null&&r.trackChildChange(Na(_.name,_.node)),w.updateImmediateChild(_.name,_.node)):w}}else return s.isEmpty()?e:p&&c(m,f)>=0?(r!=null&&(r.trackChildChange(go(m.name,m.node)),r.trackChildChange(Na(t,s))),h.updateImmediateChild(t,s).updateImmediateChild(m.name,fe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Aa}hasEnd(){return this.endSet_}getIndexEndValue(){return ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Es}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qe}copy(){const e=new om;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function fO(n){return n.loadsAllData()?new lm(n.getIndex()):n.hasLimit()?new hO(n):new yo(n)}function Tb(n){const e={};if(n.isDefault())return e;let t;if(n.index_===Qe?t="$priority":n.index_===cO?t="$value":n.index_===xa?t="$key":(ee(n.index_ instanceof oO,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=lt(t),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";e[s]=lt(n.indexStartValue_),n.startNameSet_&&(e[s]+=","+lt(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";e[s]=lt(n.indexEndValue_),n.endNameSet_&&(e[s]+=","+lt(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Ab(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==Qe&&(e.i=n.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends Rx{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=To("p:rest:"),this.listens_={}}listen(e,t,s,l){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const c=zc.getListenId_(e,s),h={};this.listens_[c]=h;const f=Tb(e._queryParams);this.restRequest_(r+".json",f,(m,p)=>{let y=p;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(r,y,!1,s),Ta(this.listens_,c)===h){let _;m?m===401?_="permission_denied":_="rest_error:"+m:_="ok",l(_,null)}})}unlisten(e,t){const s=zc.getListenId_(e,t);delete this.listens_[s]}get(e){const t=Tb(e._queryParams),s=e._path.toString(),l=new Qd;return this.restRequest_(s+".json",t,(r,c)=>{let h=c;r===404&&(h=null,r=null),r===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(e){}restRequest_(e,t={},s){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,r])=>{l&&l.accessToken&&(t.auth=l.accessToken),r&&r.token&&(t.ac=r.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+HN(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let f=null;if(h.status>=200&&h.status<300){try{f=uo(h.responseText)}catch{Kt("Failed to parse JSON response for "+c+": "+h.responseText)}s(null,f)}else h.status!==401&&h.status!==404&&Kt("Got unsuccessful REST response for "+c+" Status: "+h.status),s(h.status);s=null}},h.open("GET",c,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(){return{value:null,children:new Map}}function Yx(n,e,t){if(Ce(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{const s=we(e);n.children.has(s)||n.children.set(s,Ic());const l=n.children.get(s);e=Ve(e),Yx(l,e,t)}}function bd(n,e,t){n.value!==null?t(e,n.value):mO(n,(s,l)=>{const r=new Pe(e.toString()+"/"+s);bd(l,r,t)})}function mO(n,e){n.children.forEach((t,s)=>{e(s,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&zt(this.last_,(s,l)=>{t[s]=t[s]-l}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=10*1e3,pO=30*1e3,yO=300*1e3;class _O{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new gO(e);const s=Nb+(pO-Nb)*Math.random();$l(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),t={};let s=!1;zt(e,(l,r)=>{r>0&&Jn(this.statsToReport_,l)&&(t[l]=r,s=!0)}),s&&this.server_.reportStats(t),$l(this.reportStats_.bind(this),Math.floor(Math.random()*2*yO))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mn||(mn={}));function qx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function rm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cm(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t,s){this.path=e,this.affectedTree=t,this.revert=s,this.type=mn.ACK_USER_WRITE,this.source=qx()}operationForChild(e){if(Ce(this.path)){if(this.affectedTree.value!=null)return ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Pe(e));return new Hc(Me(),t,this.revert)}}else return ee(we(this.path)===e,"operationForChild called for unrelated child."),new Hc(Ve(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t){this.source=e,this.path=t,this.type=mn.LISTEN_COMPLETE}operationForChild(e){return Ce(this.path)?new _o(this.source,Me()):new _o(this.source,Ve(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t,s){this.source=e,this.path=t,this.snap=s,this.type=mn.OVERWRITE}operationForChild(e){return Ce(this.path)?new Ss(this.source,Me(),this.snap.getImmediateChild(e)):new Ss(this.source,Ve(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t,s){this.source=e,this.path=t,this.children=s,this.type=mn.MERGE}operationForChild(e){if(Ce(this.path)){const t=this.children.subtree(new Pe(e));return t.isEmpty()?null:t.value?new Ss(this.source,Me(),t.value):new bo(this.source,Me(),t)}else return ee(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bo(this.source,Ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t,s){this.node_=e,this.fullyInitialized_=t,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;const t=we(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function vO(n,e,t,s){const l=[],r=[];return e.forEach(c=>{c.type==="child_changed"&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&r.push(uO(c.childName,c.snapshotNode))}),Ul(n,l,"child_removed",e,s,t),Ul(n,l,"child_added",e,s,t),Ul(n,l,"child_moved",r,s,t),Ul(n,l,"child_changed",e,s,t),Ul(n,l,"value",e,s,t),l}function Ul(n,e,t,s,l,r){const c=s.filter(h=>h.type===t);c.sort((h,f)=>EO(n,h,f)),c.forEach(h=>{const f=xO(n,h,r);l.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(f,n.query_))})})}function xO(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function EO(n,e,t){if(e.childName==null||t.childName==null)throw Oa("Should only compare child_ events.");const s=new ve(e.childName,e.snapshotNode),l=new ve(t.childName,t.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(n,e){return{eventCache:n,serverCache:e}}function Jl(n,e,t,s){return tu(new Fi(e,t,s),n.serverCache)}function Gx(n,e,t,s){return tu(n.eventCache,new Fi(e,t,s))}function Bc(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ws(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf;const SO=()=>(Qf||(Qf=new Lt(rD)),Qf);class Ye{static fromObject(e){let t=new Ye(null);return zt(e,(s,l)=>{t=t.set(new Pe(s),l)}),t}constructor(e,t=SO()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Me(),value:this.value};if(Ce(e))return null;{const s=we(e),l=this.children.get(s);if(l!==null){const r=l.findRootMostMatchingPathAndValue(Ve(e),t);return r!=null?{path:ot(new Pe(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ce(e))return this;{const t=we(e),s=this.children.get(t);return s!==null?s.subtree(Ve(e)):new Ye(null)}}set(e,t){if(Ce(e))return new Ye(t,this.children);{const s=we(e),r=(this.children.get(s)||new Ye(null)).set(Ve(e),t),c=this.children.insert(s,r);return new Ye(this.value,c)}}remove(e){if(Ce(e))return this.children.isEmpty()?new Ye(null):new Ye(null,this.children);{const t=we(e),s=this.children.get(t);if(s){const l=s.remove(Ve(e));let r;return l.isEmpty()?r=this.children.remove(t):r=this.children.insert(t,l),this.value===null&&r.isEmpty()?new Ye(null):new Ye(this.value,r)}else return this}}get(e){if(Ce(e))return this.value;{const t=we(e),s=this.children.get(t);return s?s.get(Ve(e)):null}}setTree(e,t){if(Ce(e))return t;{const s=we(e),r=(this.children.get(s)||new Ye(null)).setTree(Ve(e),t);let c;return r.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,r),new Ye(this.value,c)}}fold(e){return this.fold_(Me(),e)}fold_(e,t){const s={};return this.children.inorderTraversal((l,r)=>{s[l]=r.fold_(ot(e,l),t)}),t(e,this.value,s)}findOnPath(e,t){return this.findOnPath_(e,Me(),t)}findOnPath_(e,t,s){const l=this.value?s(t,this.value):!1;if(l)return l;if(Ce(e))return null;{const r=we(e),c=this.children.get(r);return c?c.findOnPath_(Ve(e),ot(t,r),s):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Me(),t)}foreachOnPath_(e,t,s){if(Ce(e))return this;{this.value&&s(t,this.value);const l=we(e),r=this.children.get(l);return r?r.foreachOnPath_(Ve(e),ot(t,l),s):new Ye(null)}}foreach(e){this.foreach_(Me(),e)}foreach_(e,t){this.children.inorderTraversal((s,l)=>{l.foreach_(ot(e,s),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,s)=>{s.value&&e(t,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.writeTree_=e}static empty(){return new pn(new Ye(null))}}function eo(n,e,t){if(Ce(e))return new pn(new Ye(t));{const s=n.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let r=s.value;const c=Tt(l,e);return r=r.updateChild(c,t),new pn(n.writeTree_.set(l,r))}else{const l=new Ye(t),r=n.writeTree_.setTree(e,l);return new pn(r)}}}function Mb(n,e,t){let s=n;return zt(t,(l,r)=>{s=eo(s,ot(e,l),r)}),s}function Db(n,e){if(Ce(e))return pn.empty();{const t=n.writeTree_.setTree(e,new Ye(null));return new pn(t)}}function vd(n,e){return As(n,e)!=null}function As(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Tt(t.path,e)):null}function Ob(n){const e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(Qe,(s,l)=>{e.push(new ve(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new ve(s,l.value))}),e}function zi(n,e){if(Ce(e))return n;{const t=As(n,e);return t!=null?new pn(new Ye(t)):new pn(n.writeTree_.subtree(e))}}function xd(n){return n.writeTree_.isEmpty()}function Ma(n,e){return Wx(Me(),n.writeTree_,e)}function Wx(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let s=null;return e.children.inorderTraversal((l,r)=>{l===".priority"?(ee(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):t=Wx(ot(n,l),r,t)}),!t.getChild(n).isEmpty()&&s!==null&&(t=t.updateChild(ot(n,".priority"),s)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n,e){return Zx(e,n)}function wO(n,e,t,s,l){ee(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:e,snap:t,writeId:s,visible:l}),l&&(n.visibleWrites=eo(n.visibleWrites,e,t)),n.lastWriteId=s}function CO(n,e){for(let t=0;t<n.allWrites.length;t++){const s=n.allWrites[t];if(s.writeId===e)return s}return null}function TO(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);ee(t>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[t];n.allWrites.splice(t,1);let l=s.visible,r=!1,c=n.allWrites.length-1;for(;l&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&AO(h,s.path)?l=!1:dn(s.path,h.path)&&(r=!0)),c--}if(l){if(r)return NO(n),!0;if(s.snap)n.visibleWrites=Db(n.visibleWrites,s.path);else{const h=s.children;zt(h,f=>{n.visibleWrites=Db(n.visibleWrites,ot(s.path,f))})}return!0}else return!1}function AO(n,e){if(n.snap)return dn(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&dn(ot(n.path,t),e))return!0;return!1}function NO(n){n.visibleWrites=Kx(n.allWrites,MO,Me()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function MO(n){return n.visible}function Kx(n,e,t){let s=pn.empty();for(let l=0;l<n.length;++l){const r=n[l];if(e(r)){const c=r.path;let h;if(r.snap)dn(t,c)?(h=Tt(t,c),s=eo(s,h,r.snap)):dn(c,t)&&(h=Tt(c,t),s=eo(s,Me(),r.snap.getChild(h)));else if(r.children){if(dn(t,c))h=Tt(t,c),s=Mb(s,h,r.children);else if(dn(c,t))if(h=Tt(c,t),Ce(h))s=Mb(s,Me(),r.children);else{const f=Ta(r.children,we(h));if(f){const m=f.getChild(Ve(h));s=eo(s,Me(),m)}}}else throw Oa("WriteRecord should have .snap or .children")}}return s}function Xx(n,e,t,s,l){if(!s&&!l){const r=As(n.visibleWrites,e);if(r!=null)return r;{const c=zi(n.visibleWrites,e);if(xd(c))return t;if(t==null&&!vd(c,Me()))return null;{const h=t||fe.EMPTY_NODE;return Ma(c,h)}}}else{const r=zi(n.visibleWrites,e);if(!l&&xd(r))return t;if(!l&&t==null&&!vd(r,Me()))return null;{const c=function(m){return(m.visible||l)&&(!s||!~s.indexOf(m.writeId))&&(dn(m.path,e)||dn(e,m.path))},h=Kx(n.allWrites,c,e),f=t||fe.EMPTY_NODE;return Ma(h,f)}}}function DO(n,e,t){let s=fe.EMPTY_NODE;const l=As(n.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Qe,(r,c)=>{s=s.updateImmediateChild(r,c)}),s;if(t){const r=zi(n.visibleWrites,e);return t.forEachChild(Qe,(c,h)=>{const f=Ma(zi(r,new Pe(c)),h);s=s.updateImmediateChild(c,f)}),Ob(r).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const r=zi(n.visibleWrites,e);return Ob(r).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function OO(n,e,t,s,l){ee(s||l,"Either existingEventSnap or existingServerSnap must exist");const r=ot(e,t);if(vd(n.visibleWrites,r))return null;{const c=zi(n.visibleWrites,r);return xd(c)?l.getChild(t):Ma(c,l.getChild(t))}}function RO(n,e,t,s){const l=ot(e,t),r=As(n.visibleWrites,l);if(r!=null)return r;if(s.isCompleteForChild(t)){const c=zi(n.visibleWrites,l);return Ma(c,s.getNode().getImmediateChild(t))}else return null}function kO(n,e){return As(n.visibleWrites,e)}function LO(n,e,t,s,l,r,c){let h;const f=zi(n.visibleWrites,e),m=As(f,Me());if(m!=null)h=m;else if(t!=null)h=Ma(f,t);else return[];if(h=h.withIndex(c),!h.isEmpty()&&!h.isLeafNode()){const p=[],y=c.getCompare(),_=r?h.getReverseIteratorFrom(s,c):h.getIteratorFrom(s,c);let x=_.getNext();for(;x&&p.length<l;)y(x,s)!==0&&p.push(x),x=_.getNext();return p}else return[]}function zO(){return{visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1}}function Pc(n,e,t,s){return Xx(n.writeTree,n.treePath,e,t,s)}function um(n,e){return DO(n.writeTree,n.treePath,e)}function Rb(n,e,t,s){return OO(n.writeTree,n.treePath,e,t,s)}function Uc(n,e){return kO(n.writeTree,ot(n.treePath,e))}function IO(n,e,t,s,l,r){return LO(n.writeTree,n.treePath,e,t,s,l,r)}function hm(n,e,t){return RO(n.writeTree,n.treePath,e,t)}function Qx(n,e){return Zx(ot(n.treePath,e),n.writeTree)}function Zx(n,e){return{treePath:n,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,s=e.childName;ee(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),ee(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const r=l.type;if(t==="child_added"&&r==="child_removed")this.changeMap.set(s,po(s,e.snapshotNode,l.snapshotNode));else if(t==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(t==="child_removed"&&r==="child_changed")this.changeMap.set(s,go(s,l.oldSnap));else if(t==="child_changed"&&r==="child_added")this.changeMap.set(s,Na(s,e.snapshotNode));else if(t==="child_changed"&&r==="child_changed")this.changeMap.set(s,po(s,e.snapshotNode,l.oldSnap));else throw Oa("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{getCompleteChild(e){return null}getChildAfterChild(e,t,s){return null}}const $x=new BO;class fm{constructor(e,t,s=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=s}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new Fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hm(this.writes_,e,s)}}getChildAfterChild(e,t,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ws(this.viewCache_),r=IO(this.writes_,l,t,1,s,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(n){return{filter:n}}function UO(n,e){ee(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),ee(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function FO(n,e,t,s,l){const r=new HO;let c,h;if(t.type===mn.OVERWRITE){const m=t;m.source.fromUser?c=Ed(n,e,m.path,m.snap,s,l,r):(ee(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!Ce(m.path),c=Fc(n,e,m.path,m.snap,s,l,h,r))}else if(t.type===mn.MERGE){const m=t;m.source.fromUser?c=jO(n,e,m.path,m.children,s,l,r):(ee(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),c=Sd(n,e,m.path,m.children,s,l,h,r))}else if(t.type===mn.ACK_USER_WRITE){const m=t;m.revert?c=GO(n,e,m.path,s,l,r):c=YO(n,e,m.path,m.affectedTree,s,l,r)}else if(t.type===mn.LISTEN_COMPLETE)c=qO(n,e,t.path,s,r);else throw Oa("Unknown operation type: "+t.type);const f=r.getChanges();return VO(e,c,f),{viewCache:c,changes:f}}function VO(n,e,t){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Bc(n);(t.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&t.push(jx(Bc(e)))}}function Jx(n,e,t,s,l,r){const c=e.eventCache;if(Uc(s,t)!=null)return e;{let h,f;if(Ce(t))if(ee(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=ws(e),p=m instanceof fe?m:fe.EMPTY_NODE,y=um(s,p);h=n.filter.updateFullNode(e.eventCache.getNode(),y,r)}else{const m=Pc(s,ws(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,r)}else{const m=we(t);if(m===".priority"){ee(Ui(t)===1,"Can't have a priority with additional path components");const p=c.getNode();f=e.serverCache.getNode();const y=Rb(s,t,p,f);y!=null?h=n.filter.updatePriority(p,y):h=c.getNode()}else{const p=Ve(t);let y;if(c.isCompleteForChild(m)){f=e.serverCache.getNode();const _=Rb(s,t,c.getNode(),f);_!=null?y=c.getNode().getImmediateChild(m).updateChild(p,_):y=c.getNode().getImmediateChild(m)}else y=hm(s,m,e.serverCache);y!=null?h=n.filter.updateChild(c.getNode(),m,y,p,l,r):h=c.getNode()}}return Jl(e,h,c.isFullyInitialized()||Ce(t),n.filter.filtersNodes())}}function Fc(n,e,t,s,l,r,c,h){const f=e.serverCache;let m;const p=c?n.filter:n.filter.getIndexedFilter();if(Ce(t))m=p.updateFullNode(f.getNode(),s,null);else if(p.filtersNodes()&&!f.isFiltered()){const x=f.getNode().updateChild(t,s);m=p.updateFullNode(f.getNode(),x,null)}else{const x=we(t);if(!f.isCompleteForPath(t)&&Ui(t)>1)return e;const S=Ve(t),T=f.getNode().getImmediateChild(x).updateChild(S,s);x===".priority"?m=p.updatePriority(f.getNode(),T):m=p.updateChild(f.getNode(),x,T,S,$x,null)}const y=Gx(e,m,f.isFullyInitialized()||Ce(t),p.filtersNodes()),_=new fm(l,y,r);return Jx(n,y,t,l,_,h)}function Ed(n,e,t,s,l,r,c){const h=e.eventCache;let f,m;const p=new fm(l,e,r);if(Ce(t))m=n.filter.updateFullNode(e.eventCache.getNode(),s,c),f=Jl(e,m,!0,n.filter.filtersNodes());else{const y=we(t);if(y===".priority")m=n.filter.updatePriority(e.eventCache.getNode(),s),f=Jl(e,m,h.isFullyInitialized(),h.isFiltered());else{const _=Ve(t),x=h.getNode().getImmediateChild(y);let S;if(Ce(_))S=s;else{const w=p.getCompleteChild(y);w!=null?Lx(_)===".priority"&&w.getChild(Ix(_)).isEmpty()?S=w:S=w.updateChild(_,s):S=fe.EMPTY_NODE}if(x.equals(S))f=e;else{const w=n.filter.updateChild(h.getNode(),y,S,_,p,c);f=Jl(e,w,h.isFullyInitialized(),n.filter.filtersNodes())}}}return f}function kb(n,e){return n.eventCache.isCompleteForChild(e)}function jO(n,e,t,s,l,r,c){let h=e;return s.foreach((f,m)=>{const p=ot(t,f);kb(e,we(p))&&(h=Ed(n,h,p,m,l,r,c))}),s.foreach((f,m)=>{const p=ot(t,f);kb(e,we(p))||(h=Ed(n,h,p,m,l,r,c))}),h}function Lb(n,e,t){return t.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function Sd(n,e,t,s,l,r,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,m;Ce(t)?m=s:m=new Ye(null).setTree(t,s);const p=e.serverCache.getNode();return m.children.inorderTraversal((y,_)=>{if(p.hasChild(y)){const x=e.serverCache.getNode().getImmediateChild(y),S=Lb(n,x,_);f=Fc(n,f,new Pe(y),S,l,r,c,h)}}),m.children.inorderTraversal((y,_)=>{const x=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!p.hasChild(y)&&!x){const S=e.serverCache.getNode().getImmediateChild(y),w=Lb(n,S,_);f=Fc(n,f,new Pe(y),w,l,r,c,h)}}),f}function YO(n,e,t,s,l,r,c){if(Uc(l,t)!=null)return e;const h=e.serverCache.isFiltered(),f=e.serverCache;if(s.value!=null){if(Ce(t)&&f.isFullyInitialized()||f.isCompleteForPath(t))return Fc(n,e,t,f.getNode().getChild(t),l,r,h,c);if(Ce(t)){let m=new Ye(null);return f.getNode().forEachChild(xa,(p,y)=>{m=m.set(new Pe(p),y)}),Sd(n,e,t,m,l,r,h,c)}else return e}else{let m=new Ye(null);return s.foreach((p,y)=>{const _=ot(t,p);f.isCompleteForPath(_)&&(m=m.set(p,f.getNode().getChild(_)))}),Sd(n,e,t,m,l,r,h,c)}}function qO(n,e,t,s,l){const r=e.serverCache,c=Gx(e,r.getNode(),r.isFullyInitialized()||Ce(t),r.isFiltered());return Jx(n,c,t,s,$x,l)}function GO(n,e,t,s,l,r){let c;if(Uc(s,t)!=null)return e;{const h=new fm(s,e,l),f=e.eventCache.getNode();let m;if(Ce(t)||we(t)===".priority"){let p;if(e.serverCache.isFullyInitialized())p=Pc(s,ws(e));else{const y=e.serverCache.getNode();ee(y instanceof fe,"serverChildren would be complete if leaf node"),p=um(s,y)}p=p,m=n.filter.updateFullNode(f,p,r)}else{const p=we(t);let y=hm(s,p,e.serverCache);y==null&&e.serverCache.isCompleteForChild(p)&&(y=f.getImmediateChild(p)),y!=null?m=n.filter.updateChild(f,p,y,Ve(t),h,r):e.eventCache.getNode().hasChild(p)?m=n.filter.updateChild(f,p,fe.EMPTY_NODE,Ve(t),h,r):m=f,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=Pc(s,ws(e)),c.isLeafNode()&&(m=n.filter.updateFullNode(m,c,r)))}return c=e.serverCache.isFullyInitialized()||Uc(s,Me())!=null,Jl(e,m,c,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new lm(s.getIndex()),r=fO(s);this.processor_=PO(r);const c=t.serverCache,h=t.eventCache,f=l.updateFullNode(fe.EMPTY_NODE,c.getNode(),null),m=r.updateFullNode(fe.EMPTY_NODE,h.getNode(),null),p=new Fi(f,c.isFullyInitialized(),l.filtersNodes()),y=new Fi(m,h.isFullyInitialized(),r.filtersNodes());this.viewCache_=tu(y,p),this.eventGenerator_=new bO(this.query_)}get query(){return this.query_}}function KO(n){return n.viewCache_.serverCache.getNode()}function XO(n){return Bc(n.viewCache_)}function QO(n,e){const t=ws(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ce(e)&&!t.getImmediateChild(we(e)).isEmpty())?t.getChild(e):null}function zb(n){return n.eventRegistrations_.length===0}function ZO(n,e){n.eventRegistrations_.push(e)}function Ib(n,e,t){const s=[];if(t){ee(e==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(r=>{const c=r.createCancelEvent(t,l);c&&s.push(c)})}if(e){let l=[];for(let r=0;r<n.eventRegistrations_.length;++r){const c=n.eventRegistrations_[r];if(!c.matches(e))l.push(c);else if(e.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function Hb(n,e,t,s){e.type===mn.MERGE&&e.source.queryId!==null&&(ee(ws(n.viewCache_),"We should always have a full cache before handling merges"),ee(Bc(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,r=FO(n.processor_,l,e,t,s);return UO(n.processor_,r.viewCache),ee(r.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,e1(n,r.changes,r.viewCache.eventCache.getNode(),null)}function $O(n,e){const t=n.viewCache_.eventCache,s=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Qe,(r,c)=>{s.push(Na(r,c))}),t.isFullyInitialized()&&s.push(jx(t.getNode())),e1(n,s,t.getNode(),e)}function e1(n,e,t,s){const l=s?[s]:n.eventRegistrations_;return vO(n.eventGenerator_,e,t,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc;class t1{constructor(){this.views=new Map}}function JO(n){ee(!Vc,"__referenceConstructor has already been defined"),Vc=n}function eR(){return ee(Vc,"Reference.ts has not been loaded"),Vc}function tR(n){return n.views.size===0}function dm(n,e,t,s){const l=e.source.queryId;if(l!==null){const r=n.views.get(l);return ee(r!=null,"SyncTree gave us an op for an invalid query."),Hb(r,e,t,s)}else{let r=[];for(const c of n.views.values())r=r.concat(Hb(c,e,t,s));return r}}function n1(n,e,t,s,l){const r=e._queryIdentifier,c=n.views.get(r);if(!c){let h=Pc(t,l?s:null),f=!1;h?f=!0:s instanceof fe?(h=um(t,s),f=!1):(h=fe.EMPTY_NODE,f=!1);const m=tu(new Fi(h,f,!1),new Fi(s,l,!1));return new WO(e,m)}return c}function nR(n,e,t,s,l,r){const c=n1(n,e,s,l,r);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),ZO(c,t),$O(c,t)}function iR(n,e,t,s){const l=e._queryIdentifier,r=[];let c=[];const h=Vi(n);if(l==="default")for(const[f,m]of n.views.entries())c=c.concat(Ib(m,t,s)),zb(m)&&(n.views.delete(f),m.query._queryParams.loadsAllData()||r.push(m.query));else{const f=n.views.get(l);f&&(c=c.concat(Ib(f,t,s)),zb(f)&&(n.views.delete(l),f.query._queryParams.loadsAllData()||r.push(f.query)))}return h&&!Vi(n)&&r.push(new(eR())(e._repo,e._path)),{removed:r,events:c}}function i1(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Ii(n,e){let t=null;for(const s of n.views.values())t=t||QO(s,e);return t}function s1(n,e){if(e._queryParams.loadsAllData())return iu(n);{const s=e._queryIdentifier;return n.views.get(s)}}function a1(n,e){return s1(n,e)!=null}function Vi(n){return iu(n)!=null}function iu(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc;function sR(n){ee(!jc,"__referenceConstructor has already been defined"),jc=n}function aR(){return ee(jc,"Reference.ts has not been loaded"),jc}let lR=1;class Bb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ye(null),this.pendingWriteTree_=zO(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function oR(n,e,t,s,l){return wO(n.pendingWriteTree_,e,t,s,l),l?Do(n,new Ss(qx(),e,t)):[]}function pa(n,e,t=!1){const s=CO(n.pendingWriteTree_,e);if(TO(n.pendingWriteTree_,e)){let r=new Ye(null);return s.snap!=null?r=r.set(Me(),!0):zt(s.children,c=>{r=r.set(new Pe(c),!0)}),Do(n,new Hc(s.path,r,t))}else return[]}function Mo(n,e,t){return Do(n,new Ss(rm(),e,t))}function rR(n,e,t){const s=Ye.fromObject(t);return Do(n,new bo(rm(),e,s))}function cR(n,e){return Do(n,new _o(rm(),e))}function uR(n,e,t){const s=mm(n,t);if(s){const l=gm(s),r=l.path,c=l.queryId,h=Tt(r,e),f=new _o(cm(c),h);return pm(n,r,f)}else return[]}function Yc(n,e,t,s,l=!1){const r=e._path,c=n.syncPointTree_.get(r);let h=[];if(c&&(e._queryIdentifier==="default"||a1(c,e))){const f=iR(c,e,t,s);tR(c)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const m=f.removed;if(h=f.events,!l){const p=m.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=n.syncPointTree_.findOnPath(r,(_,x)=>Vi(x));if(p&&!y){const _=n.syncPointTree_.subtree(r);if(!_.isEmpty()){const x=dR(_);for(let S=0;S<x.length;++S){const w=x[S],T=w.query,R=u1(n,w);n.listenProvider_.startListening(to(T),vo(n,T),R.hashFn,R.onComplete)}}}!y&&m.length>0&&!s&&(p?n.listenProvider_.stopListening(to(e),null):m.forEach(_=>{const x=n.queryToTagMap.get(su(_));n.listenProvider_.stopListening(to(_),x)}))}mR(n,m)}return h}function l1(n,e,t,s){const l=mm(n,s);if(l!=null){const r=gm(l),c=r.path,h=r.queryId,f=Tt(c,e),m=new Ss(cm(h),f,t);return pm(n,c,m)}else return[]}function hR(n,e,t,s){const l=mm(n,s);if(l){const r=gm(l),c=r.path,h=r.queryId,f=Tt(c,e),m=Ye.fromObject(t),p=new bo(cm(h),f,m);return pm(n,c,p)}else return[]}function wd(n,e,t,s=!1){const l=e._path;let r=null,c=!1;n.syncPointTree_.foreachOnPath(l,(_,x)=>{const S=Tt(_,l);r=r||Ii(x,S),c=c||Vi(x)});let h=n.syncPointTree_.get(l);h?(c=c||Vi(h),r=r||Ii(h,Me())):(h=new t1,n.syncPointTree_=n.syncPointTree_.set(l,h));let f;r!=null?f=!0:(f=!1,r=fe.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((x,S)=>{const w=Ii(S,Me());w&&(r=r.updateImmediateChild(x,w))}));const m=a1(h,e);if(!m&&!e._queryParams.loadsAllData()){const _=su(e);ee(!n.queryToTagMap.has(_),"View does not exist, but we have a tag");const x=gR();n.queryToTagMap.set(_,x),n.tagToQueryMap.set(x,_)}const p=nu(n.pendingWriteTree_,l);let y=nR(h,e,t,p,r,f);if(!m&&!c&&!s){const _=s1(h,e);y=y.concat(pR(n,e,_))}return y}function o1(n,e,t){const l=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(e,(c,h)=>{const f=Tt(c,e),m=Ii(h,f);if(m)return m});return Xx(l,e,r,t,!0)}function fR(n,e){const t=e._path;let s=null;n.syncPointTree_.foreachOnPath(t,(m,p)=>{const y=Tt(m,t);s=s||Ii(p,y)});let l=n.syncPointTree_.get(t);l?s=s||Ii(l,Me()):(l=new t1,n.syncPointTree_=n.syncPointTree_.set(t,l));const r=s!=null,c=r?new Fi(s,!0,!1):null,h=nu(n.pendingWriteTree_,e._path),f=n1(l,e,h,r?c.getNode():fe.EMPTY_NODE,r);return XO(f)}function Do(n,e){return r1(e,n.syncPointTree_,null,nu(n.pendingWriteTree_,Me()))}function r1(n,e,t,s){if(Ce(n.path))return c1(n,e,t,s);{const l=e.get(Me());t==null&&l!=null&&(t=Ii(l,Me()));let r=[];const c=we(n.path),h=n.operationForChild(c),f=e.children.get(c);if(f&&h){const m=t?t.getImmediateChild(c):null,p=Qx(s,c);r=r.concat(r1(h,f,m,p))}return l&&(r=r.concat(dm(l,n,s,t))),r}}function c1(n,e,t,s){const l=e.get(Me());t==null&&l!=null&&(t=Ii(l,Me()));let r=[];return e.children.inorderTraversal((c,h)=>{const f=t?t.getImmediateChild(c):null,m=Qx(s,c),p=n.operationForChild(c);p&&(r=r.concat(c1(p,h,f,m)))}),l&&(r=r.concat(dm(l,n,s,t))),r}function u1(n,e){const t=e.query,s=vo(n,t);return{hashFn:()=>(KO(e)||fe.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?uR(n,t._path,s):cR(n,t._path);{const r=hD(l,t);return Yc(n,t,null,r)}}}}function vo(n,e){const t=su(e);return n.queryToTagMap.get(t)}function su(n){return n._path.toString()+"$"+n._queryIdentifier}function mm(n,e){return n.tagToQueryMap.get(e)}function gm(n){const e=n.indexOf("$");return ee(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Pe(n.substr(0,e))}}function pm(n,e,t){const s=n.syncPointTree_.get(e);ee(s,"Missing sync point for query tag that we're tracking");const l=nu(n.pendingWriteTree_,e);return dm(s,t,l,null)}function dR(n){return n.fold((e,t,s)=>{if(t&&Vi(t))return[iu(t)];{let l=[];return t&&(l=i1(t)),zt(s,(r,c)=>{l=l.concat(c)}),l}})}function to(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(aR())(n._repo,n._path):n}function mR(n,e){for(let t=0;t<e.length;++t){const s=e[t];if(!s._queryParams.loadsAllData()){const l=su(s),r=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(r)}}}function gR(){return lR++}function pR(n,e,t){const s=e._path,l=vo(n,e),r=u1(n,t),c=n.listenProvider_.startListening(to(e),l,r.hashFn,r.onComplete),h=n.syncPointTree_.subtree(s);if(l)ee(!Vi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const f=h.fold((m,p,y)=>{if(!Ce(m)&&p&&Vi(p))return[iu(p).query];{let _=[];return p&&(_=_.concat(i1(p).map(x=>x.query))),zt(y,(x,S)=>{_=_.concat(S)}),_}});for(let m=0;m<f.length;++m){const p=f[m];n.listenProvider_.stopListening(to(p),vo(n,p))}}return c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ym(t)}node(){return this.node_}}class _m{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ot(this.path_,e);return new _m(this.syncTree_,t)}node(){return o1(this.syncTree_,this.path_)}}const yR=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},Pb=function(n,e,t){if(!n||typeof n!="object")return n;if(ee(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return _R(n[".sv"],e,t);if(typeof n[".sv"]=="object")return bR(n[".sv"],e);ee(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},_R=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:ee(!1,"Unexpected server value: "+n)}},bR=function(n,e,t){n.hasOwnProperty("increment")||ee(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&ee(!1,"Unexpected increment value: "+s);const l=e.node();if(ee(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const c=l.getValue();return typeof c!="number"?s:c+s},vR=function(n,e,t,s){return bm(e,new _m(t,n),s)},xR=function(n,e,t){return bm(n,new ym(e),t)};function bm(n,e,t){const s=n.getPriority().val(),l=Pb(s,e.getImmediateChild(".priority"),t);let r;if(n.isLeafNode()){const c=n,h=Pb(c.getValue(),e,t);return h!==c.getValue()||l!==c.getPriority().val()?new ft(h,_t(l)):n}else{const c=n;return r=c,l!==c.getPriority().val()&&(r=r.updatePriority(new ft(l))),c.forEachChild(Qe,(h,f)=>{const m=bm(f,e.getImmediateChild(h),t);m!==f&&(r=r.updateImmediateChild(h,m))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e="",t=null,s={children:{},childCount:0}){this.name=e,this.parent=t,this.node=s}}function xm(n,e){let t=e instanceof Pe?e:new Pe(e),s=n,l=we(t);for(;l!==null;){const r=Ta(s.node.children,l)||{children:{},childCount:0};s=new vm(l,s,r),t=Ve(t),l=we(t)}return s}function ka(n){return n.node.value}function h1(n,e){n.node.value=e,Cd(n)}function f1(n){return n.node.childCount>0}function ER(n){return ka(n)===void 0&&!f1(n)}function au(n,e){zt(n.node.children,(t,s)=>{e(new vm(t,n,s))})}function d1(n,e,t,s){t&&e(n),au(n,l=>{d1(l,e,!0)})}function SR(n,e,t){let s=n.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function Oo(n){return new Pe(n.parent===null?n.name:Oo(n.parent)+"/"+n.name)}function Cd(n){n.parent!==null&&wR(n.parent,n.name,n)}function wR(n,e,t){const s=ER(t),l=Jn(n.node.children,e);s&&l?(delete n.node.children[e],n.node.childCount--,Cd(n)):!s&&!l&&(n.node.children[e]=t.node,n.node.childCount++,Cd(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=/[\[\].#$\/\u0000-\u001F\u007F]/,TR=/[\[\].#$\u0000-\u001F\u007F]/,Zf=10*1024*1024,m1=function(n){return typeof n=="string"&&n.length!==0&&!CR.test(n)},g1=function(n){return typeof n=="string"&&n.length!==0&&!TR.test(n)},AR=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),g1(n)},p1=function(n,e,t){const s=t instanceof Pe?new YD(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+gs(s));if(typeof e=="function")throw new Error(n+"contains a function "+gs(s)+" with contents = "+e.toString());if(dx(e))throw new Error(n+"contains "+e.toString()+" "+gs(s));if(typeof e=="string"&&e.length>Zf/3&&Jc(e)>Zf)throw new Error(n+"contains a string greater than "+Zf+" utf8 bytes "+gs(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,r=!1;if(zt(e,(c,h)=>{if(c===".value")l=!0;else if(c!==".priority"&&c!==".sv"&&(r=!0,!m1(c)))throw new Error(n+" contains an invalid key ("+c+") "+gs(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qD(s,c),p1(n,h,s),GD(s)}),l&&r)throw new Error(n+' contains ".value" child '+gs(s)+" in addition to actual children.")}},y1=function(n,e,t,s){if(!g1(t))throw new Error(ix(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},NR=function(n,e,t,s){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),y1(n,e,t)},MR=function(n,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!m1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!AR(t))throw new Error(ix(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _1(n,e){let t=null;for(let s=0;s<e.length;s++){const l=e[s],r=l.getPath();t!==null&&!im(r,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:r}),t.events.push(l)}t&&n.eventLists_.push(t)}function b1(n,e,t){_1(n,t),v1(n,s=>im(s,e))}function ji(n,e,t){_1(n,t),v1(n,s=>dn(s,e)||dn(e,s))}function v1(n,e){n.recursionDepth_++;let t=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const r=l.path;e(r)?(OR(n.eventLists_[s]),n.eventLists_[s]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function OR(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(t!==null){n.events[e]=null;const s=t.getEventRunner();Zl&&St("event: "+t.toString()),Ao(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="repo_interrupt",kR=25;class LR{constructor(e,t,s,l){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new DR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ic(),this.transactionQueueTree_=new vm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zR(n,e,t){if(n.stats_=tm(n.repoInfo_),n.forceRestClient_||gD())n.server_=new zc(n.repoInfo_,(s,l,r,c)=>{Ub(n,s,l,r,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Fb(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lt(t)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Xn(n.repoInfo_,e,(s,l,r,c)=>{Ub(n,s,l,r,c)},s=>{Fb(n,s)},s=>{HR(n,s)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=vD(n.repoInfo_,()=>new _O(n.stats_,n.server_)),n.infoData_=new dO,n.infoSyncTree_=new Bb({startListening:(s,l,r,c)=>{let h=[];const f=n.infoData_.getNode(s._path);return f.isEmpty()||(h=Mo(n.infoSyncTree_,s._path,f),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),Em(n,"connected",!1),n.serverSyncTree_=new Bb({startListening:(s,l,r,c)=>(n.server_.listen(s,r,l,(h,f)=>{const m=c(h,f);ji(n.eventQueue_,s._path,m)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function IR(n){const t=n.infoData_.getNode(new Pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function x1(n){return yR({timestamp:IR(n)})}function Ub(n,e,t,s,l){n.dataUpdateCount++;const r=new Pe(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(l)if(s){const f=Nc(t,m=>_t(m));c=hR(n.serverSyncTree_,r,f,l)}else{const f=_t(t);c=l1(n.serverSyncTree_,r,f,l)}else if(s){const f=Nc(t,m=>_t(m));c=rR(n.serverSyncTree_,r,f)}else{const f=_t(t);c=Mo(n.serverSyncTree_,r,f)}let h=r;c.length>0&&(h=Cm(n,r)),ji(n.eventQueue_,h,c)}function Fb(n,e){Em(n,"connected",e),e===!1&&UR(n)}function HR(n,e){zt(e,(t,s)=>{Em(n,t,s)})}function Em(n,e,t){const s=new Pe("/.info/"+e),l=_t(t);n.infoData_.updateSnapshot(s,l);const r=Mo(n.infoSyncTree_,s,l);ji(n.eventQueue_,s,r)}function BR(n){return n.nextWriteId_++}function PR(n,e,t){const s=fR(n.serverSyncTree_,e);return s!=null?Promise.resolve(s):n.server_.get(e).then(l=>{const r=_t(l).withIndex(e._queryParams.getIndex());wd(n.serverSyncTree_,e,t,!0);let c;if(e._queryParams.loadsAllData())c=Mo(n.serverSyncTree_,e._path,r);else{const h=vo(n.serverSyncTree_,e);c=l1(n.serverSyncTree_,e._path,r,h)}return ji(n.eventQueue_,e._path,c),Yc(n.serverSyncTree_,e,t,null,!0),r},l=>(Sm(n,"get for query "+lt(e)+" failed: "+l),Promise.reject(new Error(l))))}function UR(n){Sm(n,"onDisconnectEvents");const e=x1(n),t=Ic();bd(n.onDisconnect_,Me(),(l,r)=>{const c=vR(l,r,n.serverSyncTree_,e);Yx(t,l,c)});let s=[];bd(t,Me(),(l,r)=>{s=s.concat(Mo(n.serverSyncTree_,l,r));const c=qR(n,l);Cm(n,c)}),n.onDisconnect_=Ic(),ji(n.eventQueue_,Me(),s)}function FR(n,e,t){let s;we(e._path)===".info"?s=wd(n.infoSyncTree_,e,t):s=wd(n.serverSyncTree_,e,t),b1(n.eventQueue_,e._path,s)}function Td(n,e,t){let s;we(e._path)===".info"?s=Yc(n.infoSyncTree_,e,t):s=Yc(n.serverSyncTree_,e,t),b1(n.eventQueue_,e._path,s)}function VR(n){n.persistentConnection_&&n.persistentConnection_.interrupt(RR)}function Sm(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),St(t,...e)}function E1(n,e,t){return o1(n.serverSyncTree_,e,t)||fe.EMPTY_NODE}function wm(n,e=n.transactionQueueTree_){if(e||lu(n,e),ka(e)){const t=w1(n,e);ee(t.length>0,"Sending zero length transaction queue"),t.every(l=>l.status===0)&&jR(n,Oo(e),t)}else f1(e)&&au(e,t=>{wm(n,t)})}function jR(n,e,t){const s=t.map(m=>m.currentWriteId),l=E1(n,e,s);let r=l;const c=l.hash();for(let m=0;m<t.length;m++){const p=t[m];ee(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const y=Tt(e,p.path);r=r.updateChild(y,p.currentOutputSnapshotRaw)}const h=r.val(!0),f=e;n.server_.put(f.toString(),h,m=>{Sm(n,"transaction put response",{path:f.toString(),status:m});let p=[];if(m==="ok"){const y=[];for(let _=0;_<t.length;_++)t[_].status=2,p=p.concat(pa(n.serverSyncTree_,t[_].currentWriteId)),t[_].onComplete&&y.push(()=>t[_].onComplete(null,!0,t[_].currentOutputSnapshotResolved)),t[_].unwatcher();lu(n,xm(n.transactionQueueTree_,e)),wm(n,n.transactionQueueTree_),ji(n.eventQueue_,e,p);for(let _=0;_<y.length;_++)Ao(y[_])}else{if(m==="datastale")for(let y=0;y<t.length;y++)t[y].status===3?t[y].status=4:t[y].status=0;else{Kt("transaction at "+f.toString()+" failed: "+m);for(let y=0;y<t.length;y++)t[y].status=4,t[y].abortReason=m}Cm(n,e)}},c)}function Cm(n,e){const t=S1(n,e),s=Oo(t),l=w1(n,t);return YR(n,l,s),s}function YR(n,e,t){if(e.length===0)return;const s=[];let l=[];const c=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const f=e[h],m=Tt(t,f.path);let p=!1,y;if(ee(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)p=!0,y=f.abortReason,l=l.concat(pa(n.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=kR)p=!0,y="maxretry",l=l.concat(pa(n.serverSyncTree_,f.currentWriteId,!0));else{const _=E1(n,f.path,c);f.currentInputSnapshot=_;const x=e[h].update(_.val());if(x!==void 0){p1("transaction failed: Data returned ",x,f.path);let S=_t(x);typeof x=="object"&&x!=null&&Jn(x,".priority")||(S=S.updatePriority(_.getPriority()));const T=f.currentWriteId,R=x1(n),B=xR(S,_,R);f.currentOutputSnapshotRaw=S,f.currentOutputSnapshotResolved=B,f.currentWriteId=BR(n),c.splice(c.indexOf(T),1),l=l.concat(oR(n.serverSyncTree_,f.path,B,f.currentWriteId,f.applyLocally)),l=l.concat(pa(n.serverSyncTree_,T,!0))}else p=!0,y="nodata",l=l.concat(pa(n.serverSyncTree_,f.currentWriteId,!0))}ji(n.eventQueue_,t,l),l=[],p&&(e[h].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[h].unwatcher),e[h].onComplete&&(y==="nodata"?s.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):s.push(()=>e[h].onComplete(new Error(y),!1,null))))}lu(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)Ao(s[h]);wm(n,n.transactionQueueTree_)}function S1(n,e){let t,s=n.transactionQueueTree_;for(t=we(e);t!==null&&ka(s)===void 0;)s=xm(s,t),e=Ve(e),t=we(e);return s}function w1(n,e){const t=[];return C1(n,e,t),t.sort((s,l)=>s.order-l.order),t}function C1(n,e,t){const s=ka(e);if(s)for(let l=0;l<s.length;l++)t.push(s[l]);au(e,l=>{C1(n,l,t)})}function lu(n,e){const t=ka(e);if(t){let s=0;for(let l=0;l<t.length;l++)t[l].status!==2&&(t[s]=t[l],s++);t.length=s,h1(e,t.length>0?t:void 0)}au(e,s=>{lu(n,s)})}function qR(n,e){const t=Oo(S1(n,e)),s=xm(n.transactionQueueTree_,e);return SR(s,l=>{$f(n,l)}),$f(n,s),d1(s,l=>{$f(n,l)}),t}function $f(n,e){const t=ka(e);if(t){const s=[];let l=[],r=-1;for(let c=0;c<t.length;c++)t[c].status===3||(t[c].status===1?(ee(r===c-1,"All SENT items should be at beginning of queue."),r=c,t[c].status=3,t[c].abortReason="set"):(ee(t[c].status===0,"Unexpected transaction status in abort"),t[c].unwatcher(),l=l.concat(pa(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&s.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));r===-1?h1(e,void 0):t.length=r+1,ji(n.eventQueue_,Oo(e),l);for(let c=0;c<s.length;c++)Ao(s[c])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(n){let e="";const t=n.split("/");for(let s=0;s<t.length;s++)if(t[s].length>0){let l=t[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function WR(n){const e={};n.charAt(0)==="?"&&(n=n.substring(1));for(const t of n.split("&")){if(t.length===0)continue;const s=t.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Kt(`Invalid query segment '${t}' in query '${n}'`)}return e}const Vb=function(n,e){const t=KR(n),s=t.namespace;t.domain==="firebase.com"&&Zn(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&t.domain!=="localhost"&&Zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||lD();const l=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Cx(t.host,t.secure,s,l,e,"",s!==t.subdomain),path:new Pe(t.pathString)}},KR=function(n){let e="",t="",s="",l="",r="",c=!0,h="https",f=443;if(typeof n=="string"){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let p=n.indexOf("/");p===-1&&(p=n.length);let y=n.indexOf("?");y===-1&&(y=n.length),e=n.substring(0,Math.min(p,y)),p<y&&(l=GR(n.substring(p,y)));const _=WR(n.substring(Math.min(n.length,y)));m=e.indexOf(":"),m>=0?(c=h==="https"||h==="wss",f=parseInt(e.substring(m+1),10)):m=e.length;const x=e.slice(0,m);if(x.toLowerCase()==="localhost")t="localhost";else if(x.split(".").length<=2)t=x;else{const S=e.indexOf(".");s=e.substring(0,S).toLowerCase(),t=e.substring(S+1),r=s}"ns"in _&&(r=_.ns)}return{host:e,port:f,domain:t,subdomain:s,secure:c,scheme:h,pathString:l,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,t,s,l){this.eventType=e,this.eventRegistration=t,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+lt(this.snapshot.exportVal())}}class QR{constructor(e,t,s){this.eventRegistration=e,this.error=t,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ee(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t,s,l){this._repo=e,this._path=t,this._queryParams=s,this._orderByCalled=l}get key(){return Ce(this._path)?null:Lx(this._path)}get ref(){return new ei(this._repo,this._path)}get _queryIdentifier(){const e=Ab(this._queryParams),t=Jd(e);return t==="{}"?"default":t}get _queryObject(){return Ab(this._queryParams)}isEqual(e){if(e=wo(e),!(e instanceof Am))return!1;const t=this._repo===e._repo,s=im(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return t&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+jD(this._path)}}class ei extends Am{constructor(e,t){super(e,t,new om,!1)}get parent(){const e=Ix(this._path);return e===null?null:new ei(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class xo{constructor(e,t,s){this._node=e,this.ref=t,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Pe(e),s=Ad(this.ref,e);return new xo(this._node.getChild(t),s,Qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new xo(l,Ad(this.ref,s),Qe)))}hasChild(e){const t=new Pe(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Hi(n,e){return n=wo(n),n._checkNotDeleted("ref"),e!==void 0?Ad(n._root,e):n._root}function Ad(n,e){return n=wo(n),we(n._path)===null?NR("child","path",e):y1("child","path",e),new ei(n._repo,ot(n._path,e))}function qc(n){n=wo(n);const e=new Tm(()=>{}),t=new Ro(e);return PR(n._repo,n,t).then(s=>new xo(s,new ei(n._repo,n._path),n._queryParams.getIndex()))}class Ro{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const s=t._queryParams.getIndex();return new XR("value",this,new xo(e.snapshotNode,new ei(t._repo,t._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new QR(this,e,t):null}matches(e){return e instanceof Ro?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function ZR(n,e,t,s,l){let r;if(typeof s=="object"&&(r=void 0,l=s),typeof s=="function"&&(r=s),l&&l.onlyOnce){const f=t,m=(p,y)=>{Td(n._repo,n,h),f(p,y)};m.userCallback=t.userCallback,m.context=t.context,t=m}const c=new Tm(t,r||void 0),h=new Ro(c);return FR(n._repo,n,h),()=>Td(n._repo,n,h)}function yc(n,e,t,s){return ZR(n,"value",e,t,s)}function _c(n,e,t){let s=null;const l=t?new Tm(t):null;s=new Ro(l),Td(n._repo,n,s)}JO(ei);sR(ei);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="FIREBASE_DATABASE_EMULATOR_HOST",Nd={};let JR=!1;function ek(n,e,t,s){const l=e.lastIndexOf(":"),r=e.substring(0,l),c=Zd(r);n.repoInfo_=new Cx(e,c,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,t),s&&(n.authTokenProvider_=s)}function tk(n,e,t,s,l){let r=s||n.options.databaseURL;r===void 0&&(n.options.projectId||Zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),St("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let c=Vb(r,l),h=c.repoInfo,f;typeof process<"u"&&cb&&(f=cb[$R]),f?(r=`http://${f}?ns=${h.namespace}`,c=Vb(r,l),h=c.repoInfo):c.repoInfo.secure;const m=new yD(n.name,n.options,e);MR("Invalid Firebase Database URL",c),Ce(c.path)||Zn("Database URL must point to the root of a Firebase Database (not including a child path).");const p=ik(h,n,m,new pD(n,t));return new sk(p,n)}function nk(n,e){const t=Nd[e];(!t||t[n.key]!==n)&&Zn(`Database ${e}(${n.repoInfo_}) has already been deleted.`),VR(n),delete t[n.key]}function ik(n,e,t,s){let l=Nd[e.name];l||(l={},Nd[e.name]=l);let r=l[n.toURLString()];return r&&Zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new LR(n,JR,t,s),l[n.toURLString()]=r,r}class sk{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ei(this._repo,Me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nk(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Zn("Cannot call "+e+" on a deleted database.")}}function ak(n=FM(),e){const t=IM(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const s=xN("database");s&&lk(t,...s)}return t}function lk(n,e,t,s={}){n=wo(n),n._checkNotDeleted("useEmulator");const l=`${e}:${t}`,r=n._repoInternal;if(n._instanceStarted){if(l===n._repoInternal.repoInfo_.host&&Mc(s,r.repoInfo_.emulatorOptions))return;Zn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&Zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new pc(pc.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:SN(s.mockUserToken,n.app.options.projectId);c=new pc(h)}Zd(e)&&(EN(e),TN("Database",!0)),ek(r,l,s,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n){eD(UM),Oc(new ho("database",(e,{instanceIdentifier:t})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return tk(s,l,r,t)},"PUBLIC").setMultipleInstances(!0)),ba(ub,hb,n),ba(ub,hb,"esm2020")}Xn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};Xn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};ok();const T1={projectId:"ecofishdb",databaseURL:"https://ecofishdb-default-rtdb.firebaseio.com/"},rk=ox(T1),Bi=ak(rk);console.log("Firebase initialized, database URL:",T1.databaseURL);Da.register(Kl,ro,Gd,qd);function jb(n,e=""){const t=[];return!n||typeof n!="object"||Object.entries(n).forEach(([s,l])=>{Array.isArray(l)&&l.forEach(r=>{!r||typeof r!="object"||Object.entries(r).forEach(([c,h])=>{let f=null;r.flood!==void 0&&(f=r.flood),Array.isArray(h)&&h.forEach(m=>{m&&typeof m=="object"&&t.push({...m,year:s,month:c,source:e,flood:f})})})})}),t}function Yb(n,e=!1){const t=new Set;return n.forEach(s=>{Object.entries(s).forEach(([l,r])=>{typeof r=="number"&&!isNaN(r)&&t.add(l),e&&typeof r=="string"&&r.length<30&&t.add(l)}),"flood_in_month"in s&&t.add("flood_in_month")}),Array.from(t)}function ck(n,e){const t=n.length;if(t!==e.length||t===0)return null;const s=n.reduce((f,m)=>f+m,0)/t,l=e.reduce((f,m)=>f+m,0)/t;let r=0,c=0,h=0;for(let f=0;f<t;f++)r+=(n[f]-s)*(e[f]-l),c+=(n[f]-s)**2,h+=(e[f]-l)**2;return r/Math.sqrt(c*h)}function uk(){const[n,e]=ie.useState([]),[t,s]=ie.useState([]),[l,r]=ie.useState(""),[c,h]=ie.useState(""),[f,m]=ie.useState([]),[p,y]=ie.useState([]),[_,x]=ie.useState(""),[S,w]=ie.useState(""),[T,R]=ie.useState(!0),[B,U]=ie.useState("chemicals");ie.useEffect(()=>{async function $(){const oe=(await qc(Hi(Bi,"/"))).val(),xe=jb(oe==null?void 0:oe.Chemicals_Height,"Chemicals_Height"),Q=Yb(xe);e(xe),s(Q),r(Q[0]||""),h(Q[1]||Q[0]||"");let k=[];oe!=null&&oe.Heavy_Metals&&typeof oe.Heavy_Metals=="object"&&Object.entries(oe.Heavy_Metals).forEach(([J,me])=>{k.push(...jb(me,`Heavy_Metals_${J}`))});const G=Yb(k);m(k),y(G),x(G[0]||""),w(G[1]||G[0]||""),R(!1)}$()},[]);function Y($,te,oe,xe){return!te||!oe?[]:xe==="E.coli Floods Correlation"&&te==="Ecoli"&&oe==="flood_in_month"?$.filter(Q=>typeof Q.Ecoli=="number"&&typeof Q.flood_in_month=="number").map(Q=>({x:Q.Ecoli,y:Q.flood_in_month})):$.map(Q=>typeof Q[te]=="number"&&typeof Q[oe]=="number"?{x:Q[te],y:Q[oe]}:null).filter(Boolean)}function I($,te,oe){if($.length<2)return null;if(te===oe)return 1;const xe=$.map(k=>k.x),Q=$.map(k=>k.y);return ck(xe,Q)}const Z=ie.useMemo(()=>Y(n,l,c,"Chemicals Correlation"),[n,l,c]),F=ie.useMemo(()=>Y(f,_,S,"Heavy Metals Correlation"),[f,_,S]),W=ie.useMemo(()=>I(Z,l,c),[Z,l,c]),q=ie.useMemo(()=>I(F,_,S),[F,_,S]);function K($,te,oe,xe,Q,k,G,J,me,A){const ne={datasets:[{label:`${oe} vs ${Q}`,data:G,backgroundColor:"rgba(59,130,246,0.7)"}]};return b.createElement("div",{className:"p-4 bg-white rounded shadow mb-8 w-full"},b.createElement("h2",{className:"text-base sm:text-lg md:text-xl font-bold mb-4 text-center break-words"},$),b.createElement("div",{className:"flex flex-col sm:flex-row gap-4 mb-4 justify-center items-center"},b.createElement("div",{className:"w-full sm:w-auto"},b.createElement("label",{className:"block text-xs sm:text-sm font-medium mb-1"},"X Axis"),b.createElement("select",{className:"border rounded px-2 py-1 text-xs sm:text-sm w-full sm:w-auto",value:oe,onChange:X=>xe(X.target.value)},te.map(X=>b.createElement("option",{key:X,value:X},X)))),b.createElement("div",{className:"w-full sm:w-auto"},b.createElement("label",{className:"block text-xs sm:text-sm font-medium mb-1"},"Y Axis"),b.createElement("select",{className:"border rounded px-2 py-1 text-xs sm:text-sm w-full sm:w-auto",value:Q,onChange:X=>k(X.target.value)},te.map(X=>b.createElement("option",{key:X,value:X},X))))),b.createElement("div",{className:"mb-4 w-full h-[20rem] sm:h-[24rem] md:h-[28rem]"},b.createElement(lN,{data:ne,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{bodyFont:{size:12}}},scales:{x:{title:{display:!0,text:oe,font:{size:13,weight:"bold"}},ticks:{font:{size:11},maxRotation:0,minRotation:0,autoSkip:!0}},y:{title:{display:!0,text:Q,font:{size:13,weight:"bold"}},ticks:{font:{size:11}}}}}})),b.createElement("div",{className:"text-xs sm:text-sm md:text-base mb-2 text-center break-words"},J!==null?b.createElement("span",null,"Pearson correlation coefficient: ",b.createElement("b",null,J.toFixed(3))):b.createElement("span",null,"Not enough data to calculate correlation."),J!==null&&b.createElement("div",{className:"mt-1 text-gray-700"},J>.7&&"Strong positive correlation: as X increases, Y tends to increase.",J<-.7&&"Strong negative correlation: as X increases, Y tends to decrease.",J>=.3&&J<=.7&&"Moderate positive correlation.",J<=-.3&&J>=-.7&&"Moderate negative correlation.",J>-.3&&J<.3&&"Weak or no correlation.")),b.createElement("div",{className:"text-[10px] sm:text-xs md:text-sm text-gray-600 text-left break-words"},b.createElement("b",null,"Correlation assumptions:")," ",b.createElement("br",null),"- Both variables are continuous and approximately normally distributed.",b.createElement("br",null),"- Relationship is linear.",b.createElement("br",null),"- No significant outliers.",b.createElement("br",null),"- Homoscedasticity (equal variance across values).",b.createElement("br",null)))}return b.createElement("div",{className:"w-full px-2 sm:px-4 md:px-6"},T?b.createElement("div",{className:"p-4 text-center text-sm sm:text-base"},"Loading data from Firebase..."):b.createElement(b.Fragment,null,b.createElement("div",{className:"mb-6 flex flex-col sm:flex-row gap-2 items-center justify-center"},b.createElement("label",{className:"block text-xs sm:text-sm font-medium mb-2 sm:mb-0"},"Select Correlation Chart"),b.createElement("select",{className:"border rounded px-2 py-1 text-xs sm:text-sm w-full sm:w-auto",value:B,onChange:$=>U($.target.value)},b.createElement("option",{value:"chemicals"},"Chemicals"),b.createElement("option",{value:"metals"},"Heavy Metals"))),B==="chemicals"&&K("Chemicals Correlation",t,l,r,c,h,Z,W),B==="metals"&&K("Heavy Metals Correlation",p,_,x,S,w,F,q)))}function hk(n){const e=[];return n&&Object.keys(n).forEach(t=>{const s=n[t];Array.isArray(s)&&s.forEach((l,r)=>{l&&Object.keys(l).forEach(c=>{const h=l[c];Array.isArray(h)&&h.forEach(f=>{f&&e.push({year:t,month:r+1,date:f.date,chl_ug_l_avg:f.chl_ug_l_avg,avg_nitrate:f.avg_nitrate,avg_nitrit:f.avg_nitrit})})})})}),e}const fk=()=>{const[n,e]=ie.useState([]),[t,s]=ie.useState(!0),[l,r]=ie.useState("chl");ie.useEffect(()=>{async function h(){const m=(await qc(Hi(Bi,"/Chemicals_Height"))).val();e(hk(m)),s(!1)}h()},[]);const c=ie.useMemo(()=>{const h={};n.forEach(p=>{h[p.year]||(h[p.year]={chl:[],nitrate:[],nitrit:[]}),p.chl_ug_l_avg!=null&&h[p.year].chl.push(p.chl_ug_l_avg),p.avg_nitrate!=null&&h[p.year].nitrate.push(p.avg_nitrate),p.avg_nitrit!=null&&h[p.year].nitrit.push(p.avg_nitrit)});const f=Object.keys(h).sort();let m=[];return l==="chl"?m=[{label:"Max Chlorophyll-a",data:f.map(p=>h[p].chl.length?Math.max(...h[p].chl):null),backgroundColor:"rgba(34,197,94,0.7)"},{label:"Min Chlorophyll-a",data:f.map(p=>h[p].chl.length?Math.min(...h[p].chl):null),backgroundColor:"rgba(34,197,94,0.5)"}]:l==="nitrate"?m=[{label:"Max Nitrate",data:f.map(p=>h[p].nitrate.length?Math.max(...h[p].nitrate):null),backgroundColor:"rgba(59,130,246,0.7)"},{label:"Min Nitrate",data:f.map(p=>h[p].nitrate.length?Math.min(...h[p].nitrate):null),backgroundColor:"rgba(59,130,246,0.5)"}]:l==="nitrit"&&(m=[{label:"Max Nitrite",data:f.map(p=>h[p].nitrit.length?Math.max(...h[p].nitrit):null),backgroundColor:"rgba(251,191,36,0.7)"},{label:"Min Nitrite",data:f.map(p=>h[p].nitrit.length?Math.min(...h[p].nitrit):null),backgroundColor:"rgba(251,191,36,0.5)"}]),{labels:f,datasets:m}},[n,l]);return b.createElement("div",{className:"h-[32rem] w-full px-2 sm:px-4 md:px-6"},b.createElement("h3",{className:"mb-2 font-semibold text-base sm:text-lg md:text-xl text-gray-800 text-center break-words"},"Chemical Extremes by Year"),b.createElement("div",{className:"mb-4 flex flex-col sm:flex-row sm:items-center gap-2"},b.createElement("label",{className:"block text-xs sm:text-sm font-medium mb-1 sm:mb-0"},"Select Chemical"),b.createElement("select",{className:"border rounded px-2 py-1 text-xs sm:text-sm w-full sm:w-auto",value:l,onChange:h=>r(h.target.value)},b.createElement("option",{value:"chl"},"Chlorophyll-a"),b.createElement("option",{value:"nitrate"},"Nitrate"),b.createElement("option",{value:"nitrit"},"Nitrite"))),t?b.createElement("div",{className:"p-4 text-center text-sm sm:text-base"},"Loading data from Firebase..."):b.createElement("div",{className:"w-full h-[24rem] sm:h-[28rem] md:h-[32rem]"},b.createElement($c,{data:c,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12,family:"inherit",weight:"bold"},padding:12,boxWidth:16,color:"#374151"}},tooltip:{bodyFont:{size:12},callbacks:{label:h=>`${h.dataset.label}: ${h.parsed.y}`}},title:{display:!1}},scales:{x:{title:{display:!0,text:"Year",font:{size:13,weight:"bold"}},ticks:{font:{size:11},maxRotation:0,minRotation:0,autoSkip:!0}},y:{title:{display:!0,text:"Concentration",font:{size:13,weight:"bold"}},ticks:{font:{size:11}}}}}})),b.createElement("div",{className:"mt-2 text-xs sm:text-sm md:text-base text-gray-600 text-center break-words w-full"},b.createElement("span",{className:"whitespace-pre-line"},"Shows the highest and lowest measured values for each chemical per year. Helps identify extreme pollution events and clean periods.")))},dk=()=>{const[n,e]=ie.useState({}),[t,s]=ie.useState({}),[l,r]=ie.useState({}),[c,h]=ie.useState(!0);ie.useEffect(()=>{let p=0;const y=3,_=()=>{p++,p===y&&h(!1)},x=Hi(Bi,"Chemicals_Height"),S=yc(x,U=>{const Y=U.val();console.log("=== CHEMICAL DATA LOADING ==="),console.log("Raw data:",Y),e(Y&&typeof Y=="object"?Y:{}),_()},U=>{console.error("Error loading chemical data:",U),_()}),w=Hi(Bi,"Ecolifloods"),T=yc(w,U=>{const Y=U.val();console.log("=== ECOLIFLOODS DATA LOADING ==="),console.log("Raw data:",Y),s(Y&&typeof Y=="object"?Y:{}),_()},U=>{console.error("Error loading ecolifloods data:",U),_()}),R=Hi(Bi,"Heavy_Metals"),B=yc(R,U=>{const Y=U.val();console.log("=== HEAVY METALS DATA LOADING ==="),console.log("Raw data:",Y),r(Y&&typeof Y=="object"?Y:{}),_()},U=>{console.error("Error loading heavy metals data:",U),_()});return()=>{_c(x,"value",S),_c(w,"value",T),_c(R,"value",B)}},[]);const f=ie.useMemo(()=>{const p=q=>q&&typeof q=="object"&&!Array.isArray(q),y=[],_=[],x=[],S=new Map,w=new Map,T=["Al_g_L","Cd_g_L","Cu_g_L","Fe_g_L","Hg_g_L","Mn_g_L","Pb_g_L","Zn_g_L"],R={},B={},U=[],Y=[];Object.keys(n||{}).forEach(q=>{const K=n[q];Array.isArray(K)&&(B[q]||(B[q]={chlorophyll:[],nitrate:[],ecoli:[]}),K.forEach(($,te)=>{p($)&&Object.keys($).forEach(oe=>{const xe=$[oe];Array.isArray(xe)&&xe.forEach(Q=>{if(!p(Q))return;const k=Q.date||`${q}-${String(te+1).padStart(2,"0")}-${String(oe).padStart(2,"0")}`,G=new Date(k);if(Q.chl_ug_l_avg!=null&&!isNaN(Q.chl_ug_l_avg)){const J=Number(Q.chl_ug_l_avg);y.push({date:G,value:J,year:q}),B[q].chlorophyll.push(J)}if(Q.avg_nitrate!=null&&!isNaN(Q.avg_nitrate)){const J=Number(Q.avg_nitrate);_.push({date:G,value:J,year:q}),B[q].nitrate.push(J)}if(Q.avg_nitrit!=null&&!isNaN(Q.avg_nitrit)){const J=Number(Q.avg_nitrit);x.push({date:G,value:J,year:q})}})})}))}),y.sort((q,K)=>q.date-K.date),_.sort((q,K)=>q.date-K.date),Object.keys(t||{}).forEach(q=>{const K=t[q];Array.isArray(K)&&(B[q]||(B[q]={chlorophyll:[],nitrate:[],ecoli:[]}),K.forEach(($,te)=>{p($)&&Object.keys($).forEach(oe=>{const xe=$[oe];Array.isArray(xe)&&xe.forEach(Q=>{if(!p(Q))return;const k=Q.beach_name||Q.beach||"Unknown";if(Q.Ecoli!=null&&!isNaN(Q.Ecoli)){const G=Number(Q.Ecoli),J=S.get(k)||{values:[],count:0};J.values.push(G),J.count+=1,S.set(k,J),B[q].ecoli.push(G),U.push({date:Q.date||`${q}-${String(te+1).padStart(2,"0")}-${String(oe).padStart(2,"0")}`,ecoli:G,rainfall:Q.rainfall!=null?Number(Q.rainfall):null}),Y.push({date:Q.date||`${q}-${String(te+1).padStart(2,"0")}-${String(oe).padStart(2,"0")}`,ecoli:G,rainfall:Q.rainfall!=null?Number(Q.rainfall):null,temperature:Q.temperature!=null?Number(Q.temperature):null})}})})}))});const I=Array.from(S.entries()).map(([q,K])=>{const $=K.values.reduce((te,oe)=>te+oe,0)/K.values.length;return{beach:q,average:$,min:Math.min(...K.values),max:Math.max(...K.values),count:K.count}}).sort((q,K)=>K.average-q.average);Object.keys(l||{}).forEach(q=>{const K=Number(q),$=l[q];p($)&&Object.keys($).forEach(te=>{const oe=$[te];Array.isArray(oe)&&oe.forEach(xe=>{p(xe)&&Object.keys(xe).forEach(Q=>{const k=xe[Q];Array.isArray(k)&&k.forEach(G=>{p(G)&&T.forEach(J=>{if(G[J]!=null&&!isNaN(G[J])){const me=J.replace("_g_L",""),A=Number(G[J]),V=w.get(me)||{values:[],count:0};V.values.push(A),V.count+=1,w.set(me,V),R[me]||(R[me]={}),R[me][K]||(R[me][K]=[]),R[me][K].push(A)}})})})})})});const Z=Array.from(w.entries()).map(([q,K])=>{const $=K.values.reduce((te,oe)=>te+oe,0)/K.values.length;return{metal:q,average:$,min:Math.min(...K.values),max:Math.max(...K.values),count:K.count}}).sort((q,K)=>K.average-q.average),F=Z.map(q=>q.metal),W=Object.keys(B).sort().map(q=>{const K=B[q];return{year:q,chlorophyllAvg:K.chlorophyll.length>0?K.chlorophyll.reduce(($,te)=>$+te,0)/K.chlorophyll.length:0,nitrateAvg:K.nitrate.length>0?K.nitrate.reduce(($,te)=>$+te,0)/K.nitrate.length:0,ecoliAvg:K.ecoli.length>0?K.ecoli.reduce(($,te)=>$+te,0)/K.ecoli.length:0,sampleCount:K.chlorophyll.length+K.nitrate.length+K.ecoli.length}}).filter(q=>q.sampleCount>0);return console.log("[chartData] counts",{chlorophyll:y.length,nitrate:_.length,beaches:I.length,metals:Z.length,yearlyAverages:W.length}),{chlorophyll:y,nitrate:_,nitrite:x,beaches:I,metals:Z,metalList:F,perDepthMetal:R,yearlyAverages:W,ecoliFloods:U}},[n,t,l]),m=[{metal:"Cd",label:"Cadmium",threshold:.005},{metal:"Pb",label:"Lead",threshold:.01},{metal:"Hg",label:"Mercury",threshold:1},{metal:"Cu",label:"Copper",threshold:1},{metal:"Zn",label:"Zinc",threshold:10},{metal:"Fe",label:"Iron",threshold:300},{metal:"Mn",label:"Manganese",threshold:50},{metal:"Al",label:"Aluminum",threshold:200}].map(p=>{var _;const y=(_=f.metals)==null?void 0:_.find(x=>x.metal===p.metal);return{...p,value:y?y.average:0}});return{chartData:{...f,metalsThresholds:m},loading:c}},mk=({beaches:n})=>{if(!n||n.length===0)return b.createElement("div",{className:"text-center text-gray-500"},"No E.coli data available");const e=[...n].sort((c,h)=>h.average-c.average),t=e.map(c=>c.beach),s=e.map(c=>c.average),l={labels:t,datasets:[{label:"E.coli (CFU/100mL)",data:s,borderColor:"rgba(239,68,68,1)",backgroundColor:"rgba(239,68,68,0.2)",fill:!0,tension:.5,pointRadius:0}]},r={responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"E.coli Levels by Beach",font:{size:18}},tooltip:{callbacks:{label:function(c){return`${c.label}: ${c.parsed.y} CFU/100mL`}}}},scales:{x:{title:{display:!0,text:"Beach"},grid:{color:"rgba(59,130,246,0.1)"}},y:{title:{display:!0,text:"E.coli (CFU/100mL)"},grid:{color:"rgba(239,68,68,0.1)"}}}};return b.createElement("div",{className:"w-full"},b.createElement(Kd,{data:l,options:r}),b.createElement("div",{className:"mt-4 text-sm text-gray-600 text-center"},"This line chart shows average E.coli levels for each beach, with colored area for visual emphasis."))},gk=({metalsThresholds:n})=>{if(!n||n.length===0)return b.createElement("div",{className:"text-center text-gray-500"},"No heavy metals threshold data available");const e=n.map(h=>h.metal),t=n.map(h=>h.value),s=n.map(h=>h.threshold),l={labels:e,datasets:[{label:"Measured Value (g/L)",data:t,backgroundColor:t.map((h,f)=>h>s[f]?"rgba(239,68,68,0.7)":"rgba(34,197,94,0.7)"),borderColor:t.map((h,f)=>h>s[f]?"rgba(239,68,68,1)":"rgba(34,197,94,1)"),borderWidth:2},{label:"Safety Threshold (g/L)",data:s,backgroundColor:"rgba(59,130,246,0.5)",borderColor:"rgba(59,130,246,1)",borderWidth:2}]},r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12,family:"inherit",weight:"bold"},padding:12,boxWidth:16,color:"#374151"}},title:{display:!0,text:"Heavy Metals vs Safety Thresholds",font:{size:16,weight:"bold"},color:"#1e293b",padding:{top:10,bottom:10}},tooltip:{bodyFont:{size:12},callbacks:{label:function(h){return h.dataset.label==="Safety Threshold (g/L)"?`Threshold: ${h.parsed.y} g/L`:`Measured: ${h.parsed.y} g/L`}}}},scales:{y:{title:{display:!0,text:"Concentration (g/L)",font:{size:13,weight:"bold"}},ticks:{font:{size:11}},grid:{color:"rgba(239,68,68,0.1)"}},x:{title:{display:!0,text:"Metal",font:{size:13,weight:"bold"}},ticks:{font:{size:11}},grid:{color:"rgba(59,130,246,0.1)"}}}},c={Cd:"Cadmium (Cd): Toxic to kidneys and aquatic life. Safety threshold: 0.005 g/L.",Pb:"Lead (Pb): Affects nervous system, dangerous for children and wildlife. Safety threshold: 0.01 g/L.",Hg:"Mercury (Hg): Causes neurological and developmental problems. Safety threshold: 1 g/L.",Cu:"Copper (Cu): Can cause gastrointestinal distress and is toxic to fish. Safety threshold: 1 g/L.",Zn:"Zinc (Zn): Essential but toxic at high concentrations. Safety threshold: 10 g/L.",Fe:"Iron (Fe): Excess can affect taste and stain water, but is less toxic. Safety threshold: 300 g/L.",Mn:"Manganese (Mn): Can affect taste and stain water, high levels may be neurotoxic. Safety threshold: 50 g/L.",Al:"Aluminum (Al): Can be toxic to fish and affect water clarity. Safety threshold: 200 g/L."};return b.createElement("div",{className:"w-full px-2 sm:px-4 md:px-6"},b.createElement("div",{className:"w-full h-[22rem] sm:h-[26rem] md:h-[30rem]"},b.createElement($c,{data:l,options:r})),b.createElement("div",{className:"mt-4 text-xs sm:text-sm md:text-base text-gray-600 text-left break-words"},"Bars above the blue line exceed safety thresholds and may pose health risks. Green bars are safe, red bars are unsafe."),b.createElement("ul",{className:"mt-4 text-xs sm:text-sm md:text-base text-gray-700 text-left break-words"},n.map(h=>b.createElement("li",{key:h.metal,className:"mb-2"},b.createElement("b",{className:"font-semibold text-xs sm:text-sm md:text-base"},h.label)," ",b.createElement("span",{className:"font-mono"},"(",h.metal,")"),": ",c[h.metal]))))};Da.register(Cc,ro,Xl,Fv,Gd,qd);function pk(n=[]){const e={};n.forEach(r=>{const c=r.year||(r.date?new Date(r.date).getFullYear():null);c&&(e[c]||(e[c]={ecoli:[],flood:!1}),typeof r.Ecoli=="number"&&e[c].ecoli.push(r.Ecoli),r.flood_in_month===1&&(e[c].flood=!0))});const t=Object.keys(e).sort(),s=t.map(r=>{const c=e[r].ecoli;return c.length?c.reduce((h,f)=>h+f,0)/c.length:null}),l=t.map(r=>e[r].flood?1:0);return{labels:t,ecoliAverages:s,floodYears:l}}function yk(n){const e=[];return Object.keys(n||{}).forEach(t=>{const s=n[t];Array.isArray(s)&&s.forEach((l,r)=>{!l||typeof l!="object"||Object.keys(l).forEach(c=>{const h=l[c];Array.isArray(h)&&h.forEach(f=>{!f||typeof f!="object"||e.push({...f,year:Number(t),month:r+1,day:Number(c)})})})})}),e}const _k=()=>{const[n,e]=ie.useState([]);ie.useEffect(()=>{const p=Hi(Bi,"Ecolifloods"),y=_=>{const x=_.val(),S=yk(x);e(S)};return yc(p,y),()=>_c(p,"value",y)},[]);const{labels:t,ecoliAverages:s,floodYears:l}=pk(n),r=t.filter((p,y)=>l[y]),c=n.filter(p=>p.flood_in_month===1&&p.year&&p.month).map(p=>`${p.year}-${String(p.month).padStart(2,"0")}`),h=Array.from(new Set(c)),f={labels:t,datasets:[{label:"Avg E.coli",data:s,backgroundColor:l.map(p=>p?"rgba(255,99,132,0.7)":"rgba(54,162,235,0.5)"),borderColor:l.map(p=>p?"rgba(255,99,132,1)":"rgba(54,162,235,1)"),borderWidth:2}]},m={plugins:{title:{display:!0,text:"Yearly E.coli Levels (Flood Years Highlighted)"},legend:{display:!1},tooltip:{callbacks:{label:p=>{var y;return`E.coli: ${(y=p.parsed.y)==null?void 0:y.toFixed(1)}${l[p.dataIndex]?" (Flood)":""}`}}}},scales:{x:{title:{display:!0,text:"Year"}},y:{title:{display:!0,text:"Avg E.coli"},beginAtZero:!0}}};return b.createElement("div",{className:"w-full px-2 sm:px-4 md:px-6"},b.createElement("div",{className:"mb-2 text-center text-xs sm:text-sm md:text-base break-words"},b.createElement("span",{className:"font-semibold text-red-600"},"Flood Months:"),h.length>0?b.createElement("span",{className:"ml-2 text-red-500"},h.join(", ")):b.createElement("span",{className:"ml-2 text-gray-500"},"None")),b.createElement("div",{className:"mb-2 text-center text-xs sm:text-sm md:text-base break-words"},b.createElement("span",{className:"font-semibold text-red-600"},"Flood Years:"),r.length>0?b.createElement("span",{className:"ml-2 text-red-500"},r.join(", ")):b.createElement("span",{className:"ml-2 text-gray-500"},"None")),b.createElement("div",{className:"w-full h-[20rem] sm:h-[24rem] md:h-[28rem]"},b.createElement($c,{data:f,options:{...m,plugins:{...m.plugins,title:{...m.plugins.title,font:{size:16,weight:"bold"},color:"#1e293b",padding:{top:10,bottom:10}},legend:{...m.plugins.legend,labels:{font:{size:12,family:"inherit",weight:"bold"},padding:12,boxWidth:16,color:"#374151"}},tooltip:{...m.plugins.tooltip,bodyFont:{size:12}}},scales:{x:{...m.scales.x,title:{...m.scales.x.title,font:{size:13,weight:"bold"}},ticks:{font:{size:11},maxRotation:0,minRotation:0,autoSkip:!0}},y:{...m.scales.y,title:{...m.scales.y.title,font:{size:13,weight:"bold"}},ticks:{font:{size:11}}}}}})))};Da.register(Cc,ro,cd,Kl,Di,Xl,Fv,Gd,qd,kA);const bk=()=>{var h,f,m,p,y,_,x,S;const{chartData:n,loading:e}=dk(),[t,s]=ie.useState(!1),[l,r]=ie.useState("chemicals"),c=ie.useRef({});return ie.useEffect(()=>()=>{Object.values(c.current).forEach(w=>{if(w)try{w.destroy()}catch(T){console.log("Chart cleanup:",T)}})},[]),ie.useEffect(()=>{if(!t&&(n.chlorophyll.length||n.nitrate.length||n.beaches.length||n.metals.length)){const w=setTimeout(()=>s(!0),1200);return()=>clearTimeout(w)}},[n,t]),e?b.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center"},b.createElement("div",{className:"text-center"},b.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-500 mx-auto mb-4"}),b.createElement("h2",{className:"text-xl font-semibold text-gray-700 mb-2"},"Loading Environmental Data"))):b.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-6"},b.createElement("div",{className:"max-w-7xl mx-auto"},b.createElement("div",{className:"text-center mb-10"},b.createElement("h1",{className:"text-5xl font-bold text-blue-800 mb-3"}," EcoFish Analytics"),b.createElement("p",{className:"text-xl text-gray-600"},"Environmental Data Visualization Dashboard"),b.createElement("div",{className:"w-60 md:w-100 h-1 bg-gradient-to-r from-blue-500 via-cyan-400 to-green-500 mx-auto mt-4 rounded-full shadow-sm"})),l!=="ecoli"&&b.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10"},b.createElement("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-l-4 border-green-500 transform hover:scale-105 transition-transform"},b.createElement("div",{className:"flex items-center justify-between"},b.createElement("div",null,b.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},"Chemical Analysis"),b.createElement("p",{className:"text-4xl font-bold text-green-600"},(((h=n.chlorophyll)==null?void 0:h.length)||0)+(((f=n.nitrate)==null?void 0:f.length)||0)),b.createElement("p",{className:"text-gray-500 mt-1"},((m=n.chlorophyll)==null?void 0:m.length)||0," Chlorophyll + ",((p=n.nitrate)==null?void 0:p.length)||0," Nitrate samples")),b.createElement("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center"},b.createElement("span",{className:"text-3xl"},"")))),b.createElement("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-l-4 border-blue-500 transform hover:scale-105 transition-transform"},b.createElement("div",{className:"flex items-center justify-between"},b.createElement("div",null,b.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},"Bacterial Analysis"),b.createElement("p",{className:"text-4xl font-bold text-blue-600"},((y=n.beaches)==null?void 0:y.length)||0),b.createElement("p",{className:"text-gray-500 mt-1"},((_=n.beaches)==null?void 0:_.length)||0," beach monitoring locations")),b.createElement("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center"},b.createElement("span",{className:"text-3xl"},"")))),b.createElement("div",{className:"bg-white rounded-2xl shadow-xl p-8 border-l-4 border-red-500 transform hover:scale-105 transition-transform"},b.createElement("div",{className:"flex items-center justify-between"},b.createElement("div",null,b.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},"Heavy Metals"),b.createElement("p",{className:"text-4xl font-bold text-red-600"},((x=n.metals)==null?void 0:x.length)||0),b.createElement("p",{className:"text-gray-500 mt-1"},((S=n.metals)==null?void 0:S.length)||0," different metal types detected")),b.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center"},b.createElement("span",{className:"text-3xl"},""))))),b.createElement("div",{className:"mb-6 flex flex-wrap gap-3 justify-center"},[{id:"chemicals",label:"Chemicals"},{id:"ecoli",label:"E.coli Heatmap"},{id:"ecoliBeachLine",label:"E.coli Beach Line"},{id:"ecoliFloodYear",label:"E.coli vs Floods by Year"},{id:"metals",label:"Heavy Metals by Depth"},{id:"metalsThresholds",label:"Heavy Metals Thresholds"},{id:"yearly",label:"Yearly Trends"},{id:"scatter",label:"Correlation Scatter"},{id:"extremes",label:"Chemical Extremes"}].map(w=>b.createElement("button",{key:w.id,onClick:()=>r(w.id),className:`px-4 py-2 rounded-full border transition ${l===w.id?"bg-blue-600 text-white border-blue-700 shadow":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`},w.label))),b.createElement("div",{className:"bg-white rounded-2xl shadow-xl p-8"},l==="metalsThresholds"&&b.createElement(gk,{metalsThresholds:n.metalsThresholds||[]}),l==="chemicals"&&b.createElement(oN,{chartData:n,hasAnimated:t}),l==="yearly"&&b.createElement(uN,{chartData:n,hasAnimated:t}),l==="ecoli"&&b.createElement(rN,{chartData:n}),l==="ecoliBeachLine"&&b.createElement(mk,{beaches:n.beaches||[]}),l==="ecoliFloodYear"&&b.createElement(_k,{beaches:n.beaches||[]}),l==="metals"&&b.createElement(cN,{chartData:n,hasAnimated:t}),l==="scatter"&&b.createElement(uk,{chartData:n}),l==="extremes"&&b.createElement(fk,{chartData:n}))))};class vk{async getSerpApiKey(){if(this.serpApiKey)return this.serpApiKey;const e=Hi(Bi,"SERP_API"),t=await qc(e);if(t.exists())return this.serpApiKey=t.val(),this.serpApiKey;throw new Error("SerpAPI key not found in Firebase")}async getGeminiApiKey(){if(this.apiKey)return this.apiKey;const e=Hi(Bi,"GEMINI_API_KEY"),t=await qc(e);if(t.exists())return this.apiKey=t.val(),this.apiKey;throw new Error("Gemini API key not found in Firebase")}constructor(){this.apiKey=null,this.baseUrl="https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",this.pollutionData={"Heavy Metals":{overview:"Heavy metals accumulate in aquatic organisms and food chains, causing serious environmental and health risks. Concentrations vary by location and pollution source.",sources:["Industrial discharge from mining, manufacturing, and smelting","Agricultural runoff from pesticides and fertilizers","Urban stormwater from roads and surfaces","Atmospheric deposition from emissions","Natural weathering and erosion"],impacts:["Aquatic life toxicity and reproductive problems","Bioaccumulation up the food chain","Human health risks including neurological damage","Ecosystem disruption and biodiversity loss","Water treatment complications"],measurements:["Arsenic (As)","Cadmium (Cd)","Chromium (Cr)","Copper (Cu)","Lead (Pb)","Mercury (Hg)","Nickel (Ni)","Zinc (Zn)"]},"Heavy Metals Concentration":{overview:"Heavy metals accumulate in aquatic organisms and food chains, causing serious environmental and health risks. Concentrations vary by location and pollution source.",sources:["Industrial discharge from mining, manufacturing, and smelting","Agricultural runoff from pesticides and fertilizers","Urban stormwater from roads and surfaces","Atmospheric deposition from emissions","Natural weathering and erosion"],impacts:["Aquatic life toxicity and reproductive problems","Bioaccumulation up the food chain","Human health risks including neurological damage","Ecosystem disruption and biodiversity loss","Water treatment complications"],measurements:["Arsenic (As)","Cadmium (Cd)","Chromium (Cr)","Copper (Cu)","Lead (Pb)","Mercury (Hg)","Nickel (Ni)","Zinc (Zn)"]},"E.coli Bacterial Levels":{overview:"E.coli bacteria indicate fecal contamination in water, signaling sewage pollution and potential health hazards for aquatic life and humans.",sources:["Sewage overflow and treatment plant discharge","Animal waste from livestock operations","Urban runoff carrying pet waste","Failing septic systems and infrastructure","Wildlife and waterfowl contamination"],impacts:["Waterborne disease transmission","Beach and recreational area closures","Shellfish harvesting restrictions","Tourism and economic impact","Ecosystem health degradation"],measurements:["E. coli CFU/100ml","Total Coliform","Fecal Coliform","Enterococcus","Fecal Streptococcus","Turbidity levels","pH levels","Temperature"]},"Chemical Pollutants":{overview:"Synthetic and natural chemicals harm water quality and ecosystem health. These contaminants persist in the environment causing acute and chronic effects.",sources:["Industrial wastewater with solvents and acids","Agricultural pesticides and herbicides","Urban sewage and household products","Oil spills and petroleum runoff","Atmospheric chemical deposition"],impacts:["Acute toxicity to aquatic organisms","Endocrine disruption in fish","Carcinogenic effects on wildlife and humans","Food web and ecosystem disruption","Drinking water contamination"],measurements:["Total Organic Carbon (TOC)","Chemical Oxygen Demand (COD)","Petroleum Hydrocarbons","Pesticide Residues","Pharmaceutical Compounds","Volatile Organic Compounds (VOCs)","Polychlorinated Biphenyls (PCBs)","Dioxins and Furans"]},"Nutrient Overload":{overview:"Excess nutrients, particularly nitrogen and phosphorus, lead to eutrophication causing harmful algal blooms and oxygen depletion in aquatic ecosystems.",sources:["Agricultural fertilizer runoff","Urban lawn and garden fertilizers","Sewage treatment plant discharge","Animal feeding operations","Stormwater runoff"],impacts:["Harmful algal bloom formation","Oxygen depletion and hypoxia","Fish kills and marine life death","Degraded water quality for recreation","Ecosystem imbalance"],measurements:["Nitrates (NO3-)","Nitrites (NO2-)","Phosphates (PO4-)","Ammonia (NH3)","Chlorophyll-a","Dissolved Oxygen","Total Nitrogen","Total Phosphorus"]},"Bacterial Contamination":{overview:"Pathogenic bacteria pose immediate threats to water quality and public health. They indicate sewage pollution and can cause serious waterborne diseases.",sources:["Untreated sewage discharge","Agricultural animal waste runoff","Urban stormwater with pet waste","Failed septic systems","Wildlife and waterfowl"],impacts:["Waterborne diseases like cholera and typhoid","Beach and water body closures","Economic impact on tourism and fishing","Oxygen depletion in water bodies","Public health emergencies"],measurements:["E. coli","Total Coliform","Fecal Coliform","Enterococcus","Salmonella","Clostridium perfringens","Fecal Streptococcus","Heterotrophic Plate Count"]}}}async getApiKey(){return this.getGeminiApiKey()}async generatePollutionFactorData(e){console.log("Retrieving predefined data for:",e);const t=this.pollutionData[e];return t?(console.log("Found predefined data for:",e),t):(console.warn("No predefined data found for:",e),{overview:`Data for ${e} is being updated. Please check back later.`,sources:["Data being updated"],impacts:["Data being updated"],measurements:["Data being updated"]})}async chatWithBot(e,t=null){var c;const s=await this.getApiKey();let l="";t&&(l=`
      Current pollution factor context: ${t.title}
      Overview: ${((c=t.details)==null?void 0:c.overview)||"Loading..."}
      `);const r=`You are EcoFish AI, an expert water quality monitoring assistant specializing in the Kinneret (Sea of Galilee) ecosystem. 
    ${l}
    Please answer directly and concisely.
    User question: "${e}"
    
    Provide helpful, accurate responses about:
    - Kinneret (Sea of Galilee) water quality and monitoring
    - Environmental conditions in the Kinneret ecosystem
    - Water pollution factors affecting the Kinneret
    - Fish populations and aquatic life in the Kinneret
    - Water management and conservation in the Kinneret region
    - Environmental monitoring techniques used in the Kinneret
    - Historical and current environmental trends in the Kinneret
    
    Keep responses:
    - Conversational and friendly
    - Scientifically accurate about the Kinneret ecosystem
    - Under 200 words
    - Actionable when possible
    - Focused specifically on the Kinneret (Sea of Galilee)
    - Include relevant details about this unique freshwater lake ecosystem
    
    If the question is unrelated to the Kinneret or water quality monitoring, politely redirect to your expertise area focusing on the Kinneret ecosystem.`;try{console.log("Sending chat request to:",`${this.baseUrl}?key=${s.substring(0,10)}...`),console.log("Chat prompt:",r);const h=await fetch(`${this.baseUrl}?key=${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r}]}]})});if(console.log("Chat response status:",h.status),console.log("Chat response headers:",Object.fromEntries(h.headers.entries())),!h.ok){const p=await h.text();throw console.error("Chat API Error Response:",p),new Error(`AI chat request failed: ${h.status} - ${p}`)}const f=await h.json();if(console.log("Chat response data:",f),!f.candidates||!f.candidates[0]||!f.candidates[0].content)throw console.error("Invalid chat response structure:",f),new Error("Invalid response structure from AI API");return f.candidates[0].content.parts[0].text}catch(h){throw console.error("AI chat error details:",h),h.message.includes("403")?new Error("API key is invalid or has insufficient permissions. Please check your Gemini API key."):h.message.includes("429")?new Error("API rate limit exceeded. Please wait a moment and try again."):h.message.includes("400")?new Error("Invalid request format. The question might be too long or contain unsupported content."):h.message.includes("404")?new Error("API endpoint not found. There might be an issue with the Gemini API URL or your API key."):h}}async getQuickSuggestions(e=null){const t=["What's the current water quality status of the Kinneret?","How does pollution affect fish populations in the Kinneret?","What are the main environmental threats to the Kinneret?","How is the Kinneret water quality monitored?","What are normal vs concerning levels for the Kinneret?","How does the Kinneret ecosystem respond to pollution?","What conservation efforts protect the Kinneret?","How can communities help preserve the Kinneret water quality?"];return e?[...[`How does ${e.title.toLowerCase()} affect the Kinneret ecosystem?`,`What are the sources of ${e.title.toLowerCase()} in the Kinneret region?`,`How is ${e.title.toLowerCase()} monitored in the Kinneret?`],...t.slice(0,5)]:t}async testConnection(){try{const e=await this.getApiKey();console.log("=== API CONNECTION TEST ==="),console.log("API Key retrieved:",e?"Yes":"No"),console.log("API Key length:",e?e.length:0),console.log("API Key preview:",e?e.substring(0,10)+"...":"null"),console.log("Endpoint URL:",this.baseUrl);const t=await fetch(`${this.baseUrl}?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"Hello, this is a test message. Please respond with 'Test successful'."}]}]})});if(console.log("Test response status:",t.status),console.log("Test response headers:",Object.fromEntries(t.headers.entries())),!t.ok){const l=await t.text();return console.error("Test failed - Error response:",l),{success:!1,error:`${t.status}: ${l}`}}const s=await t.json();return console.log("Test successful - Response data:",s),console.log("=== END CONNECTION TEST ==="),{success:!0,response:s}}catch(e){return console.error("Test connection error:",e),console.log("=== CONNECTION TEST FAILED ==="),{success:!1,error:e.message}}}async testFirebaseConnection(){try{console.log("=== FIREBASE CONNECTION TEST ==="),this.apiKey=null,console.log("Cleared cached API key");const e=await this.getApiKey();return console.log("Firebase test results:"),console.log("- API Key retrieved:",e?"SUCCESS":"FAILED"),console.log("- Key length:",e?e.length:0),console.log("- Key format check:",e&&e.startsWith("AIza")?"VALID":"INVALID"),console.log("- Key preview:",e?e.substring(0,15)+"...":"null"),console.log("=== END FIREBASE TEST ==="),{success:!!e,apiKey:e?e.substring(0,15)+"...":null,length:e?e.length:0,validFormat:e&&e.startsWith("AIza")}}catch(e){return console.error("Firebase connection test failed:",e),console.log("=== FIREBASE TEST FAILED ==="),{success:!1,error:e.message}}}}const Jf=new vk,xk=({factor:n,onClick:e,getSeverityColor:t})=>b.createElement("div",{className:`group relative bg-gradient-to-br ${n.color} p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer transform hover:scale-105`,onClick:()=>e(n)},b.createElement("div",{className:"text-white"},b.createElement("div",{className:"flex items-center justify-between mb-4"},b.createElement("span",{className:"text-4xl"},n.icon),b.createElement("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t(n.severity)}`},n.severity.toUpperCase())),b.createElement("h3",{className:"text-2xl font-bold mb-3 tracking-tight"},n.title),b.createElement("p",{className:"text-white/95 text-base leading-relaxed font-light"},n.description),b.createElement("div",{className:"mt-6 flex items-center text-white/90 text-sm font-medium"},b.createElement("span",{className:"tracking-wide"},"Click to learn more"),b.createElement("svg",{className:"w-4 h-4 ml-2 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"}))))),Ek=({selectedFactor:n,onClose:e})=>n?b.createElement("div",{className:"relative bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl p-6 lg:p-8 border border-white/30 animate-in slide-in-from-bottom duration-500 overflow-hidden"},b.createElement("div",{className:"absolute inset-0 opacity-10"},b.createElement("div",{className:`absolute inset-0 bg-gradient-to-r ${n.color}`}),b.createElement("svg",{className:"absolute bottom-0 left-0 w-full h-32 animate-pulse",viewBox:"0 0 1200 120",preserveAspectRatio:"none"},b.createElement("path",{d:"M0,60 C150,120 350,0 600,60 C850,120 1050,0 1200,60 L1200,120 L0,120 Z",className:"fill-current text-blue-200 opacity-30"})),b.createElement("svg",{className:"absolute bottom-0 left-0 w-full h-24 animate-bounce",style:{animationDuration:"3s"},viewBox:"0 0 1200 120",preserveAspectRatio:"none"},b.createElement("path",{d:"M0,80 C200,40 400,100 600,80 C800,60 1000,100 1200,80 L1200,120 L0,120 Z",className:"fill-current text-cyan-300 opacity-20"}))),b.createElement("div",{className:"relative z-10"},b.createElement("div",{className:"flex items-start justify-between mb-8 gap-4"},b.createElement("div",{className:"flex-1 min-w-0"},b.createElement("h2",{className:`text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-extrabold bg-gradient-to-r ${n.color} bg-clip-text text-transparent tracking-tight leading-tight break-words`},n.cleanTitle)),b.createElement("div",{className:"flex gap-3"},b.createElement("button",{onClick:e,className:"flex-shrink-0 p-3 rounded-full bg-gradient-to-r from-red-400 to-pink-500 text-white hover:from-red-500 hover:to-pink-600 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105"},b.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))))),b.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8"},n.loading?b.createElement("div",{className:"col-span-2 text-center py-12"},b.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),b.createElement("p",{className:"text-gray-600 text-lg"},"Generating AI-powered analysis...")):n.details?b.createElement(b.Fragment,null,b.createElement("div",{className:"space-y-6"},b.createElement("div",null,b.createElement("h3",{className:"text-2xl font-bold text-gray-800 mb-4 tracking-tight"},"Overview"),b.createElement("p",{className:"text-gray-700 leading-relaxed font-light text-lg"},n.details.overview)),b.createElement("div",null,b.createElement("h3",{className:"text-2xl font-bold text-gray-800 mb-4 tracking-tight"},"Primary Sources"),b.createElement("ul",{className:"space-y-2"},n.details.sources.map((t,s)=>b.createElement("li",{key:s,className:"flex items-center text-gray-700 font-medium"},b.createElement("div",{className:"w-3 h-3 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full mr-4 shadow-sm"}),b.createElement("span",{className:"text-lg"},t)))))),b.createElement("div",{className:"space-y-6"},b.createElement("div",null,b.createElement("h3",{className:"text-2xl font-bold text-gray-800 mb-4 tracking-tight"},"Environmental Impacts"),b.createElement("ul",{className:"space-y-3"},n.details.impacts.map((t,s)=>b.createElement("li",{key:s,className:"flex items-center text-gray-700 font-medium"},b.createElement("div",{className:"w-3 h-3 bg-gradient-to-r from-red-500 to-orange-500 rounded-full mr-4 shadow-sm"}),b.createElement("span",{className:"text-lg"},t))))),b.createElement("div",null,b.createElement("h3",{className:"text-2xl font-bold text-gray-800 mb-4 tracking-tight"},"Monitored Parameters"),b.createElement("div",{className:"flex flex-wrap gap-3"},n.details.measurements.map((t,s)=>b.createElement("span",{key:s,className:"px-4 py-2 bg-gradient-to-r from-gray-100 to-gray-50 text-gray-800 rounded-full text-base font-semibold border border-gray-200 shadow-sm hover:shadow-md transition-shadow"},t)))))):null))):null,Sk=()=>b.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},b.createElement("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/30"},b.createElement("div",{className:"text-center"},b.createElement("div",{className:"text-4xl font-black text-red-600 tracking-wider"},"8"),b.createElement("div",{className:"text-gray-600 font-medium text-sm uppercase tracking-wide"},"Heavy Metals"))),b.createElement("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/30"},b.createElement("div",{className:"text-center"},b.createElement("div",{className:"text-4xl font-black text-green-600 tracking-wider"},"3"),b.createElement("div",{className:"text-gray-600 font-medium text-sm uppercase tracking-wide"},"Data Sources"))),b.createElement("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/30"},b.createElement("div",{className:"text-center"},b.createElement("div",{className:"text-3xl font-black text-blue-600 tracking-wide"},"Multi-Depth"),b.createElement("div",{className:"text-gray-600 font-medium text-sm uppercase tracking-wide"},"Sampling"))),b.createElement("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/30"},b.createElement("div",{className:"text-center"},b.createElement("div",{className:"text-4xl font-black text-purple-600 tracking-wider"},"Beach"),b.createElement("div",{className:"text-gray-600 font-medium text-sm uppercase tracking-wide"},"Locations")))),wk=({showChat:n,chatMessages:e,chatLoading:t,suggestions:s,userInput:l,setUserInput:r,handleChatSubmit:c,handleSuggestionClick:h,selectedFactor:f,setShowChat:m})=>n?b.createElement("div",{className:"absolute bottom-24 right-0 w-96 max-w-[calc(100vw-4rem)] bg-white rounded-2xl shadow-2xl border border-gray-200 mb-4 animate-in slide-in-from-bottom-2 duration-300"},b.createElement("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-t-2xl"},b.createElement("div",{className:"flex items-center"},b.createElement("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center mr-3"},b.createElement("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"}))),b.createElement("div",null,b.createElement("h3",{className:"font-bold text-sm"},"EcoFish AI Assistant"),b.createElement("p",{className:"text-xs text-white/80"},f==null?void 0:f.cleanTitle))),b.createElement("button",{onClick:()=>m(!1),className:"p-2 bg-gradient-to-r from-orange-400 to-red-500 hover:from-orange-500 hover:to-red-600 rounded-full transition-all duration-300 transform hover:scale-110 shadow-lg"},b.createElement("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})))),b.createElement("div",{className:"h-80 overflow-y-auto p-4 space-y-3"},e.map((p,y)=>b.createElement("div",{key:y,className:`flex ${p.type==="user"?"justify-end":"justify-start"}`},b.createElement("div",{className:`max-w-[80%] px-3 py-2 rounded-2xl ${p.type==="user"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-br-md":"bg-gray-100 text-gray-800 rounded-bl-md"}`},b.createElement("p",{className:"text-sm leading-relaxed"},p.content)))),t&&b.createElement("div",{className:"flex justify-start"},b.createElement("div",{className:"bg-gray-100 text-gray-800 px-3 py-2 rounded-2xl rounded-bl-md"},b.createElement("div",{className:"flex space-x-1"},b.createElement("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),b.createElement("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),b.createElement("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))),s.length>0&&b.createElement("div",{className:"px-4 pb-3"},b.createElement("p",{className:"text-xs text-gray-500 mb-2"},"Quick questions:"),b.createElement("div",{className:"flex flex-wrap gap-1"},s.slice(0,3).map((p,y)=>b.createElement("button",{key:y,onClick:()=>h(p),className:"text-xs px-2 py-1 bg-blue-50 text-blue-700 rounded-full hover:bg-blue-100 transition-colors border border-blue-200"},p.length>40?p.substring(0,40)+"...":p)))),b.createElement("div",{className:"p-4 border-t border-gray-200 bg-gray-50 rounded-b-2xl"},b.createElement("div",{className:"flex gap-2"},b.createElement("input",{type:"text",value:l,onChange:p=>r(p.target.value),onKeyPress:p=>p.key==="Enter"&&c(),placeholder:"Ask about the Kinneret...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",disabled:t}),b.createElement("button",{onClick:()=>c(),disabled:t||!l.trim(),className:"px-3 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 text-sm font-medium"},"Send")))):null,Ck=()=>{const[n,e]=ie.useState(null),[t,s]=ie.useState(!1),[l,r]=ie.useState({}),[c,h]=ie.useState([]),[f,m]=ie.useState(""),[p,y]=ie.useState(!1),[_,x]=ie.useState(!1),[S,w]=ie.useState([]),T=[{id:1,title:"Heavy Metals Concentration",cleanTitle:"Heavy Metals",icon:"",description:"Monitor toxic metal levels in water that can bioaccumulate in marine life",color:"from-red-500 via-red-600 to-red-700",severity:"high",details:{overview:"Heavy metals such as lead, mercury, and cadmium are toxic pollutants that can accumulate in aquatic organisms, causing serious health issues and disrupting the marine food chain.",dataSource:"Real-time water quality sensors and laboratory analysis",sources:["Industrial discharge and wastewater","Agricultural runoff with pesticides","Urban stormwater and street runoff","Mining activities and processing plants"],impacts:["Bioaccumulation in fish and marine life","Disruption of marine ecosystems","Human health risks through seafood consumption","Reduced biodiversity in affected areas"],measurements:["Lead (Pb)","Mercury (Hg)","Cadmium (Cd)","Chromium (Cr)","Copper (Cu)","Zinc (Zn)","Nickel (Ni)","Arsenic (As)"]}},{id:2,title:"E.coli Bacterial Levels",cleanTitle:"E.coli Bacteria",icon:"",description:"Track harmful bacterial contamination indicating sewage pollution",color:"from-orange-500 via-orange-600 to-red-600",severity:"high",details:{overview:"Escherichia coli (E.coli) serves as an indicator of fecal contamination in water bodies, signaling the presence of sewage and potential health hazards for both marine life and humans.",dataSource:"Bacterial culture analysis and rapid detection methods",sources:["Sewage overflow and treatment plant discharge","Animal waste from livestock operations","Urban runoff carrying pet waste","Failing septic systems and infrastructure"],impacts:["Waterborne disease transmission","Beach and recreational area closures","Shellfish harvesting restrictions","Tourism and economic impact"],measurements:["CFU count per 100ml","Coliform bacteria","Enterococcus levels"]}},{id:3,title:"Chemical Pollutants",cleanTitle:"Chemical Pollutants",icon:"",description:"Detect industrial chemicals and synthetic compounds in water",color:"from-purple-500 via-purple-600 to-indigo-600",severity:"medium",details:{overview:"Various industrial chemicals, pesticides, and synthetic compounds can contaminate water bodies, affecting marine ecosystems and posing long-term environmental and health risks.",dataSource:"Advanced spectroscopy and chromatography analysis",sources:["Industrial manufacturing processes","Agricultural pesticide application","Household chemical disposal","Pharmaceutical waste from healthcare"],impacts:["Endocrine disruption in marine species","Reduced reproductive success in fish","Contamination of food chain","Long-term ecosystem degradation"],measurements:["Pesticide residues","PCBs","PAHs","Pharmaceuticals","Plasticizers"]}},{id:4,title:"Nutrient Overload",cleanTitle:"Nutrient Pollution",icon:"",description:"Monitor excessive nutrients causing algal blooms and oxygen depletion",color:"from-green-500 via-teal-600 to-blue-600",severity:"medium",details:{overview:"Excess nutrients, particularly nitrogen and phosphorus, lead to eutrophication, causing harmful algal blooms, oxygen depletion, and disruption of aquatic ecosystems.",dataSource:"Continuous nutrient monitoring and satellite imagery",sources:["Agricultural fertilizer runoff","Urban lawn and garden fertilizers","Sewage treatment plant discharge","Animal feeding operations"],impacts:["Harmful algal bloom formation","Oxygen depletion (hypoxia)","Fish kills and marine life death","Degraded water quality for recreation"],measurements:["Nitrates","Nitrites","Phosphates","Ammonia","Chlorophyll-a"]}}],R=async F=>{if(l[F.id])return l[F.id];s(!0);try{const W=await Jf.generatePollutionFactorData(F.title),q={...l,[F.id]:W};return r(q),W}catch(W){return console.error("Failed to generate AI data:",W),F.details}finally{s(!1)}},B=async F=>{if((n==null?void 0:n.id)===F.id){e(null),x(!1),h([]);return}e({...F,details:null,loading:!0}),x(!1),h([]);const W=await R(F);e({...F,details:W,loading:!1});const q=await Jf.getQuickSuggestions(F);w(q)},U=async(F=f)=>{if(!F.trim())return;const W={type:"user",content:F,timestamp:Date.now()};h(q=>[...q,W]),m(""),y(!0);try{const K={type:"bot",content:await Jf.chatWithBot(F,n),timestamp:Date.now()};h($=>[...$,K])}catch(q){console.error("Chat error:",q);let K="Sorry, I had trouble processing your question. Please try again.";q.message.includes("API key")?K="There seems to be an issue with the API configuration. Please check the console for details.":q.message.includes("rate limit")?K="I'm receiving too many requests. Please wait a moment and try again.":q.message.includes("Invalid request")&&(K="Your question might be too long or contain unsupported content. Try rephrasing it.");const $={type:"bot",content:K,timestamp:Date.now()};h(te=>[...te,$])}finally{y(!1)}},Y=F=>{m(F),U(F)},I=async()=>{x(!_)},Z=F=>{switch(F){case"high":return"bg-red-100 text-red-800 border border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border border-yellow-200";case"low":return"bg-green-100 text-green-800 border border-green-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}};return b.createElement("div",{className:"min-h-screen relative overflow-hidden p-4 lg:p-6"},b.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-green-50 to-teal-50"},b.createElement("svg",{className:"absolute bottom-0 left-0 w-full h-96 animate-pulse opacity-30",viewBox:"0 0 1200 120",preserveAspectRatio:"none"},b.createElement("path",{d:"M0,60 C150,120 350,0 600,60 C850,120 1050,0 1200,60 L1200,120 L0,120 Z",className:"fill-current text-blue-300"})),b.createElement("svg",{className:"absolute bottom-0 left-0 w-full h-80 animate-bounce opacity-20",style:{animationDuration:"4s"},viewBox:"0 0 1200 120",preserveAspectRatio:"none"},b.createElement("path",{d:"M0,80 C200,40 400,100 600,80 C800,60 1000,100 1200,80 L1200,120 L0,120 Z",className:"fill-current text-teal-400"})),b.createElement("svg",{className:"absolute bottom-0 left-0 w-full h-64 animate-pulse opacity-25",style:{animationDuration:"6s"},viewBox:"0 0 1200 120",preserveAspectRatio:"none"},b.createElement("path",{d:"M0,40 C300,80 500,20 800,60 C900,80 1100,40 1200,60 L1200,120 L0,120 Z",className:"fill-current text-green-300"}))),b.createElement("div",{className:"relative z-10"},b.createElement("div",{className:"max-w-7xl mx-auto mb-8"},b.createElement("div",{className:"text-center mb-8 px-4"},b.createElement("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold bg-gradient-to-r from-blue-600 via-teal-600 to-green-600 bg-clip-text text-transparent mb-6 tracking-tight leading-tight"},"EcoFish Water Quality Investigation "),b.createElement("p",{className:"text-lg lg:text-xl text-gray-700 max-w-4xl mx-auto leading-relaxed font-light px-2"},"Real-time monitoring and analysis of key pollution factors affecting aquatic ecosystems through our comprehensive data collection system")),b.createElement(Sk,null)),b.createElement("div",{className:"max-w-7xl mx-auto"},b.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},T.map(F=>b.createElement(xk,{key:F.id,factor:F,onClick:B,getSeverityColor:Z}))),n&&b.createElement(Ek,{selectedFactor:n,onClose:()=>e(null)})),n&&b.createElement("div",{className:"fixed bottom-4 right-4 z-50"},b.createElement("button",{onClick:I,className:`w-20 h-20 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 active:animate-pulse ${_?"bg-gradient-to-r from-green-500 to-teal-600":"bg-gradient-to-r from-orange-500 to-pink-600 hover:shadow-orange-500/25"} border-4 border-white`},b.createElement("div",{className:"flex items-center justify-center w-full h-full text-white"},b.createElement("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})))),b.createElement(wk,{showChat:_,chatMessages:c,chatLoading:p,suggestions:S,userInput:f,setUserInput:m,handleChatSubmit:U,handleSuggestionClick:Y,selectedFactor:n,setShowChat:x}),!_&&c.length>0&&b.createElement("div",{className:"absolute -top-2 -right-2 w-7 h-7 bg-red-500 text-white text-sm rounded-full flex items-center justify-center animate-pulse font-bold"},c.filter(F=>F.type==="bot").length))))},Yn=["https://kids.gov.il/sababa/sababa_pool/images/water_kineret-tveria-marina_1.jpg","https://www.picshare.co.il/s_pictures/img128006.jpg","https://ynet-pic1.yit.co.il/picserver5/wcm_upload/2024/01/18/ry8IsexDta/8.jpg","https://media.istockphoto.com/id/898542012/photo/the-coast-of-the-sea-of-galilee-near-ein-eyov-waterfall-in-tabgha-israel.jpg?s=612x612&w=0&k=20&c=BVW5gTGip0NUEQGzK_GJlDqk-5cV1uTo_4ER4RSPvXs=","https://static-cdn.toi-media.com/www/uploads/2017/12/F1700423IH009-e1513122189152.jpg","https://ynet-pic1.yit.co.il/picserver6/wcm_upload/2025/08/17/rkHe11hkFxx/eb58b127_761b_4314_a75d_73576b8630ba.jpg","https://img.haarets.co.il/bs/0000017f-f242-d223-a97f-ffdf3ced0000/50/3e/bea2fb9ccb909b8d4fd936b46401/3732957139.jpg?precrop=2182,1267,x18,y71&width=420&height=244&cmsprod"],Tk=()=>{const[n,e]=ie.useState(0),[t,s]=ie.useState(!1),l=ie.useRef(null),r=ie.useRef(null),c=()=>{t||(s(!0),setTimeout(()=>{e(w=>(w+1)%Yn.length),s(!1)},100))},h=()=>{t||(s(!0),setTimeout(()=>{e(w=>(w-1+Yn.length)%Yn.length),s(!1)},100))},f=w=>{l.current=w.touches[0].clientX},m=w=>{r.current=w.touches[0].clientX},p=()=>{if(l.current===null||r.current===null)return;const w=l.current-r.current;w>50?c():w<-50&&h(),l.current=null,r.current=null},y=()=>{const w=(n-1+Yn.length)%Yn.length,T=(n+1)%Yn.length;return[w,n,T]},[_,x,S]=y();return b.createElement("div",{className:"w-full max-w-7xl mx-auto py-4"},b.createElement("div",{className:"relative h-[34rem] flex items-start justify-center overflow-visible perspective-1000",onTouchStart:f,onTouchMove:m,onTouchEnd:p},b.createElement("div",{className:`absolute left-20 top-12 cursor-pointer
            transition-all duration-700 ease-out hover:scale-110 hover:opacity-95
            ${t?"scale-75 opacity-40 blur-sm":"scale-95 opacity-80"}`,onClick:h,style:{width:"20rem",height:"24rem",transform:`rotateY(15deg) translateZ(-50px) ${t?"scale(0.75)":"scale(0.9)"}`,filter:"brightness(0.8) contrast(1.1)",zIndex:1}},b.createElement("img",{src:Yn[_],alt:`Image ${_+1} of Kinneret`,className:"w-full h-full object-cover rounded-2xl shadow-2xl",style:{boxShadow:"0 25px 50px rgba(0,0,0,0.25), 0 0 0 1px rgba(255,255,255,0.1)"}})),b.createElement("div",{className:`absolute left-[72%] top-[80%] transform -translate-x-1/2 -translate-y-1/2
            transition-all duration-700 ease-out
            ${t?"scale-98 opacity-90 drop-shadow-2xl":"scale-100 opacity-100 drop-shadow-2xl"}`,style:{width:"32rem",height:"24rem",zIndex:5,transform:`translate(-50%, -50%) ${t?"scale(0.95) rotateX(5deg)":"scale(1)"}`,filter:"brightness(1.05) saturate(1.1)"}},b.createElement("div",{className:"relative w-full h-full"},b.createElement("img",{src:Yn[x],alt:`Image ${x+1} of Kinneret`,className:"w-full h-full object-cover rounded-3xl shadow-2xl",style:{boxShadow:"0 40px 80px rgba(0,0,0,0.3), 0 0 0 1px rgba(255,255,255,0.2)"}}),b.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-white/5 rounded-3xl"}))),b.createElement("div",{className:`absolute right-20 top-12 cursor-pointer
            transition-all duration-700 ease-out hover:scale-110 hover:opacity-95
            ${t?"scale-75 opacity-40 blur-sm":"scale-95 opacity-80"}`,onClick:c,style:{width:"20rem",height:"24rem",transform:`rotateY(-15deg) translateZ(-50px) ${t?"scale(0.75)":"scale(0.9)"}`,filter:"brightness(0.8) contrast(1.1)",zIndex:1}},b.createElement("img",{src:Yn[S],alt:`Image ${S+1} of Kinneret`,className:"w-full h-full object-cover rounded-2xl shadow-2xl",style:{boxShadow:"0 25px 50px rgba(0,0,0,0.25), 0 0 0 1px rgba(255,255,255,0.1)"}})),b.createElement("button",{onClick:h,disabled:t,className:`absolute left-4 top-56 z-10\r
            w-12 h-12 bg-gradient-to-br from-blue-400/80 to-purple-400/80 backdrop-blur-sm rounded-full shadow-lg\r
            flex items-center justify-center transition-all duration-300\r
            hover:from-blue-500 hover:to-purple-500 hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed`,style:{backdropFilter:"blur(10px)"}},b.createElement("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"}))),b.createElement("button",{onClick:c,disabled:t,className:`absolute right-4 top-56 z-10\r
            w-12 h-12 bg-gradient-to-bl from-purple-400/80 to-blue-400/80 backdrop-blur-sm rounded-full shadow-lg\r
            flex items-center justify-center transition-all duration-300\r
            hover:from-purple-500 hover:to-blue-500 hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed`,style:{backdropFilter:"blur(10px)"}},b.createElement("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})))))},Ak=()=>{const[n,e]=ie.useState("home"),[t,s]=ie.useState([]),[l,r]=ie.useState([]),[c,h]=ie.useState(0),f=[{title:"HEAVY METALS",value:"Data not recently available",description:"Recent public monitoring hasn't published up-to-date figures for Hg, Pb etc. in surface water",color:"from-red-500 to-orange-500"},{title:"CHEMICAL LEVELS",value:"NO / N many mg/L (season-dependent)",description:"Nitrate concentrations fluctuate; lower in summer, higher after rains",color:"from-green-500 to-yellow-500"},{title:"SALINITY / CHLORIDE",value:"Increasing trend of chloride",description:"Salinity and chloride concentrations rising over time, contributing to water quality concerns",color:"from-purple-500 to-indigo-500"},{title:"NUTRIENT CONTENT (PHOSPHORUS & NITROGEN)",value:"Seasonally variable P & N",description:"Phosphorus partly from internal sources; nitrogen more from runoff; summer deficits in epilimnion",color:"from-orange-500 to-red-500"},{title:"WATER TEMPERATURE / THERMAL STRATIFICATION",value:"High in summer (~30C upper layers)",description:"Lake stratifies; lower hypolimnion becomes anoxic; affects nutrient release",color:"from-teal-500 to-green-500"}];ie.useEffect(()=>{const p=Array.from({length:50},(x,S)=>({id:S,x:Math.random()*100,y:Math.random()*70+15,size:Math.random()*25+8,speed:Math.random()*4+1,opacity:Math.random()*.9+.4,type:Math.random()>.3?"chemical":"sewage"}));s(p);const y=Array.from({length:20},(x,S)=>({id:S,x:Math.random()*90+5,y:Math.random()*60+20,size:Math.random()*60+30,intensity:Math.random()*.9+.5}));r(y);const _=setInterval(()=>{h(x=>(x+1)%f.length)},3e3);return()=>clearInterval(_)},[]);const m=()=>{switch(n){case"home":return b.createElement(Rw,{contaminants:t,algaeBloom:l,kinneretFacts:f,currentFact:c,setCurrentFact:h});case"ecoreport":return b.createElement(Ck,null);case"statistics":return b.createElement(bk,null);case"gallery":return b.createElement("div",null,b.createElement("h2",{className:"text-3xl font-bold text-purple-700 mb-4 text-center"},"Gallery"),b.createElement(Tk,null));case"pollutionEstimates":return b.createElement("div",{className:"text-center animate-fade-in"},b.createElement("h2",{className:"text-3xl font-bold text-red-700 mb-4"},"Pollution Estimates"),b.createElement("p",{className:"text-gray-600"},"Estimated pollution levels and risk factors for Kinneret."));case"download":return b.createElement("div",{className:"text-center animate-fade-in"},b.createElement("h2",{className:"text-3xl font-bold text-blue-700 mb-4"},"Download Data"),b.createElement("p",{className:"text-gray-600"},"Export or download environmental datasets for Kinneret."));default:return b.createElement("div",null,"Select a tab")}};return b.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-cyan-50 to-teal-50"},b.createElement(Tw,null),b.createElement(Aw,{activeTab:n,setActiveTab:e}),b.createElement("main",{className:"relative z-10 max-w-7xl mx-auto px-6 py-8"},b.createElement("div",{className:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl p-8 border border-white/30 transition-all duration-700"},m())))};aw.createRoot(document.getElementById("root")).render(b.createElement(b.StrictMode,null,b.createElement(Ak,null)));
